{
  "version": 3,
  "sources": ["../../echarts/lib/coord/cartesian/GridModel.js", "../../echarts/lib/coord/cartesian/AxisModel.js", "../../echarts/lib/coord/axisDefault.js", "../../echarts/lib/coord/axisCommonTypes.js", "../../echarts/lib/coord/axisModelCreator.js", "../../echarts/lib/coord/cartesian/Cartesian.js", "../../echarts/lib/coord/cartesian/Cartesian2D.js", "../../echarts/lib/coord/cartesian/Axis2D.js", "../../echarts/lib/coord/cartesian/cartesianAxisHelper.js", "../../echarts/lib/coord/axisAlignTicks.js", "../../echarts/lib/coord/cartesian/Grid.js", "../../echarts/lib/component/axis/AxisBuilder.js", "../../echarts/lib/component/axisPointer/modelHelper.js", "../../echarts/lib/component/axis/AxisView.js", "../../echarts/lib/component/axis/axisSplitHelper.js", "../../echarts/lib/component/axis/CartesianAxisView.js", "../../echarts/lib/component/grid/installSimple.js", "../../echarts/lib/coord/radar/RadarModel.js", "../../echarts/lib/component/radar/RadarView.js", "../../echarts/lib/coord/radar/IndicatorAxis.js", "../../echarts/lib/coord/radar/Radar.js", "../../echarts/lib/component/radar/install.js", "../../echarts/lib/coord/View.js", "../../zrender/lib/tool/parseXML.js", "../../zrender/lib/tool/parseSVG.js", "../../echarts/lib/coord/geo/GeoSVGResource.js", "../../echarts/lib/coord/geo/fix/nanhai.js", "../../echarts/lib/coord/geo/fix/textCoord.js", "../../echarts/lib/coord/geo/fix/diaoyuIsland.js", "../../echarts/lib/coord/geo/GeoJSONResource.js", "../../echarts/lib/coord/geo/geoSourceManager.js", "../../echarts/lib/coord/geo/Geo.js", "../../echarts/lib/coord/geo/geoCreator.js", "../../echarts/lib/coord/geo/GeoModel.js", "../../echarts/lib/action/roamHelper.js", "../../echarts/lib/component/helper/interactionMutex.js", "../../echarts/lib/component/helper/RoamController.js", "../../echarts/lib/component/helper/roamHelper.js", "../../echarts/lib/component/helper/cursorHelper.js", "../../echarts/lib/component/helper/MapDraw.js", "../../echarts/lib/component/geo/GeoView.js", "../../echarts/lib/component/geo/install.js", "../../echarts/lib/coord/parallel/parallelPreprocessor.js", "../../echarts/lib/component/parallel/ParallelView.js", "../../echarts/lib/coord/parallel/ParallelModel.js", "../../echarts/lib/coord/parallel/ParallelAxis.js", "../../echarts/lib/component/helper/sliderMove.js", "../../echarts/lib/coord/parallel/Parallel.js", "../../echarts/lib/coord/parallel/parallelCreator.js", "../../echarts/lib/coord/parallel/AxisModel.js", "../../echarts/lib/component/helper/BrushController.js", "../../echarts/lib/component/helper/brushHelper.js", "../../echarts/lib/component/axis/ParallelAxisView.js", "../../echarts/lib/component/axis/parallelAxisAction.js", "../../echarts/lib/component/parallel/install.js", "../../echarts/lib/chart/helper/labelHelper.js", "../../echarts/lib/chart/helper/Symbol.js", "../../echarts/lib/chart/helper/SymbolDraw.js", "../../echarts/lib/coord/CoordinateSystem.js", "../../echarts/lib/visual/VisualMapping.js", "../../echarts/lib/chart/helper/LinePath.js", "../../echarts/lib/chart/helper/Line.js", "../../echarts/lib/chart/helper/LineDraw.js", "../../echarts/lib/util/styleCompat.js", "../../echarts/lib/animation/customGraphicTransition.js", "../../echarts/lib/animation/customGraphicKeyframeAnimation.js"],
  "sourcesContent": ["\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport ComponentModel from '../../model/Component.js';\r\n\r\nvar GridModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(GridModel, _super);\r\n\r\n  function GridModel() {\r\n    return _super !== null && _super.apply(this, arguments) || this;\r\n  }\r\n\r\n  GridModel.type = 'grid';\r\n  GridModel.dependencies = ['xAxis', 'yAxis'];\r\n  GridModel.layoutMode = 'box';\r\n  GridModel.defaultOption = {\r\n    show: false,\r\n    // zlevel: 0,\r\n    z: 0,\r\n    left: '10%',\r\n    top: 60,\r\n    right: '10%',\r\n    bottom: 70,\r\n    // If grid size contain label\r\n    containLabel: false,\r\n    // width: {totalWidth} - left - right,\r\n    // height: {totalHeight} - top - bottom,\r\n    backgroundColor: 'rgba(0,0,0,0)',\r\n    borderWidth: 1,\r\n    borderColor: '#ccc'\r\n  };\r\n  return GridModel;\r\n}(ComponentModel);\r\n\r\nexport default GridModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport ComponentModel from '../../model/Component.js';\r\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\r\nimport { SINGLE_REFERRING } from '../../util/model.js';\r\n\r\nvar CartesianAxisModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(CartesianAxisModel, _super);\r\n\r\n  function CartesianAxisModel() {\r\n    return _super !== null && _super.apply(this, arguments) || this;\r\n  }\r\n\r\n  CartesianAxisModel.prototype.getCoordSysModel = function () {\r\n    return this.getReferringComponents('grid', SINGLE_REFERRING).models[0];\r\n  };\r\n\r\n  CartesianAxisModel.type = 'cartesian2dAxis';\r\n  return CartesianAxisModel;\r\n}(ComponentModel);\r\n\r\nexport { CartesianAxisModel };\r\nzrUtil.mixin(CartesianAxisModel, AxisModelCommonMixin);\r\nexport default CartesianAxisModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nvar defaultOption = {\r\n  show: true,\r\n  // zlevel: 0,\r\n  z: 0,\r\n  // Inverse the axis.\r\n  inverse: false,\r\n  // Axis name displayed.\r\n  name: '',\r\n  // 'start' | 'middle' | 'end'\r\n  nameLocation: 'end',\r\n  // By degree. By default auto rotate by nameLocation.\r\n  nameRotate: null,\r\n  nameTruncate: {\r\n    maxWidth: null,\r\n    ellipsis: '...',\r\n    placeholder: '.'\r\n  },\r\n  // Use global text style by default.\r\n  nameTextStyle: {},\r\n  // The gap between axisName and axisLine.\r\n  nameGap: 15,\r\n  // Default `false` to support tooltip.\r\n  silent: false,\r\n  // Default `false` to avoid legacy user event listener fail.\r\n  triggerEvent: false,\r\n  tooltip: {\r\n    show: false\r\n  },\r\n  axisPointer: {},\r\n  axisLine: {\r\n    show: true,\r\n    onZero: true,\r\n    onZeroAxisIndex: null,\r\n    lineStyle: {\r\n      color: '#6E7079',\r\n      width: 1,\r\n      type: 'solid'\r\n    },\r\n    // The arrow at both ends the the axis.\r\n    symbol: ['none', 'none'],\r\n    symbolSize: [10, 15]\r\n  },\r\n  axisTick: {\r\n    show: true,\r\n    // Whether axisTick is inside the grid or outside the grid.\r\n    inside: false,\r\n    // The length of axisTick.\r\n    length: 5,\r\n    lineStyle: {\r\n      width: 1\r\n    }\r\n  },\r\n  axisLabel: {\r\n    show: true,\r\n    // Whether axisLabel is inside the grid or outside the grid.\r\n    inside: false,\r\n    rotate: 0,\r\n    // true | false | null/undefined (auto)\r\n    showMinLabel: null,\r\n    // true | false | null/undefined (auto)\r\n    showMaxLabel: null,\r\n    margin: 8,\r\n    // formatter: null,\r\n    fontSize: 12\r\n  },\r\n  splitLine: {\r\n    show: true,\r\n    lineStyle: {\r\n      color: ['#E0E6F1'],\r\n      width: 1,\r\n      type: 'solid'\r\n    }\r\n  },\r\n  splitArea: {\r\n    show: false,\r\n    areaStyle: {\r\n      color: ['rgba(250,250,250,0.2)', 'rgba(210,219,238,0.2)']\r\n    }\r\n  }\r\n};\r\nvar categoryAxis = zrUtil.merge({\r\n  // The gap at both ends of the axis. For categoryAxis, boolean.\r\n  boundaryGap: true,\r\n  // Set false to faster category collection.\r\n  deduplication: null,\r\n  // splitArea: {\r\n  // show: false\r\n  // },\r\n  splitLine: {\r\n    show: false\r\n  },\r\n  axisTick: {\r\n    // If tick is align with label when boundaryGap is true\r\n    alignWithLabel: false,\r\n    interval: 'auto'\r\n  },\r\n  axisLabel: {\r\n    interval: 'auto'\r\n  }\r\n}, defaultOption);\r\nvar valueAxis = zrUtil.merge({\r\n  boundaryGap: [0, 0],\r\n  axisLine: {\r\n    // Not shown when other axis is categoryAxis in cartesian\r\n    show: 'auto'\r\n  },\r\n  axisTick: {\r\n    // Not shown when other axis is categoryAxis in cartesian\r\n    show: 'auto'\r\n  },\r\n  // TODO\r\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\r\n  splitNumber: 5,\r\n  minorTick: {\r\n    // Minor tick, not available for cateogry axis.\r\n    show: false,\r\n    // Split number of minor ticks. The value should be in range of (0, 100)\r\n    splitNumber: 5,\r\n    // Length of minor tick\r\n    length: 3,\r\n    // Line style\r\n    lineStyle: {// Default to be same with axisTick\r\n    }\r\n  },\r\n  minorSplitLine: {\r\n    show: false,\r\n    lineStyle: {\r\n      color: '#F4F7FD',\r\n      width: 1\r\n    }\r\n  }\r\n}, defaultOption);\r\nvar timeAxis = zrUtil.merge({\r\n  splitNumber: 6,\r\n  axisLabel: {\r\n    // To eliminate labels that are not nice\r\n    showMinLabel: false,\r\n    showMaxLabel: false,\r\n    rich: {\r\n      primary: {\r\n        fontWeight: 'bold'\r\n      }\r\n    }\r\n  },\r\n  splitLine: {\r\n    show: false\r\n  }\r\n}, valueAxis);\r\nvar logAxis = zrUtil.defaults({\r\n  logBase: 10\r\n}, valueAxis);\r\nexport default {\r\n  category: categoryAxis,\r\n  value: valueAxis,\r\n  time: timeAxis,\r\n  log: logAxis\r\n};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nexport var AXIS_TYPES = {\r\n  value: 1,\r\n  category: 1,\r\n  time: 1,\r\n  log: 1\r\n};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport axisDefault from './axisDefault.js';\r\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\r\nimport OrdinalMeta from '../data/OrdinalMeta.js';\r\nimport { AXIS_TYPES } from './axisCommonTypes.js';\r\nimport { each, merge } from 'zrender/lib/core/util.js';\r\n/**\r\n * Generate sub axis model class\r\n * @param axisName 'x' 'y' 'radius' 'angle' 'parallel' ...\r\n */\r\n\r\nexport default function axisModelCreator(registers, axisName, BaseAxisModelClass, extraDefaultOption) {\r\n  each(AXIS_TYPES, function (v, axisType) {\r\n    var defaultOption = merge(merge({}, axisDefault[axisType], true), extraDefaultOption, true);\r\n\r\n    var AxisModel =\r\n    /** @class */\r\n    function (_super) {\r\n      __extends(AxisModel, _super);\r\n\r\n      function AxisModel() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n        _this.type = axisName + 'Axis.' + axisType;\r\n        return _this;\r\n      }\r\n\r\n      AxisModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\r\n        var layoutMode = fetchLayoutMode(this);\r\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\r\n        var themeModel = ecModel.getTheme();\r\n        merge(option, themeModel.get(axisType + 'Axis'));\r\n        merge(option, this.getDefaultOption());\r\n        option.type = getAxisType(option);\r\n\r\n        if (layoutMode) {\r\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\r\n        }\r\n      };\r\n\r\n      AxisModel.prototype.optionUpdated = function () {\r\n        var thisOption = this.option;\r\n\r\n        if (thisOption.type === 'category') {\r\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\r\n        }\r\n      };\r\n      /**\r\n       * Should not be called before all of 'getInitailData' finished.\r\n       * Because categories are collected during initializing data.\r\n       */\r\n\r\n\r\n      AxisModel.prototype.getCategories = function (rawData) {\r\n        var option = this.option; // FIXME\r\n        // warning if called before all of 'getInitailData' finished.\r\n\r\n        if (option.type === 'category') {\r\n          if (rawData) {\r\n            return option.data;\r\n          }\r\n\r\n          return this.__ordinalMeta.categories;\r\n        }\r\n      };\r\n\r\n      AxisModel.prototype.getOrdinalMeta = function () {\r\n        return this.__ordinalMeta;\r\n      };\r\n\r\n      AxisModel.type = axisName + 'Axis.' + axisType;\r\n      AxisModel.defaultOption = defaultOption;\r\n      return AxisModel;\r\n    }(BaseAxisModelClass);\r\n\r\n    registers.registerComponentModel(AxisModel);\r\n  });\r\n  registers.registerSubTypeDefaulter(axisName + 'Axis', getAxisType);\r\n}\r\n\r\nfunction getAxisType(option) {\r\n  // Default axis with data is category axis\r\n  return option.type || (option.data ? 'category' : 'value');\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\n\r\nvar Cartesian =\r\n/** @class */\r\nfunction () {\r\n  function Cartesian(name) {\r\n    this.type = 'cartesian';\r\n    this._dimList = [];\r\n    this._axes = {};\r\n    this.name = name || '';\r\n  }\r\n\r\n  Cartesian.prototype.getAxis = function (dim) {\r\n    return this._axes[dim];\r\n  };\r\n\r\n  Cartesian.prototype.getAxes = function () {\r\n    return zrUtil.map(this._dimList, function (dim) {\r\n      return this._axes[dim];\r\n    }, this);\r\n  };\r\n\r\n  Cartesian.prototype.getAxesByScale = function (scaleType) {\r\n    scaleType = scaleType.toLowerCase();\r\n    return zrUtil.filter(this.getAxes(), function (axis) {\r\n      return axis.scale.type === scaleType;\r\n    });\r\n  };\r\n\r\n  Cartesian.prototype.addAxis = function (axis) {\r\n    var dim = axis.dim;\r\n    this._axes[dim] = axis;\r\n\r\n    this._dimList.push(dim);\r\n  };\r\n\r\n  return Cartesian;\r\n}();\r\n\r\n;\r\nexport default Cartesian;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nimport Cartesian from './Cartesian.js';\r\nimport { invert } from 'zrender/lib/core/matrix.js';\r\nimport { applyTransform } from 'zrender/lib/core/vector.js';\r\nexport var cartesian2DDimensions = ['x', 'y'];\r\n\r\nfunction canCalculateAffineTransform(scale) {\r\n  return scale.type === 'interval' || scale.type === 'time';\r\n}\r\n\r\nvar Cartesian2D =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(Cartesian2D, _super);\r\n\r\n  function Cartesian2D() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = 'cartesian2d';\r\n    _this.dimensions = cartesian2DDimensions;\r\n    return _this;\r\n  }\r\n  /**\r\n   * Calculate an affine transform matrix if two axes are time or value.\r\n   * It's mainly for accelartion on the large time series data.\r\n   */\r\n\r\n\r\n  Cartesian2D.prototype.calcAffineTransform = function () {\r\n    this._transform = this._invTransform = null;\r\n    var xAxisScale = this.getAxis('x').scale;\r\n    var yAxisScale = this.getAxis('y').scale;\r\n\r\n    if (!canCalculateAffineTransform(xAxisScale) || !canCalculateAffineTransform(yAxisScale)) {\r\n      return;\r\n    }\r\n\r\n    var xScaleExtent = xAxisScale.getExtent();\r\n    var yScaleExtent = yAxisScale.getExtent();\r\n    var start = this.dataToPoint([xScaleExtent[0], yScaleExtent[0]]);\r\n    var end = this.dataToPoint([xScaleExtent[1], yScaleExtent[1]]);\r\n    var xScaleSpan = xScaleExtent[1] - xScaleExtent[0];\r\n    var yScaleSpan = yScaleExtent[1] - yScaleExtent[0];\r\n\r\n    if (!xScaleSpan || !yScaleSpan) {\r\n      return;\r\n    } // Accelerate data to point calculation on the special large time series data.\r\n\r\n\r\n    var scaleX = (end[0] - start[0]) / xScaleSpan;\r\n    var scaleY = (end[1] - start[1]) / yScaleSpan;\r\n    var translateX = start[0] - xScaleExtent[0] * scaleX;\r\n    var translateY = start[1] - yScaleExtent[0] * scaleY;\r\n    var m = this._transform = [scaleX, 0, 0, scaleY, translateX, translateY];\r\n    this._invTransform = invert([], m);\r\n  };\r\n  /**\r\n   * Base axis will be used on stacking.\r\n   */\r\n\r\n\r\n  Cartesian2D.prototype.getBaseAxis = function () {\r\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\r\n  };\r\n\r\n  Cartesian2D.prototype.containPoint = function (point) {\r\n    var axisX = this.getAxis('x');\r\n    var axisY = this.getAxis('y');\r\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\r\n  };\r\n\r\n  Cartesian2D.prototype.containData = function (data) {\r\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\r\n  };\r\n\r\n  Cartesian2D.prototype.containZone = function (data1, data2) {\r\n    var zoneDiag1 = this.dataToPoint(data1);\r\n    var zoneDiag2 = this.dataToPoint(data2);\r\n    var area = this.getArea();\r\n    var zone = new BoundingRect(zoneDiag1[0], zoneDiag1[1], zoneDiag2[0] - zoneDiag1[0], zoneDiag2[1] - zoneDiag1[1]);\r\n    return area.intersect(zone);\r\n  };\r\n\r\n  Cartesian2D.prototype.dataToPoint = function (data, clamp, out) {\r\n    out = out || [];\r\n    var xVal = data[0];\r\n    var yVal = data[1]; // Fast path\r\n\r\n    if (this._transform // It's supported that if data is like `[Inifity, 123]`, where only Y pixel calculated.\r\n    && xVal != null && isFinite(xVal) && yVal != null && isFinite(yVal)) {\r\n      return applyTransform(out, data, this._transform);\r\n    }\r\n\r\n    var xAxis = this.getAxis('x');\r\n    var yAxis = this.getAxis('y');\r\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(xVal, clamp));\r\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(yVal, clamp));\r\n    return out;\r\n  };\r\n\r\n  Cartesian2D.prototype.clampData = function (data, out) {\r\n    var xScale = this.getAxis('x').scale;\r\n    var yScale = this.getAxis('y').scale;\r\n    var xAxisExtent = xScale.getExtent();\r\n    var yAxisExtent = yScale.getExtent();\r\n    var x = xScale.parse(data[0]);\r\n    var y = yScale.parse(data[1]);\r\n    out = out || [];\r\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\r\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\r\n    return out;\r\n  };\r\n\r\n  Cartesian2D.prototype.pointToData = function (point, clamp) {\r\n    var out = [];\r\n\r\n    if (this._invTransform) {\r\n      return applyTransform(out, point, this._invTransform);\r\n    }\r\n\r\n    var xAxis = this.getAxis('x');\r\n    var yAxis = this.getAxis('y');\r\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]), clamp);\r\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]), clamp);\r\n    return out;\r\n  };\r\n\r\n  Cartesian2D.prototype.getOtherAxis = function (axis) {\r\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\r\n  };\r\n  /**\r\n   * Get rect area of cartesian.\r\n   * Area will have a contain function to determine if a point is in the coordinate system.\r\n   */\r\n\r\n\r\n  Cartesian2D.prototype.getArea = function () {\r\n    var xExtent = this.getAxis('x').getGlobalExtent();\r\n    var yExtent = this.getAxis('y').getGlobalExtent();\r\n    var x = Math.min(xExtent[0], xExtent[1]);\r\n    var y = Math.min(yExtent[0], yExtent[1]);\r\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\r\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\r\n    return new BoundingRect(x, y, width, height);\r\n  };\r\n\r\n  return Cartesian2D;\r\n}(Cartesian);\r\n\r\n;\r\nexport default Cartesian2D;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport Axis from '../Axis.js';\r\n\r\nvar Axis2D =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(Axis2D, _super);\r\n\r\n  function Axis2D(dim, scale, coordExtent, axisType, position) {\r\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\r\n    /**\r\n     * Index of axis, can be used as key\r\n     * Injected outside.\r\n     */\r\n\r\n\r\n    _this.index = 0;\r\n    _this.type = axisType || 'value';\r\n    _this.position = position || 'bottom';\r\n    return _this;\r\n  }\r\n\r\n  Axis2D.prototype.isHorizontal = function () {\r\n    var position = this.position;\r\n    return position === 'top' || position === 'bottom';\r\n  };\r\n  /**\r\n   * Each item cooresponds to this.getExtent(), which\r\n   * means globalExtent[0] may greater than globalExtent[1],\r\n   * unless `asc` is input.\r\n   *\r\n   * @param {boolean} [asc]\r\n   * @return {Array.<number>}\r\n   */\r\n\r\n\r\n  Axis2D.prototype.getGlobalExtent = function (asc) {\r\n    var ret = this.getExtent();\r\n    ret[0] = this.toGlobalCoord(ret[0]);\r\n    ret[1] = this.toGlobalCoord(ret[1]);\r\n    asc && ret[0] > ret[1] && ret.reverse();\r\n    return ret;\r\n  };\r\n\r\n  Axis2D.prototype.pointToData = function (point, clamp) {\r\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\r\n  };\r\n  /**\r\n   * Set ordinalSortInfo\r\n   * @param info new OrdinalSortInfo\r\n   */\r\n\r\n\r\n  Axis2D.prototype.setCategorySortInfo = function (info) {\r\n    if (this.type !== 'category') {\r\n      return false;\r\n    }\r\n\r\n    this.model.option.categorySortInfo = info;\r\n    this.scale.setSortInfo(info);\r\n  };\r\n\r\n  return Axis2D;\r\n}(Axis);\r\n\r\nexport default Axis2D;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport { SINGLE_REFERRING } from '../../util/model.js';\r\n/**\r\n * Can only be called after coordinate system creation stage.\r\n * (Can be called before coordinate system update stage).\r\n */\r\n\r\nexport function layout(gridModel, axisModel, opt) {\r\n  opt = opt || {};\r\n  var grid = gridModel.coordinateSystem;\r\n  var axis = axisModel.axis;\r\n  var layout = {};\r\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\r\n  var rawAxisPosition = axis.position;\r\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\r\n  var axisDim = axis.dim;\r\n  var rect = grid.getRect();\r\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\r\n  var idx = {\r\n    left: 0,\r\n    right: 1,\r\n    top: 0,\r\n    bottom: 1,\r\n    onZero: 2\r\n  };\r\n  var axisOffset = axisModel.get('offset') || 0;\r\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\r\n\r\n  if (otherAxisOnZeroOf) {\r\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\r\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\r\n  } // Axis position\r\n\r\n\r\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\r\n\r\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\r\n\r\n  var dirMap = {\r\n    top: -1,\r\n    bottom: 1,\r\n    left: -1,\r\n    right: 1\r\n  };\r\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\r\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\r\n\r\n  if (axisModel.get(['axisTick', 'inside'])) {\r\n    layout.tickDirection = -layout.tickDirection;\r\n  }\r\n\r\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get(['axisLabel', 'inside']))) {\r\n    layout.labelDirection = -layout.labelDirection;\r\n  } // Special label rotation\r\n\r\n\r\n  var labelRotate = axisModel.get(['axisLabel', 'rotate']);\r\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\r\n\r\n  layout.z2 = 1;\r\n  return layout;\r\n}\r\nexport function isCartesian2DSeries(seriesModel) {\r\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\r\n}\r\nexport function findAxisModels(seriesModel) {\r\n  var axisModelMap = {\r\n    xAxisModel: null,\r\n    yAxisModel: null\r\n  };\r\n  zrUtil.each(axisModelMap, function (v, key) {\r\n    var axisType = key.replace(/Model$/, '');\r\n    var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (!axisModel) {\r\n        throw new Error(axisType + ' \"' + zrUtil.retrieve3(seriesModel.get(axisType + 'Index'), seriesModel.get(axisType + 'Id'), 0) + '\" not found');\r\n      }\r\n    }\r\n\r\n    axisModelMap[key] = axisModel;\r\n  });\r\n  return axisModelMap;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { getPrecisionSafe, round } from '../util/number.js';\r\nimport IntervalScale from '../scale/Interval.js';\r\nimport { getScaleExtent } from './axisHelper.js';\r\nimport { warn } from '../util/log.js';\r\nimport { increaseInterval, isValueNice } from '../scale/helper.js';\r\nvar mathLog = Math.log;\r\nexport function alignScaleTicks(scale, axisModel, alignToScale) {\r\n  var intervalScaleProto = IntervalScale.prototype; // NOTE: There is a precondition for log scale  here:\r\n  // In log scale we store _interval and _extent of exponent value.\r\n  // So if we use the method of InternalScale to set/get these data.\r\n  // It process the exponent value, which is linear and what we want here.\r\n\r\n  var alignToTicks = intervalScaleProto.getTicks.call(alignToScale);\r\n  var alignToNicedTicks = intervalScaleProto.getTicks.call(alignToScale, true);\r\n  var alignToSplitNumber = alignToTicks.length - 1;\r\n  var alignToInterval = intervalScaleProto.getInterval.call(alignToScale);\r\n  var scaleExtent = getScaleExtent(scale, axisModel);\r\n  var rawExtent = scaleExtent.extent;\r\n  var isMinFixed = scaleExtent.fixMin;\r\n  var isMaxFixed = scaleExtent.fixMax;\r\n\r\n  if (scale.type === 'log') {\r\n    var logBase = mathLog(scale.base);\r\n    rawExtent = [mathLog(rawExtent[0]) / logBase, mathLog(rawExtent[1]) / logBase];\r\n  }\r\n\r\n  scale.setExtent(rawExtent[0], rawExtent[1]);\r\n  scale.calcNiceExtent({\r\n    splitNumber: alignToSplitNumber,\r\n    fixMin: isMinFixed,\r\n    fixMax: isMaxFixed\r\n  });\r\n  var extent = intervalScaleProto.getExtent.call(scale); // Need to update the rawExtent.\r\n  // Because value in rawExtent may be not parsed. e.g. 'dataMin', 'dataMax'\r\n\r\n  if (isMinFixed) {\r\n    rawExtent[0] = extent[0];\r\n  }\r\n\r\n  if (isMaxFixed) {\r\n    rawExtent[1] = extent[1];\r\n  }\r\n\r\n  var interval = intervalScaleProto.getInterval.call(scale);\r\n  var min = rawExtent[0];\r\n  var max = rawExtent[1];\r\n\r\n  if (isMinFixed && isMaxFixed) {\r\n    // User set min, max, divide to get new interval\r\n    interval = (max - min) / alignToSplitNumber;\r\n  } else if (isMinFixed) {\r\n    max = rawExtent[0] + interval * alignToSplitNumber; // User set min, expand extent on the other side\r\n\r\n    while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1])) {\r\n      interval = increaseInterval(interval);\r\n      max = rawExtent[0] + interval * alignToSplitNumber;\r\n    }\r\n  } else if (isMaxFixed) {\r\n    // User set max, expand extent on the other side\r\n    min = rawExtent[1] - interval * alignToSplitNumber;\r\n\r\n    while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0])) {\r\n      interval = increaseInterval(interval);\r\n      min = rawExtent[1] - interval * alignToSplitNumber;\r\n    }\r\n  } else {\r\n    var nicedSplitNumber = scale.getTicks().length - 1;\r\n\r\n    if (nicedSplitNumber > alignToSplitNumber) {\r\n      interval = increaseInterval(interval);\r\n    }\r\n\r\n    var range = interval * alignToSplitNumber;\r\n    max = Math.ceil(rawExtent[1] / interval) * interval;\r\n    min = round(max - range); // Not change the result that crossing zero.\r\n\r\n    if (min < 0 && rawExtent[0] >= 0) {\r\n      min = 0;\r\n      max = round(range);\r\n    } else if (max > 0 && rawExtent[1] <= 0) {\r\n      max = 0;\r\n      min = -round(range);\r\n    }\r\n  } // Adjust min, max based on the extent of alignTo. When min or max is set in alignTo scale\r\n\r\n\r\n  var t0 = (alignToTicks[0].value - alignToNicedTicks[0].value) / alignToInterval;\r\n  var t1 = (alignToTicks[alignToSplitNumber].value - alignToNicedTicks[alignToSplitNumber].value) / alignToInterval; // NOTE: Must in setExtent -> setInterval -> setNiceExtent order.\r\n\r\n  intervalScaleProto.setExtent.call(scale, min + interval * t0, max + interval * t1);\r\n  intervalScaleProto.setInterval.call(scale, interval);\r\n\r\n  if (t0 || t1) {\r\n    intervalScaleProto.setNiceExtent.call(scale, min + interval, max - interval);\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    var ticks = intervalScaleProto.getTicks.call(scale);\r\n\r\n    if (ticks[1] && (!isValueNice(interval) || getPrecisionSafe(ticks[1].value) > getPrecisionSafe(interval))) {\r\n      warn( // eslint-disable-next-line\r\n      \"The ticks may be not readable when set min: \" + axisModel.get('min') + \", max: \" + axisModel.get('max') + \" and alignTicks: true\");\r\n    }\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n/**\r\n * Grid is a region which contains at most 4 cartesian systems\r\n *\r\n * TODO Default cartesian\r\n */\r\nimport { isObject, each, indexOf, retrieve3, keys } from 'zrender/lib/core/util.js';\r\nimport { getLayoutRect } from '../../util/layout.js';\r\nimport { createScaleByModel, ifAxisCrossZero, niceScaleExtent, estimateLabelUnionRect, getDataDimensionsOnAxis } from '../../coord/axisHelper.js';\r\nimport Cartesian2D, { cartesian2DDimensions } from './Cartesian2D.js';\r\nimport Axis2D from './Axis2D.js';\r\nimport { SINGLE_REFERRING } from '../../util/model.js';\r\nimport { isCartesian2DSeries, findAxisModels } from './cartesianAxisHelper.js';\r\nimport { isIntervalOrLogScale } from '../../scale/helper.js';\r\nimport { alignScaleTicks } from '../axisAlignTicks.js';\r\n\r\nvar Grid =\r\n/** @class */\r\nfunction () {\r\n  function Grid(gridModel, ecModel, api) {\r\n    // FIXME:TS where used (different from registered type 'cartesian2d')?\r\n    this.type = 'grid';\r\n    this._coordsMap = {};\r\n    this._coordsList = [];\r\n    this._axesMap = {};\r\n    this._axesList = [];\r\n    this.axisPointerEnabled = true;\r\n    this.dimensions = cartesian2DDimensions;\r\n\r\n    this._initCartesian(gridModel, ecModel, api);\r\n\r\n    this.model = gridModel;\r\n  }\r\n\r\n  Grid.prototype.getRect = function () {\r\n    return this._rect;\r\n  };\r\n\r\n  Grid.prototype.update = function (ecModel, api) {\r\n    var axesMap = this._axesMap;\r\n\r\n    this._updateScale(ecModel, this.model);\r\n\r\n    function updateAxisTicks(axes) {\r\n      var alignTo; // Axis is added in order of axisIndex.\r\n\r\n      var axesIndices = keys(axes);\r\n      var len = axesIndices.length;\r\n\r\n      if (!len) {\r\n        return;\r\n      }\r\n\r\n      var axisNeedsAlign = []; // Process once and calculate the ticks for those don't use alignTicks.\r\n\r\n      for (var i = len - 1; i >= 0; i--) {\r\n        var idx = +axesIndices[i]; // Convert to number.\r\n\r\n        var axis = axes[idx];\r\n        var model = axis.model;\r\n        var scale = axis.scale;\r\n\r\n        if ( // Only value and log axis without interval support alignTicks.\r\n        isIntervalOrLogScale(scale) && model.get('alignTicks') && model.get('interval') == null) {\r\n          axisNeedsAlign.push(axis);\r\n        } else {\r\n          niceScaleExtent(scale, model);\r\n\r\n          if (isIntervalOrLogScale(scale)) {\r\n            // Can only align to interval or log axis.\r\n            alignTo = axis;\r\n          }\r\n        }\r\n      }\r\n\r\n      ; // All axes has set alignTicks. Pick the first one.\r\n      // PENDING. Should we find the axis that both set interval, min, max and align to this one?\r\n\r\n      if (axisNeedsAlign.length) {\r\n        if (!alignTo) {\r\n          alignTo = axisNeedsAlign.pop();\r\n          niceScaleExtent(alignTo.scale, alignTo.model);\r\n        }\r\n\r\n        each(axisNeedsAlign, function (axis) {\r\n          alignScaleTicks(axis.scale, axis.model, alignTo.scale);\r\n        });\r\n      }\r\n    }\r\n\r\n    updateAxisTicks(axesMap.x);\r\n    updateAxisTicks(axesMap.y); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\r\n\r\n    var onZeroRecords = {};\r\n    each(axesMap.x, function (xAxis) {\r\n      fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\r\n    });\r\n    each(axesMap.y, function (yAxis) {\r\n      fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\r\n    }); // Resize again if containLabel is enabled\r\n    // FIXME It may cause getting wrong grid size in data processing stage\r\n\r\n    this.resize(this.model, api);\r\n  };\r\n  /**\r\n   * Resize the grid\r\n   */\r\n\r\n\r\n  Grid.prototype.resize = function (gridModel, api, ignoreContainLabel) {\r\n    var boxLayoutParams = gridModel.getBoxLayoutParams();\r\n    var isContainLabel = !ignoreContainLabel && gridModel.get('containLabel');\r\n    var gridRect = getLayoutRect(boxLayoutParams, {\r\n      width: api.getWidth(),\r\n      height: api.getHeight()\r\n    });\r\n    this._rect = gridRect;\r\n    var axesList = this._axesList;\r\n    adjustAxes(); // Minus label size\r\n\r\n    if (isContainLabel) {\r\n      each(axesList, function (axis) {\r\n        if (!axis.model.get(['axisLabel', 'inside'])) {\r\n          var labelUnionRect = estimateLabelUnionRect(axis);\r\n\r\n          if (labelUnionRect) {\r\n            var dim = axis.isHorizontal() ? 'height' : 'width';\r\n            var margin = axis.model.get(['axisLabel', 'margin']);\r\n            gridRect[dim] -= labelUnionRect[dim] + margin;\r\n\r\n            if (axis.position === 'top') {\r\n              gridRect.y += labelUnionRect.height + margin;\r\n            } else if (axis.position === 'left') {\r\n              gridRect.x += labelUnionRect.width + margin;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      adjustAxes();\r\n    }\r\n\r\n    each(this._coordsList, function (coord) {\r\n      // Calculate affine matrix to accelerate the data to point transform.\r\n      // If all the axes scales are time or value.\r\n      coord.calcAffineTransform();\r\n    });\r\n\r\n    function adjustAxes() {\r\n      each(axesList, function (axis) {\r\n        var isHorizontal = axis.isHorizontal();\r\n        var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\r\n        var idx = axis.inverse ? 1 : 0;\r\n        axis.setExtent(extent[idx], extent[1 - idx]);\r\n        updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\r\n      });\r\n    }\r\n  };\r\n\r\n  Grid.prototype.getAxis = function (dim, axisIndex) {\r\n    var axesMapOnDim = this._axesMap[dim];\r\n\r\n    if (axesMapOnDim != null) {\r\n      return axesMapOnDim[axisIndex || 0];\r\n    }\r\n  };\r\n\r\n  Grid.prototype.getAxes = function () {\r\n    return this._axesList.slice();\r\n  };\r\n\r\n  Grid.prototype.getCartesian = function (xAxisIndex, yAxisIndex) {\r\n    if (xAxisIndex != null && yAxisIndex != null) {\r\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\r\n      return this._coordsMap[key];\r\n    }\r\n\r\n    if (isObject(xAxisIndex)) {\r\n      yAxisIndex = xAxisIndex.yAxisIndex;\r\n      xAxisIndex = xAxisIndex.xAxisIndex;\r\n    }\r\n\r\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\r\n      if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\r\n        return coordList[i];\r\n      }\r\n    }\r\n  };\r\n\r\n  Grid.prototype.getCartesians = function () {\r\n    return this._coordsList.slice();\r\n  };\r\n  /**\r\n   * @implements\r\n   */\r\n\r\n\r\n  Grid.prototype.convertToPixel = function (ecModel, finder, value) {\r\n    var target = this._findConvertTarget(finder);\r\n\r\n    return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\r\n  };\r\n  /**\r\n   * @implements\r\n   */\r\n\r\n\r\n  Grid.prototype.convertFromPixel = function (ecModel, finder, value) {\r\n    var target = this._findConvertTarget(finder);\r\n\r\n    return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\r\n  };\r\n\r\n  Grid.prototype._findConvertTarget = function (finder) {\r\n    var seriesModel = finder.seriesModel;\r\n    var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\r\n    var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\r\n    var gridModel = finder.gridModel;\r\n    var coordsList = this._coordsList;\r\n    var cartesian;\r\n    var axis;\r\n\r\n    if (seriesModel) {\r\n      cartesian = seriesModel.coordinateSystem;\r\n      indexOf(coordsList, cartesian) < 0 && (cartesian = null);\r\n    } else if (xAxisModel && yAxisModel) {\r\n      cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\r\n    } else if (xAxisModel) {\r\n      axis = this.getAxis('x', xAxisModel.componentIndex);\r\n    } else if (yAxisModel) {\r\n      axis = this.getAxis('y', yAxisModel.componentIndex);\r\n    } // Lowest priority.\r\n    else if (gridModel) {\r\n        var grid = gridModel.coordinateSystem;\r\n\r\n        if (grid === this) {\r\n          cartesian = this._coordsList[0];\r\n        }\r\n      }\r\n\r\n    return {\r\n      cartesian: cartesian,\r\n      axis: axis\r\n    };\r\n  };\r\n  /**\r\n   * @implements\r\n   */\r\n\r\n\r\n  Grid.prototype.containPoint = function (point) {\r\n    var coord = this._coordsList[0];\r\n\r\n    if (coord) {\r\n      return coord.containPoint(point);\r\n    }\r\n  };\r\n  /**\r\n   * Initialize cartesian coordinate systems\r\n   */\r\n\r\n\r\n  Grid.prototype._initCartesian = function (gridModel, ecModel, api) {\r\n    var _this = this;\r\n\r\n    var grid = this;\r\n    var axisPositionUsed = {\r\n      left: false,\r\n      right: false,\r\n      top: false,\r\n      bottom: false\r\n    };\r\n    var axesMap = {\r\n      x: {},\r\n      y: {}\r\n    };\r\n    var axesCount = {\r\n      x: 0,\r\n      y: 0\r\n    }; // Create axis\r\n\r\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\r\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\r\n\r\n    if (!axesCount.x || !axesCount.y) {\r\n      // Roll back when there no either x or y axis\r\n      this._axesMap = {};\r\n      this._axesList = [];\r\n      return;\r\n    }\r\n\r\n    this._axesMap = axesMap; // Create cartesian2d\r\n\r\n    each(axesMap.x, function (xAxis, xAxisIndex) {\r\n      each(axesMap.y, function (yAxis, yAxisIndex) {\r\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\r\n        var cartesian = new Cartesian2D(key);\r\n        cartesian.master = _this;\r\n        cartesian.model = gridModel;\r\n        _this._coordsMap[key] = cartesian;\r\n\r\n        _this._coordsList.push(cartesian);\r\n\r\n        cartesian.addAxis(xAxis);\r\n        cartesian.addAxis(yAxis);\r\n      });\r\n    });\r\n\r\n    function createAxisCreator(dimName) {\r\n      return function (axisModel, idx) {\r\n        if (!isAxisUsedInTheGrid(axisModel, gridModel)) {\r\n          return;\r\n        }\r\n\r\n        var axisPosition = axisModel.get('position');\r\n\r\n        if (dimName === 'x') {\r\n          // Fix position\r\n          if (axisPosition !== 'top' && axisPosition !== 'bottom') {\r\n            // Default bottom of X\r\n            axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\r\n          }\r\n        } else {\r\n          // Fix position\r\n          if (axisPosition !== 'left' && axisPosition !== 'right') {\r\n            // Default left of Y\r\n            axisPosition = axisPositionUsed.left ? 'right' : 'left';\r\n          }\r\n        }\r\n\r\n        axisPositionUsed[axisPosition] = true;\r\n        var axis = new Axis2D(dimName, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\r\n        var isCategory = axis.type === 'category';\r\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\r\n        axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\r\n\r\n        axisModel.axis = axis; // Inject axisModel into axis\r\n\r\n        axis.model = axisModel; // Inject grid info axis\r\n\r\n        axis.grid = grid; // Index of axis, can be used as key\r\n\r\n        axis.index = idx;\r\n\r\n        grid._axesList.push(axis);\r\n\r\n        axesMap[dimName][idx] = axis;\r\n        axesCount[dimName]++;\r\n      };\r\n    }\r\n  };\r\n  /**\r\n   * Update cartesian properties from series.\r\n   */\r\n\r\n\r\n  Grid.prototype._updateScale = function (ecModel, gridModel) {\r\n    // Reset scale\r\n    each(this._axesList, function (axis) {\r\n      axis.scale.setExtent(Infinity, -Infinity);\r\n\r\n      if (axis.type === 'category') {\r\n        var categorySortInfo = axis.model.get('categorySortInfo');\r\n        axis.scale.setSortInfo(categorySortInfo);\r\n      }\r\n    });\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      if (isCartesian2DSeries(seriesModel)) {\r\n        var axesModelMap = findAxisModels(seriesModel);\r\n        var xAxisModel = axesModelMap.xAxisModel;\r\n        var yAxisModel = axesModelMap.yAxisModel;\r\n\r\n        if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {\r\n          return;\r\n        }\r\n\r\n        var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\r\n        var data = seriesModel.getData();\r\n        var xAxis = cartesian.getAxis('x');\r\n        var yAxis = cartesian.getAxis('y');\r\n        unionExtent(data, xAxis);\r\n        unionExtent(data, yAxis);\r\n      }\r\n    }, this);\r\n\r\n    function unionExtent(data, axis) {\r\n      each(getDataDimensionsOnAxis(data, axis.dim), function (dim) {\r\n        axis.scale.unionExtentFromData(data, dim);\r\n      });\r\n    }\r\n  };\r\n  /**\r\n   * @param dim 'x' or 'y' or 'auto' or null/undefined\r\n   */\r\n\r\n\r\n  Grid.prototype.getTooltipAxes = function (dim) {\r\n    var baseAxes = [];\r\n    var otherAxes = [];\r\n    each(this.getCartesians(), function (cartesian) {\r\n      var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\r\n      var otherAxis = cartesian.getOtherAxis(baseAxis);\r\n      indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\r\n      indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\r\n    });\r\n    return {\r\n      baseAxes: baseAxes,\r\n      otherAxes: otherAxes\r\n    };\r\n  };\r\n\r\n  Grid.create = function (ecModel, api) {\r\n    var grids = [];\r\n    ecModel.eachComponent('grid', function (gridModel, idx) {\r\n      var grid = new Grid(gridModel, ecModel, api);\r\n      grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\r\n      // should be performed in create stage.\r\n\r\n      grid.resize(gridModel, api, true);\r\n      gridModel.coordinateSystem = grid;\r\n      grids.push(grid);\r\n    }); // Inject the coordinateSystems into seriesModel\r\n\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      if (!isCartesian2DSeries(seriesModel)) {\r\n        return;\r\n      }\r\n\r\n      var axesModelMap = findAxisModels(seriesModel);\r\n      var xAxisModel = axesModelMap.xAxisModel;\r\n      var yAxisModel = axesModelMap.yAxisModel;\r\n      var gridModel = xAxisModel.getCoordSysModel();\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (!gridModel) {\r\n          throw new Error('Grid \"' + retrieve3(xAxisModel.get('gridIndex'), xAxisModel.get('gridId'), 0) + '\" not found');\r\n        }\r\n\r\n        if (xAxisModel.getCoordSysModel() !== yAxisModel.getCoordSysModel()) {\r\n          throw new Error('xAxis and yAxis must use the same grid');\r\n        }\r\n      }\r\n\r\n      var grid = gridModel.coordinateSystem;\r\n      seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\r\n    });\r\n    return grids;\r\n  }; // For deciding which dimensions to use when creating list data\r\n\r\n\r\n  Grid.dimensions = cartesian2DDimensions;\r\n  return Grid;\r\n}();\r\n/**\r\n * Check if the axis is used in the specified grid.\r\n */\r\n\r\n\r\nfunction isAxisUsedInTheGrid(axisModel, gridModel) {\r\n  return axisModel.getCoordSysModel() === gridModel;\r\n}\r\n\r\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis, // Key: see `getOnZeroRecordKey`\r\nonZeroRecords) {\r\n  axis.getAxesOnZeroOf = function () {\r\n    // TODO: onZero of multiple axes.\r\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\r\n  }; // onZero can not be enabled in these two situations:\r\n  // 1. When any other axis is a category axis.\r\n  // 2. When no axis is cross 0 point.\r\n\r\n\r\n  var otherAxes = axesMap[otherAxisDim];\r\n  var otherAxisOnZeroOf;\r\n  var axisModel = axis.model;\r\n  var onZero = axisModel.get(['axisLine', 'onZero']);\r\n  var onZeroAxisIndex = axisModel.get(['axisLine', 'onZeroAxisIndex']);\r\n\r\n  if (!onZero) {\r\n    return;\r\n  } // If target axis is specified.\r\n\r\n\r\n  if (onZeroAxisIndex != null) {\r\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\r\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\r\n    }\r\n  } else {\r\n    // Find the first available other axis.\r\n    for (var idx in otherAxes) {\r\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\r\n      // if both onZero, the two Y axes overlap.\r\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\r\n        otherAxisOnZeroOf = otherAxes[idx];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (otherAxisOnZeroOf) {\r\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\r\n  }\r\n\r\n  function getOnZeroRecordKey(axis) {\r\n    return axis.dim + '_' + axis.index;\r\n  }\r\n}\r\n\r\nfunction canOnZeroToAxis(axis) {\r\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\r\n}\r\n\r\nfunction updateAxisTransform(axis, coordBase) {\r\n  var axisExtent = axis.getExtent();\r\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\r\n\r\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\r\n    return coord + coordBase;\r\n  } : function (coord) {\r\n    return axisExtentSum - coord + coordBase;\r\n  };\r\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\r\n    return coord - coordBase;\r\n  } : function (coord) {\r\n    return axisExtentSum - coord + coordBase;\r\n  };\r\n}\r\n\r\nexport default Grid;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { retrieve, defaults, extend, each, isObject, map, isString, isNumber, isFunction } from 'zrender/lib/core/util.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport { getECData } from '../../util/innerStore.js';\r\nimport { createTextStyle } from '../../label/labelStyle.js';\r\nimport Model from '../../model/Model.js';\r\nimport { isRadianAroundZero, remRadian } from '../../util/number.js';\r\nimport { createSymbol, normalizeSymbolOffset } from '../../util/symbol.js';\r\nimport * as matrixUtil from 'zrender/lib/core/matrix.js';\r\nimport { applyTransform as v2ApplyTransform } from 'zrender/lib/core/vector.js';\r\nimport { shouldShowAllLabels } from '../../coord/axisHelper.js';\r\nimport { prepareLayoutList, hideOverlap } from '../../label/labelLayoutHelper.js';\r\nvar PI = Math.PI;\r\n/**\r\n * A final axis is translated and rotated from a \"standard axis\".\r\n * So opt.position and opt.rotation is required.\r\n *\r\n * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\r\n * for example: (0, 0) ------------> (0, 50)\r\n *\r\n * nameDirection or tickDirection or labelDirection is 1 means tick\r\n * or label is below the standard axis, whereas is -1 means above\r\n * the standard axis. labelOffset means offset between label and axis,\r\n * which is useful when 'onZero', where axisLabel is in the grid and\r\n * label in outside grid.\r\n *\r\n * Tips: like always,\r\n * positive rotation represents anticlockwise, and negative rotation\r\n * represents clockwise.\r\n * The direction of position coordinate is the same as the direction\r\n * of screen coordinate.\r\n *\r\n * Do not need to consider axis 'inverse', which is auto processed by\r\n * axis extent.\r\n */\r\n\r\nvar AxisBuilder =\r\n/** @class */\r\nfunction () {\r\n  function AxisBuilder(axisModel, opt) {\r\n    this.group = new graphic.Group();\r\n    this.opt = opt;\r\n    this.axisModel = axisModel; // Default value\r\n\r\n    defaults(opt, {\r\n      labelOffset: 0,\r\n      nameDirection: 1,\r\n      tickDirection: 1,\r\n      labelDirection: 1,\r\n      silent: true,\r\n      handleAutoShown: function () {\r\n        return true;\r\n      }\r\n    }); // FIXME Not use a separate text group?\r\n\r\n    var transformGroup = new graphic.Group({\r\n      x: opt.position[0],\r\n      y: opt.position[1],\r\n      rotation: opt.rotation\r\n    }); // this.group.add(transformGroup);\r\n    // this._transformGroup = transformGroup;\r\n\r\n    transformGroup.updateTransform();\r\n    this._transformGroup = transformGroup;\r\n  }\r\n\r\n  AxisBuilder.prototype.hasBuilder = function (name) {\r\n    return !!builders[name];\r\n  };\r\n\r\n  AxisBuilder.prototype.add = function (name) {\r\n    builders[name](this.opt, this.axisModel, this.group, this._transformGroup);\r\n  };\r\n\r\n  AxisBuilder.prototype.getGroup = function () {\r\n    return this.group;\r\n  };\r\n\r\n  AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\r\n    var rotationDiff = remRadian(textRotation - axisRotation);\r\n    var textAlign;\r\n    var textVerticalAlign;\r\n\r\n    if (isRadianAroundZero(rotationDiff)) {\r\n      // Label is parallel with axis line.\r\n      textVerticalAlign = direction > 0 ? 'top' : 'bottom';\r\n      textAlign = 'center';\r\n    } else if (isRadianAroundZero(rotationDiff - PI)) {\r\n      // Label is inverse parallel with axis line.\r\n      textVerticalAlign = direction > 0 ? 'bottom' : 'top';\r\n      textAlign = 'center';\r\n    } else {\r\n      textVerticalAlign = 'middle';\r\n\r\n      if (rotationDiff > 0 && rotationDiff < PI) {\r\n        textAlign = direction > 0 ? 'right' : 'left';\r\n      } else {\r\n        textAlign = direction > 0 ? 'left' : 'right';\r\n      }\r\n    }\r\n\r\n    return {\r\n      rotation: rotationDiff,\r\n      textAlign: textAlign,\r\n      textVerticalAlign: textVerticalAlign\r\n    };\r\n  };\r\n\r\n  AxisBuilder.makeAxisEventDataBase = function (axisModel) {\r\n    var eventData = {\r\n      componentType: axisModel.mainType,\r\n      componentIndex: axisModel.componentIndex\r\n    };\r\n    eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\r\n    return eventData;\r\n  };\r\n\r\n  AxisBuilder.isLabelSilent = function (axisModel) {\r\n    var tooltipOpt = axisModel.get('tooltip');\r\n    return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\r\n    || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\r\n  };\r\n\r\n  return AxisBuilder;\r\n}();\r\n\r\n;\r\nvar builders = {\r\n  axisLine: function (opt, axisModel, group, transformGroup) {\r\n    var shown = axisModel.get(['axisLine', 'show']);\r\n\r\n    if (shown === 'auto' && opt.handleAutoShown) {\r\n      shown = opt.handleAutoShown('axisLine');\r\n    }\r\n\r\n    if (!shown) {\r\n      return;\r\n    }\r\n\r\n    var extent = axisModel.axis.getExtent();\r\n    var matrix = transformGroup.transform;\r\n    var pt1 = [extent[0], 0];\r\n    var pt2 = [extent[1], 0];\r\n    var inverse = pt1[0] > pt2[0];\r\n\r\n    if (matrix) {\r\n      v2ApplyTransform(pt1, pt1, matrix);\r\n      v2ApplyTransform(pt2, pt2, matrix);\r\n    }\r\n\r\n    var lineStyle = extend({\r\n      lineCap: 'round'\r\n    }, axisModel.getModel(['axisLine', 'lineStyle']).getLineStyle());\r\n    var line = new graphic.Line({\r\n      shape: {\r\n        x1: pt1[0],\r\n        y1: pt1[1],\r\n        x2: pt2[0],\r\n        y2: pt2[1]\r\n      },\r\n      style: lineStyle,\r\n      strokeContainThreshold: opt.strokeContainThreshold || 5,\r\n      silent: true,\r\n      z2: 1\r\n    });\r\n    graphic.subPixelOptimizeLine(line.shape, line.style.lineWidth);\r\n    line.anid = 'line';\r\n    group.add(line);\r\n    var arrows = axisModel.get(['axisLine', 'symbol']);\r\n\r\n    if (arrows != null) {\r\n      var arrowSize = axisModel.get(['axisLine', 'symbolSize']);\r\n\r\n      if (isString(arrows)) {\r\n        // Use the same arrow for start and end point\r\n        arrows = [arrows, arrows];\r\n      }\r\n\r\n      if (isString(arrowSize) || isNumber(arrowSize)) {\r\n        // Use the same size for width and height\r\n        arrowSize = [arrowSize, arrowSize];\r\n      }\r\n\r\n      var arrowOffset = normalizeSymbolOffset(axisModel.get(['axisLine', 'symbolOffset']) || 0, arrowSize);\r\n      var symbolWidth_1 = arrowSize[0];\r\n      var symbolHeight_1 = arrowSize[1];\r\n      each([{\r\n        rotate: opt.rotation + Math.PI / 2,\r\n        offset: arrowOffset[0],\r\n        r: 0\r\n      }, {\r\n        rotate: opt.rotation - Math.PI / 2,\r\n        offset: arrowOffset[1],\r\n        r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\r\n      }], function (point, index) {\r\n        if (arrows[index] !== 'none' && arrows[index] != null) {\r\n          var symbol = createSymbol(arrows[index], -symbolWidth_1 / 2, -symbolHeight_1 / 2, symbolWidth_1, symbolHeight_1, lineStyle.stroke, true); // Calculate arrow position with offset\r\n\r\n          var r = point.r + point.offset;\r\n          var pt = inverse ? pt2 : pt1;\r\n          symbol.attr({\r\n            rotation: point.rotate,\r\n            x: pt[0] + r * Math.cos(opt.rotation),\r\n            y: pt[1] - r * Math.sin(opt.rotation),\r\n            silent: true,\r\n            z2: 11\r\n          });\r\n          group.add(symbol);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  axisTickLabel: function (opt, axisModel, group, transformGroup) {\r\n    var ticksEls = buildAxisMajorTicks(group, transformGroup, axisModel, opt);\r\n    var labelEls = buildAxisLabel(group, transformGroup, axisModel, opt);\r\n    fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\r\n    buildAxisMinorTicks(group, transformGroup, axisModel, opt.tickDirection); // This bit fixes the label overlap issue for the time chart.\r\n    // See https://github.com/apache/echarts/issues/14266 for more.\r\n\r\n    if (axisModel.get(['axisLabel', 'hideOverlap'])) {\r\n      var labelList = prepareLayoutList(map(labelEls, function (label) {\r\n        return {\r\n          label: label,\r\n          priority: label.z2,\r\n          defaultAttr: {\r\n            ignore: label.ignore\r\n          }\r\n        };\r\n      }));\r\n      hideOverlap(labelList);\r\n    }\r\n  },\r\n  axisName: function (opt, axisModel, group, transformGroup) {\r\n    var name = retrieve(opt.axisName, axisModel.get('name'));\r\n\r\n    if (!name) {\r\n      return;\r\n    }\r\n\r\n    var nameLocation = axisModel.get('nameLocation');\r\n    var nameDirection = opt.nameDirection;\r\n    var textStyleModel = axisModel.getModel('nameTextStyle');\r\n    var gap = axisModel.get('nameGap') || 0;\r\n    var extent = axisModel.axis.getExtent();\r\n    var gapSignal = extent[0] > extent[1] ? -1 : 1;\r\n    var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // Reuse labelOffset.\r\n    isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\r\n    var labelLayout;\r\n    var nameRotation = axisModel.get('nameRotate');\r\n\r\n    if (nameRotation != null) {\r\n      nameRotation = nameRotation * PI / 180; // To radian.\r\n    }\r\n\r\n    var axisNameAvailableWidth;\r\n\r\n    if (isNameLocationCenter(nameLocation)) {\r\n      labelLayout = AxisBuilder.innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\r\n      nameDirection);\r\n    } else {\r\n      labelLayout = endTextLayout(opt.rotation, nameLocation, nameRotation || 0, extent);\r\n      axisNameAvailableWidth = opt.axisNameAvailableWidth;\r\n\r\n      if (axisNameAvailableWidth != null) {\r\n        axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\r\n        !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\r\n      }\r\n    }\r\n\r\n    var textFont = textStyleModel.getFont();\r\n    var truncateOpt = axisModel.get('nameTruncate', true) || {};\r\n    var ellipsis = truncateOpt.ellipsis;\r\n    var maxWidth = retrieve(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth);\r\n    var textEl = new graphic.Text({\r\n      x: pos[0],\r\n      y: pos[1],\r\n      rotation: labelLayout.rotation,\r\n      silent: AxisBuilder.isLabelSilent(axisModel),\r\n      style: createTextStyle(textStyleModel, {\r\n        text: name,\r\n        font: textFont,\r\n        overflow: 'truncate',\r\n        width: maxWidth,\r\n        ellipsis: ellipsis,\r\n        fill: textStyleModel.getTextColor() || axisModel.get(['axisLine', 'lineStyle', 'color']),\r\n        align: textStyleModel.get('align') || labelLayout.textAlign,\r\n        verticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\r\n      }),\r\n      z2: 1\r\n    });\r\n    graphic.setTooltipConfig({\r\n      el: textEl,\r\n      componentModel: axisModel,\r\n      itemName: name\r\n    });\r\n    textEl.__fullText = name; // Id for animation\r\n\r\n    textEl.anid = 'name';\r\n\r\n    if (axisModel.get('triggerEvent')) {\r\n      var eventData = AxisBuilder.makeAxisEventDataBase(axisModel);\r\n      eventData.targetType = 'axisName';\r\n      eventData.name = name;\r\n      getECData(textEl).eventData = eventData;\r\n    } // FIXME\r\n\r\n\r\n    transformGroup.add(textEl);\r\n    textEl.updateTransform();\r\n    group.add(textEl);\r\n    textEl.decomposeTransform();\r\n  }\r\n};\r\n\r\nfunction endTextLayout(rotation, textPosition, textRotate, extent) {\r\n  var rotationDiff = remRadian(textRotate - rotation);\r\n  var textAlign;\r\n  var textVerticalAlign;\r\n  var inverse = extent[0] > extent[1];\r\n  var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\r\n\r\n  if (isRadianAroundZero(rotationDiff - PI / 2)) {\r\n    textVerticalAlign = onLeft ? 'bottom' : 'top';\r\n    textAlign = 'center';\r\n  } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {\r\n    textVerticalAlign = onLeft ? 'top' : 'bottom';\r\n    textAlign = 'center';\r\n  } else {\r\n    textVerticalAlign = 'middle';\r\n\r\n    if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {\r\n      textAlign = onLeft ? 'left' : 'right';\r\n    } else {\r\n      textAlign = onLeft ? 'right' : 'left';\r\n    }\r\n  }\r\n\r\n  return {\r\n    rotation: rotationDiff,\r\n    textAlign: textAlign,\r\n    textVerticalAlign: textVerticalAlign\r\n  };\r\n}\r\n\r\nfunction fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\r\n  if (shouldShowAllLabels(axisModel.axis)) {\r\n    return;\r\n  } // If min or max are user set, we need to check\r\n  // If the tick on min(max) are overlap on their neighbour tick\r\n  // If they are overlapped, we need to hide the min(max) tick label\r\n\r\n\r\n  var showMinLabel = axisModel.get(['axisLabel', 'showMinLabel']);\r\n  var showMaxLabel = axisModel.get(['axisLabel', 'showMaxLabel']); // FIXME\r\n  // Have not consider onBand yet, where tick els is more than label els.\r\n\r\n  labelEls = labelEls || [];\r\n  tickEls = tickEls || [];\r\n  var firstLabel = labelEls[0];\r\n  var nextLabel = labelEls[1];\r\n  var lastLabel = labelEls[labelEls.length - 1];\r\n  var prevLabel = labelEls[labelEls.length - 2];\r\n  var firstTick = tickEls[0];\r\n  var nextTick = tickEls[1];\r\n  var lastTick = tickEls[tickEls.length - 1];\r\n  var prevTick = tickEls[tickEls.length - 2];\r\n\r\n  if (showMinLabel === false) {\r\n    ignoreEl(firstLabel);\r\n    ignoreEl(firstTick);\r\n  } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\r\n    if (showMinLabel) {\r\n      ignoreEl(nextLabel);\r\n      ignoreEl(nextTick);\r\n    } else {\r\n      ignoreEl(firstLabel);\r\n      ignoreEl(firstTick);\r\n    }\r\n  }\r\n\r\n  if (showMaxLabel === false) {\r\n    ignoreEl(lastLabel);\r\n    ignoreEl(lastTick);\r\n  } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\r\n    if (showMaxLabel) {\r\n      ignoreEl(prevLabel);\r\n      ignoreEl(prevTick);\r\n    } else {\r\n      ignoreEl(lastLabel);\r\n      ignoreEl(lastTick);\r\n    }\r\n  }\r\n}\r\n\r\nfunction ignoreEl(el) {\r\n  el && (el.ignore = true);\r\n}\r\n\r\nfunction isTwoLabelOverlapped(current, next) {\r\n  // current and next has the same rotation.\r\n  var firstRect = current && current.getBoundingRect().clone();\r\n  var nextRect = next && next.getBoundingRect().clone();\r\n\r\n  if (!firstRect || !nextRect) {\r\n    return;\r\n  } // When checking intersect of two rotated labels, we use mRotationBack\r\n  // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\r\n\r\n\r\n  var mRotationBack = matrixUtil.identity([]);\r\n  matrixUtil.rotate(mRotationBack, mRotationBack, -current.rotation);\r\n  firstRect.applyTransform(matrixUtil.mul([], mRotationBack, current.getLocalTransform()));\r\n  nextRect.applyTransform(matrixUtil.mul([], mRotationBack, next.getLocalTransform()));\r\n  return firstRect.intersect(nextRect);\r\n}\r\n\r\nfunction isNameLocationCenter(nameLocation) {\r\n  return nameLocation === 'middle' || nameLocation === 'center';\r\n}\r\n\r\nfunction createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, anidPrefix) {\r\n  var tickEls = [];\r\n  var pt1 = [];\r\n  var pt2 = [];\r\n\r\n  for (var i = 0; i < ticksCoords.length; i++) {\r\n    var tickCoord = ticksCoords[i].coord;\r\n    pt1[0] = tickCoord;\r\n    pt1[1] = 0;\r\n    pt2[0] = tickCoord;\r\n    pt2[1] = tickEndCoord;\r\n\r\n    if (tickTransform) {\r\n      v2ApplyTransform(pt1, pt1, tickTransform);\r\n      v2ApplyTransform(pt2, pt2, tickTransform);\r\n    } // Tick line, Not use group transform to have better line draw\r\n\r\n\r\n    var tickEl = new graphic.Line({\r\n      shape: {\r\n        x1: pt1[0],\r\n        y1: pt1[1],\r\n        x2: pt2[0],\r\n        y2: pt2[1]\r\n      },\r\n      style: tickLineStyle,\r\n      z2: 2,\r\n      autoBatch: true,\r\n      silent: true\r\n    });\r\n    graphic.subPixelOptimizeLine(tickEl.shape, tickEl.style.lineWidth);\r\n    tickEl.anid = anidPrefix + '_' + ticksCoords[i].tickValue;\r\n    tickEls.push(tickEl);\r\n  }\r\n\r\n  return tickEls;\r\n}\r\n\r\nfunction buildAxisMajorTicks(group, transformGroup, axisModel, opt) {\r\n  var axis = axisModel.axis;\r\n  var tickModel = axisModel.getModel('axisTick');\r\n  var shown = tickModel.get('show');\r\n\r\n  if (shown === 'auto' && opt.handleAutoShown) {\r\n    shown = opt.handleAutoShown('axisTick');\r\n  }\r\n\r\n  if (!shown || axis.scale.isBlank()) {\r\n    return;\r\n  }\r\n\r\n  var lineStyleModel = tickModel.getModel('lineStyle');\r\n  var tickEndCoord = opt.tickDirection * tickModel.get('length');\r\n  var ticksCoords = axis.getTicksCoords();\r\n  var ticksEls = createTicks(ticksCoords, transformGroup.transform, tickEndCoord, defaults(lineStyleModel.getLineStyle(), {\r\n    stroke: axisModel.get(['axisLine', 'lineStyle', 'color'])\r\n  }), 'ticks');\r\n\r\n  for (var i = 0; i < ticksEls.length; i++) {\r\n    group.add(ticksEls[i]);\r\n  }\r\n\r\n  return ticksEls;\r\n}\r\n\r\nfunction buildAxisMinorTicks(group, transformGroup, axisModel, tickDirection) {\r\n  var axis = axisModel.axis;\r\n  var minorTickModel = axisModel.getModel('minorTick');\r\n\r\n  if (!minorTickModel.get('show') || axis.scale.isBlank()) {\r\n    return;\r\n  }\r\n\r\n  var minorTicksCoords = axis.getMinorTicksCoords();\r\n\r\n  if (!minorTicksCoords.length) {\r\n    return;\r\n  }\r\n\r\n  var lineStyleModel = minorTickModel.getModel('lineStyle');\r\n  var tickEndCoord = tickDirection * minorTickModel.get('length');\r\n  var minorTickLineStyle = defaults(lineStyleModel.getLineStyle(), defaults(axisModel.getModel('axisTick').getLineStyle(), {\r\n    stroke: axisModel.get(['axisLine', 'lineStyle', 'color'])\r\n  }));\r\n\r\n  for (var i = 0; i < minorTicksCoords.length; i++) {\r\n    var minorTicksEls = createTicks(minorTicksCoords[i], transformGroup.transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\r\n\r\n    for (var k = 0; k < minorTicksEls.length; k++) {\r\n      group.add(minorTicksEls[k]);\r\n    }\r\n  }\r\n}\r\n\r\nfunction buildAxisLabel(group, transformGroup, axisModel, opt) {\r\n  var axis = axisModel.axis;\r\n  var show = retrieve(opt.axisLabelShow, axisModel.get(['axisLabel', 'show']));\r\n\r\n  if (!show || axis.scale.isBlank()) {\r\n    return;\r\n  }\r\n\r\n  var labelModel = axisModel.getModel('axisLabel');\r\n  var labelMargin = labelModel.get('margin');\r\n  var labels = axis.getViewLabels(); // Special label rotate.\r\n\r\n  var labelRotation = (retrieve(opt.labelRotate, labelModel.get('rotate')) || 0) * PI / 180;\r\n  var labelLayout = AxisBuilder.innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\r\n  var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\r\n  var labelEls = [];\r\n  var silent = AxisBuilder.isLabelSilent(axisModel);\r\n  var triggerEvent = axisModel.get('triggerEvent');\r\n  each(labels, function (labelItem, index) {\r\n    var tickValue = axis.scale.type === 'ordinal' ? axis.scale.getRawOrdinalNumber(labelItem.tickValue) : labelItem.tickValue;\r\n    var formattedLabel = labelItem.formattedLabel;\r\n    var rawLabel = labelItem.rawLabel;\r\n    var itemLabelModel = labelModel;\r\n\r\n    if (rawCategoryData && rawCategoryData[tickValue]) {\r\n      var rawCategoryItem = rawCategoryData[tickValue];\r\n\r\n      if (isObject(rawCategoryItem) && rawCategoryItem.textStyle) {\r\n        itemLabelModel = new Model(rawCategoryItem.textStyle, labelModel, axisModel.ecModel);\r\n      }\r\n    }\r\n\r\n    var textColor = itemLabelModel.getTextColor() || axisModel.get(['axisLine', 'lineStyle', 'color']);\r\n    var tickCoord = axis.dataToCoord(tickValue);\r\n    var textEl = new graphic.Text({\r\n      x: tickCoord,\r\n      y: opt.labelOffset + opt.labelDirection * labelMargin,\r\n      rotation: labelLayout.rotation,\r\n      silent: silent,\r\n      z2: 10 + (labelItem.level || 0),\r\n      style: createTextStyle(itemLabelModel, {\r\n        text: formattedLabel,\r\n        align: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\r\n        verticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\r\n        fill: isFunction(textColor) ? textColor( // (1) In category axis with data zoom, tick is not the original\r\n        // index of axis.data. So tick should not be exposed to user\r\n        // in category axis.\r\n        // (2) Compatible with previous version, which always use formatted label as\r\n        // input. But in interval scale the formatted label is like '223,445', which\r\n        // maked user replace ','. So we modify it to return original val but remain\r\n        // it as 'string' to avoid error in replacing.\r\n        axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\r\n      })\r\n    });\r\n    textEl.anid = 'label_' + tickValue; // Pack data for mouse event\r\n\r\n    if (triggerEvent) {\r\n      var eventData = AxisBuilder.makeAxisEventDataBase(axisModel);\r\n      eventData.targetType = 'axisLabel';\r\n      eventData.value = rawLabel;\r\n      eventData.tickIndex = index;\r\n\r\n      if (axis.type === 'category') {\r\n        eventData.dataIndex = tickValue;\r\n      }\r\n\r\n      getECData(textEl).eventData = eventData;\r\n    } // FIXME\r\n\r\n\r\n    transformGroup.add(textEl);\r\n    textEl.updateTransform();\r\n    labelEls.push(textEl);\r\n    group.add(textEl);\r\n    textEl.decomposeTransform();\r\n  });\r\n  return labelEls;\r\n}\r\n\r\nexport default AxisBuilder;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport Model from '../../model/Model.js';\r\nimport { each, curry, clone, defaults, isArray, indexOf } from 'zrender/lib/core/util.js'; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\r\n// allAxesInfo should be updated when setOption performed.\r\n\r\nexport function collect(ecModel, api) {\r\n  var result = {\r\n    /**\r\n     * key: makeKey(axis.model)\r\n     * value: {\r\n     *      axis,\r\n     *      coordSys,\r\n     *      axisPointerModel,\r\n     *      triggerTooltip,\r\n     *      involveSeries,\r\n     *      snap,\r\n     *      seriesModels,\r\n     *      seriesDataCount\r\n     * }\r\n     */\r\n    axesInfo: {},\r\n    seriesInvolved: false,\r\n\r\n    /**\r\n     * key: makeKey(coordSys.model)\r\n     * value: Object: key makeKey(axis.model), value: axisInfo\r\n     */\r\n    coordSysAxesInfo: {},\r\n    coordSysMap: {}\r\n  };\r\n  collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\r\n\r\n  result.seriesInvolved && collectSeriesInfo(result, ecModel);\r\n  return result;\r\n}\r\n\r\nfunction collectAxesInfo(result, ecModel, api) {\r\n  var globalTooltipModel = ecModel.getComponent('tooltip');\r\n  var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\r\n\r\n  var linksOption = globalAxisPointerModel.get('link', true) || [];\r\n  var linkGroups = []; // Collect axes info.\r\n\r\n  each(api.getCoordinateSystems(), function (coordSys) {\r\n    // Some coordinate system do not support axes, like geo.\r\n    if (!coordSys.axisPointerEnabled) {\r\n      return;\r\n    }\r\n\r\n    var coordSysKey = makeKey(coordSys.model);\r\n    var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\r\n    result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convenient way to show axisPointer\r\n    // for user. So we enable setting tooltip on coordSys model.\r\n\r\n    var coordSysModel = coordSys.model;\r\n    var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\r\n    each(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\r\n    // Notice this case: coordSys is `grid` but not `cartesian2D` here.\r\n\r\n    if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\r\n    // show but axisPointer will show as normal.\r\n    && baseTooltipModel.get('show')) {\r\n      // Compatible with previous logic. But series.tooltip.trigger: 'axis'\r\n      // or series.data[n].tooltip.trigger: 'axis' are not support any more.\r\n      var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\r\n      var cross = baseTooltipModel.get(['axisPointer', 'type']) === 'cross';\r\n      var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get(['axisPointer', 'axis']));\r\n\r\n      if (triggerAxis || cross) {\r\n        each(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\r\n      }\r\n\r\n      if (cross) {\r\n        each(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, 'cross', false));\r\n      }\r\n    } // fromTooltip: true | false | 'cross'\r\n    // triggerTooltip: true | false | null\r\n\r\n\r\n    function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\r\n      var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\r\n      var axisPointerShow = axisPointerModel.get('show');\r\n\r\n      if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\r\n        return;\r\n      }\r\n\r\n      if (triggerTooltip == null) {\r\n        triggerTooltip = axisPointerModel.get('triggerTooltip');\r\n      }\r\n\r\n      axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\r\n      var snap = axisPointerModel.get('snap');\r\n      var axisKey = makeKey(axis.model);\r\n      var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\r\n\r\n      var axisInfo = result.axesInfo[axisKey] = {\r\n        key: axisKey,\r\n        axis: axis,\r\n        coordSys: coordSys,\r\n        axisPointerModel: axisPointerModel,\r\n        triggerTooltip: triggerTooltip,\r\n        involveSeries: involveSeries,\r\n        snap: snap,\r\n        useHandle: isHandleTrigger(axisPointerModel),\r\n        seriesModels: [],\r\n        linkGroup: null\r\n      };\r\n      axesInfoInCoordSys[axisKey] = axisInfo;\r\n      result.seriesInvolved = result.seriesInvolved || involveSeries;\r\n      var groupIndex = getLinkGroupIndex(linksOption, axis);\r\n\r\n      if (groupIndex != null) {\r\n        var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\r\n          axesInfo: {}\r\n        });\r\n        linkGroup.axesInfo[axisKey] = axisInfo;\r\n        linkGroup.mapper = linksOption[groupIndex].mapper;\r\n        axisInfo.linkGroup = linkGroup;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\r\n  var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\r\n  var fields = ['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'];\r\n  var volatileOption = {};\r\n  each(fields, function (field) {\r\n    volatileOption[field] = clone(tooltipAxisPointerModel.get(field));\r\n  }); // category axis do not auto snap, otherwise some tick that do not\r\n  // has value can not be hovered. value/time/log axis default snap if\r\n  // triggered from tooltip and trigger tooltip.\r\n\r\n  volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatible with previous behavior, tooltip axis does not show label by default.\r\n  // Only these properties can be overridden from tooltip to axisPointer.\r\n\r\n  if (tooltipAxisPointerModel.get('type') === 'cross') {\r\n    volatileOption.type = 'line';\r\n  }\r\n\r\n  var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\r\n\r\n  labelOption.show == null && (labelOption.show = false);\r\n\r\n  if (fromTooltip === 'cross') {\r\n    // When 'cross', both axes show labels.\r\n    var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get(['label', 'show']);\r\n    labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true; // If triggerTooltip, this is a base axis, which should better not use cross style\r\n    // (cross style is dashed by default)\r\n\r\n    if (!triggerTooltip) {\r\n      var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\r\n      crossStyle && defaults(labelOption, crossStyle.textStyle);\r\n    }\r\n  }\r\n\r\n  return axis.model.getModel('axisPointer', new Model(volatileOption, globalAxisPointerModel, ecModel));\r\n}\r\n\r\nfunction collectSeriesInfo(result, ecModel) {\r\n  // Prepare data for axis trigger\r\n  ecModel.eachSeries(function (seriesModel) {\r\n    // Notice this case: this coordSys is `cartesian2D` but not `grid`.\r\n    var coordSys = seriesModel.coordinateSystem;\r\n    var seriesTooltipTrigger = seriesModel.get(['tooltip', 'trigger'], true);\r\n    var seriesTooltipShow = seriesModel.get(['tooltip', 'show'], true);\r\n\r\n    if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get(['axisPointer', 'show'], true) === false) {\r\n      return;\r\n    }\r\n\r\n    each(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\r\n      var axis = axisInfo.axis;\r\n\r\n      if (coordSys.getAxis(axis.dim) === axis) {\r\n        axisInfo.seriesModels.push(seriesModel);\r\n        axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\r\n        axisInfo.seriesDataCount += seriesModel.getData().count();\r\n      }\r\n    });\r\n  });\r\n}\r\n/**\r\n * For example:\r\n * {\r\n *     axisPointer: {\r\n *         links: [{\r\n *             xAxisIndex: [2, 4],\r\n *             yAxisIndex: 'all'\r\n *         }, {\r\n *             xAxisId: ['a5', 'a7'],\r\n *             xAxisName: 'xxx'\r\n *         }]\r\n *     }\r\n * }\r\n */\r\n\r\n\r\nfunction getLinkGroupIndex(linksOption, axis) {\r\n  var axisModel = axis.model;\r\n  var dim = axis.dim;\r\n\r\n  for (var i = 0; i < linksOption.length; i++) {\r\n    var linkOption = linksOption[i] || {};\r\n\r\n    if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nfunction checkPropInLink(linkPropValue, axisPropValue) {\r\n  return linkPropValue === 'all' || isArray(linkPropValue) && indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\r\n}\r\n\r\nexport function fixValue(axisModel) {\r\n  var axisInfo = getAxisInfo(axisModel);\r\n\r\n  if (!axisInfo) {\r\n    return;\r\n  }\r\n\r\n  var axisPointerModel = axisInfo.axisPointerModel;\r\n  var scale = axisInfo.axis.scale;\r\n  var option = axisPointerModel.option;\r\n  var status = axisPointerModel.get('status');\r\n  var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\r\n\r\n  if (value != null) {\r\n    value = scale.parse(value);\r\n  }\r\n\r\n  var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\r\n  // and status should be initialized.\r\n\r\n  if (status == null) {\r\n    option.status = useHandle ? 'show' : 'hide';\r\n  }\r\n\r\n  var extent = scale.getExtent().slice();\r\n  extent[0] > extent[1] && extent.reverse();\r\n\r\n  if ( // Pick a value on axis when initializing.\r\n  value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\r\n  // where we should re-pick a value to keep `handle` displaying normally.\r\n  || value > extent[1]) {\r\n    // Make handle displayed on the end of the axis when init, which looks better.\r\n    value = extent[1];\r\n  }\r\n\r\n  if (value < extent[0]) {\r\n    value = extent[0];\r\n  }\r\n\r\n  option.value = value;\r\n\r\n  if (useHandle) {\r\n    option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\r\n  }\r\n}\r\nexport function getAxisInfo(axisModel) {\r\n  var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\r\n  return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\r\n}\r\nexport function getAxisPointerModel(axisModel) {\r\n  var axisInfo = getAxisInfo(axisModel);\r\n  return axisInfo && axisInfo.axisPointerModel;\r\n}\r\n\r\nfunction isHandleTrigger(axisPointerModel) {\r\n  return !!axisPointerModel.get(['handle', 'show']);\r\n}\r\n/**\r\n * @param {module:echarts/model/Model} model\r\n * @return {string} unique key\r\n */\r\n\r\n\r\nexport function makeKey(model) {\r\n  return model.type + '||' + model.id;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as axisPointerModelHelper from '../axisPointer/modelHelper.js';\r\nimport ComponentView from '../../view/Component.js';\r\nvar axisPointerClazz = {};\r\n/**\r\n * Base class of AxisView.\r\n */\r\n\r\nvar AxisView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(AxisView, _super);\r\n\r\n  function AxisView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = AxisView.type;\r\n    return _this;\r\n  }\r\n  /**\r\n   * @override\r\n   */\r\n\r\n\r\n  AxisView.prototype.render = function (axisModel, ecModel, api, payload) {\r\n    // FIXME\r\n    // This process should proformed after coordinate systems updated\r\n    // (axis scale updated), and should be performed each time update.\r\n    // So put it here temporarily, although it is not appropriate to\r\n    // put a model-writing procedure in `view`.\r\n    this.axisPointerClass && axisPointerModelHelper.fixValue(axisModel);\r\n\r\n    _super.prototype.render.apply(this, arguments);\r\n\r\n    this._doUpdateAxisPointerClass(axisModel, api, true);\r\n  };\r\n  /**\r\n   * Action handler.\r\n   */\r\n\r\n\r\n  AxisView.prototype.updateAxisPointer = function (axisModel, ecModel, api, payload) {\r\n    this._doUpdateAxisPointerClass(axisModel, api, false);\r\n  };\r\n  /**\r\n   * @override\r\n   */\r\n\r\n\r\n  AxisView.prototype.remove = function (ecModel, api) {\r\n    var axisPointer = this._axisPointer;\r\n    axisPointer && axisPointer.remove(api);\r\n  };\r\n  /**\r\n   * @override\r\n   */\r\n\r\n\r\n  AxisView.prototype.dispose = function (ecModel, api) {\r\n    this._disposeAxisPointer(api);\r\n\r\n    _super.prototype.dispose.apply(this, arguments);\r\n  };\r\n\r\n  AxisView.prototype._doUpdateAxisPointerClass = function (axisModel, api, forceRender) {\r\n    var Clazz = AxisView.getAxisPointerClass(this.axisPointerClass);\r\n\r\n    if (!Clazz) {\r\n      return;\r\n    }\r\n\r\n    var axisPointerModel = axisPointerModelHelper.getAxisPointerModel(axisModel);\r\n    axisPointerModel ? (this._axisPointer || (this._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : this._disposeAxisPointer(api);\r\n  };\r\n\r\n  AxisView.prototype._disposeAxisPointer = function (api) {\r\n    this._axisPointer && this._axisPointer.dispose(api);\r\n    this._axisPointer = null;\r\n  };\r\n\r\n  AxisView.registerAxisPointerClass = function (type, clazz) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (axisPointerClazz[type]) {\r\n        throw new Error('axisPointer ' + type + ' exists');\r\n      }\r\n    }\r\n\r\n    axisPointerClazz[type] = clazz;\r\n  };\r\n\r\n  ;\r\n\r\n  AxisView.getAxisPointerClass = function (type) {\r\n    return type && axisPointerClazz[type];\r\n  };\r\n\r\n  ;\r\n  AxisView.type = 'axis';\r\n  return AxisView;\r\n}(ComponentView);\r\n\r\nexport default AxisView;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport { makeInner } from '../../util/model.js';\r\nvar inner = makeInner();\r\nexport function rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\r\n  var axis = axisModel.axis;\r\n\r\n  if (axis.scale.isBlank()) {\r\n    return;\r\n  } // TODO: TYPE\r\n\r\n\r\n  var splitAreaModel = axisModel.getModel('splitArea');\r\n  var areaStyleModel = splitAreaModel.getModel('areaStyle');\r\n  var areaColors = areaStyleModel.get('color');\r\n  var gridRect = gridModel.coordinateSystem.getRect();\r\n  var ticksCoords = axis.getTicksCoords({\r\n    tickModel: splitAreaModel,\r\n    clamp: true\r\n  });\r\n\r\n  if (!ticksCoords.length) {\r\n    return;\r\n  } // For Making appropriate splitArea animation, the color and anid\r\n  // should be corresponding to previous one if possible.\r\n\r\n\r\n  var areaColorsLen = areaColors.length;\r\n  var lastSplitAreaColors = inner(axisView).splitAreaColors;\r\n  var newSplitAreaColors = zrUtil.createHashMap();\r\n  var colorIndex = 0;\r\n\r\n  if (lastSplitAreaColors) {\r\n    for (var i = 0; i < ticksCoords.length; i++) {\r\n      var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\r\n\r\n      if (cIndex != null) {\r\n        colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  var prev = axis.toGlobalCoord(ticksCoords[0].coord);\r\n  var areaStyle = areaStyleModel.getAreaStyle();\r\n  areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\r\n\r\n  for (var i = 1; i < ticksCoords.length; i++) {\r\n    var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\r\n    var x = void 0;\r\n    var y = void 0;\r\n    var width = void 0;\r\n    var height = void 0;\r\n\r\n    if (axis.isHorizontal()) {\r\n      x = prev;\r\n      y = gridRect.y;\r\n      width = tickCoord - x;\r\n      height = gridRect.height;\r\n      prev = x + width;\r\n    } else {\r\n      x = gridRect.x;\r\n      y = prev;\r\n      width = gridRect.width;\r\n      height = tickCoord - y;\r\n      prev = y + height;\r\n    }\r\n\r\n    var tickValue = ticksCoords[i - 1].tickValue;\r\n    tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\r\n    axisGroup.add(new graphic.Rect({\r\n      anid: tickValue != null ? 'area_' + tickValue : null,\r\n      shape: {\r\n        x: x,\r\n        y: y,\r\n        width: width,\r\n        height: height\r\n      },\r\n      style: zrUtil.defaults({\r\n        fill: areaColors[colorIndex]\r\n      }, areaStyle),\r\n      autoBatch: true,\r\n      silent: true\r\n    }));\r\n    colorIndex = (colorIndex + 1) % areaColorsLen;\r\n  }\r\n\r\n  inner(axisView).splitAreaColors = newSplitAreaColors;\r\n}\r\nexport function rectCoordAxisHandleRemove(axisView) {\r\n  inner(axisView).splitAreaColors = null;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport AxisBuilder from './AxisBuilder.js';\r\nimport AxisView from './AxisView.js';\r\nimport * as cartesianAxisHelper from '../../coord/cartesian/cartesianAxisHelper.js';\r\nimport { rectCoordAxisBuildSplitArea, rectCoordAxisHandleRemove } from './axisSplitHelper.js';\r\nimport { isIntervalOrLogScale } from '../../scale/helper.js';\r\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\r\nvar selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\r\n\r\nvar CartesianAxisView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(CartesianAxisView, _super);\r\n\r\n  function CartesianAxisView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = CartesianAxisView.type;\r\n    _this.axisPointerClass = 'CartesianAxisPointer';\r\n    return _this;\r\n  }\r\n  /**\r\n   * @override\r\n   */\r\n\r\n\r\n  CartesianAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\r\n    this.group.removeAll();\r\n    var oldAxisGroup = this._axisGroup;\r\n    this._axisGroup = new graphic.Group();\r\n    this.group.add(this._axisGroup);\r\n\r\n    if (!axisModel.get('show')) {\r\n      return;\r\n    }\r\n\r\n    var gridModel = axisModel.getCoordSysModel();\r\n    var layout = cartesianAxisHelper.layout(gridModel, axisModel);\r\n    var axisBuilder = new AxisBuilder(axisModel, zrUtil.extend({\r\n      handleAutoShown: function (elementType) {\r\n        var cartesians = gridModel.coordinateSystem.getCartesians();\r\n\r\n        for (var i = 0; i < cartesians.length; i++) {\r\n          if (isIntervalOrLogScale(cartesians[i].getOtherAxis(axisModel.axis).scale)) {\r\n            // Still show axis tick or axisLine if other axis is value / log\r\n            return true;\r\n          }\r\n        } // Not show axisTick or axisLine if other axis is category / time\r\n\r\n\r\n        return false;\r\n      }\r\n    }, layout));\r\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\r\n\r\n    this._axisGroup.add(axisBuilder.getGroup());\r\n\r\n    zrUtil.each(selfBuilderAttrs, function (name) {\r\n      if (axisModel.get([name, 'show'])) {\r\n        axisElementBuilders[name](this, this._axisGroup, axisModel, gridModel);\r\n      }\r\n    }, this); // THIS is a special case for bar racing chart.\r\n    // Update the axis label from the natural initial layout to\r\n    // sorted layout should has no animation.\r\n\r\n    var isInitialSortFromBarRacing = payload && payload.type === 'changeAxisOrder' && payload.isInitSort;\r\n\r\n    if (!isInitialSortFromBarRacing) {\r\n      graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\r\n    }\r\n\r\n    _super.prototype.render.call(this, axisModel, ecModel, api, payload);\r\n  };\r\n\r\n  CartesianAxisView.prototype.remove = function () {\r\n    rectCoordAxisHandleRemove(this);\r\n  };\r\n\r\n  CartesianAxisView.type = 'cartesianAxis';\r\n  return CartesianAxisView;\r\n}(AxisView);\r\n\r\nvar axisElementBuilders = {\r\n  splitLine: function (axisView, axisGroup, axisModel, gridModel) {\r\n    var axis = axisModel.axis;\r\n\r\n    if (axis.scale.isBlank()) {\r\n      return;\r\n    }\r\n\r\n    var splitLineModel = axisModel.getModel('splitLine');\r\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\r\n    var lineColors = lineStyleModel.get('color');\r\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\r\n    var gridRect = gridModel.coordinateSystem.getRect();\r\n    var isHorizontal = axis.isHorizontal();\r\n    var lineCount = 0;\r\n    var ticksCoords = axis.getTicksCoords({\r\n      tickModel: splitLineModel\r\n    });\r\n    var p1 = [];\r\n    var p2 = [];\r\n    var lineStyle = lineStyleModel.getLineStyle();\r\n\r\n    for (var i = 0; i < ticksCoords.length; i++) {\r\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\r\n\r\n      if (isHorizontal) {\r\n        p1[0] = tickCoord;\r\n        p1[1] = gridRect.y;\r\n        p2[0] = tickCoord;\r\n        p2[1] = gridRect.y + gridRect.height;\r\n      } else {\r\n        p1[0] = gridRect.x;\r\n        p1[1] = tickCoord;\r\n        p2[0] = gridRect.x + gridRect.width;\r\n        p2[1] = tickCoord;\r\n      }\r\n\r\n      var colorIndex = lineCount++ % lineColors.length;\r\n      var tickValue = ticksCoords[i].tickValue;\r\n      var line = new graphic.Line({\r\n        anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\r\n        autoBatch: true,\r\n        shape: {\r\n          x1: p1[0],\r\n          y1: p1[1],\r\n          x2: p2[0],\r\n          y2: p2[1]\r\n        },\r\n        style: zrUtil.defaults({\r\n          stroke: lineColors[colorIndex]\r\n        }, lineStyle),\r\n        silent: true\r\n      });\r\n      graphic.subPixelOptimizeLine(line.shape, lineStyle.lineWidth);\r\n      axisGroup.add(line);\r\n    }\r\n  },\r\n  minorSplitLine: function (axisView, axisGroup, axisModel, gridModel) {\r\n    var axis = axisModel.axis;\r\n    var minorSplitLineModel = axisModel.getModel('minorSplitLine');\r\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\r\n    var gridRect = gridModel.coordinateSystem.getRect();\r\n    var isHorizontal = axis.isHorizontal();\r\n    var minorTicksCoords = axis.getMinorTicksCoords();\r\n\r\n    if (!minorTicksCoords.length) {\r\n      return;\r\n    }\r\n\r\n    var p1 = [];\r\n    var p2 = [];\r\n    var lineStyle = lineStyleModel.getLineStyle();\r\n\r\n    for (var i = 0; i < minorTicksCoords.length; i++) {\r\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\r\n        var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\r\n\r\n        if (isHorizontal) {\r\n          p1[0] = tickCoord;\r\n          p1[1] = gridRect.y;\r\n          p2[0] = tickCoord;\r\n          p2[1] = gridRect.y + gridRect.height;\r\n        } else {\r\n          p1[0] = gridRect.x;\r\n          p1[1] = tickCoord;\r\n          p2[0] = gridRect.x + gridRect.width;\r\n          p2[1] = tickCoord;\r\n        }\r\n\r\n        var line = new graphic.Line({\r\n          anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\r\n          autoBatch: true,\r\n          shape: {\r\n            x1: p1[0],\r\n            y1: p1[1],\r\n            x2: p2[0],\r\n            y2: p2[1]\r\n          },\r\n          style: lineStyle,\r\n          silent: true\r\n        });\r\n        graphic.subPixelOptimizeLine(line.shape, lineStyle.lineWidth);\r\n        axisGroup.add(line);\r\n      }\r\n    }\r\n  },\r\n  splitArea: function (axisView, axisGroup, axisModel, gridModel) {\r\n    rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel);\r\n  }\r\n};\r\n\r\nvar CartesianXAxisView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(CartesianXAxisView, _super);\r\n\r\n  function CartesianXAxisView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = CartesianXAxisView.type;\r\n    return _this;\r\n  }\r\n\r\n  CartesianXAxisView.type = 'xAxis';\r\n  return CartesianXAxisView;\r\n}(CartesianAxisView);\r\n\r\nexport { CartesianXAxisView };\r\n\r\nvar CartesianYAxisView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(CartesianYAxisView, _super);\r\n\r\n  function CartesianYAxisView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = CartesianXAxisView.type;\r\n    return _this;\r\n  }\r\n\r\n  CartesianYAxisView.type = 'yAxis';\r\n  return CartesianYAxisView;\r\n}(CartesianAxisView);\r\n\r\nexport { CartesianYAxisView };\r\nexport default CartesianAxisView;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport ComponentView from '../../view/Component.js';\r\nimport GridModel from '../../coord/cartesian/GridModel.js';\r\nimport { Rect } from '../../util/graphic.js';\r\nimport { defaults } from 'zrender/lib/core/util.js';\r\nimport { CartesianAxisModel } from '../../coord/cartesian/AxisModel.js';\r\nimport axisModelCreator from '../../coord/axisModelCreator.js';\r\nimport Grid from '../../coord/cartesian/Grid.js';\r\nimport { CartesianXAxisView, CartesianYAxisView } from '../axis/CartesianAxisView.js'; // Grid view\r\n\r\nvar GridView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(GridView, _super);\r\n\r\n  function GridView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = 'grid';\r\n    return _this;\r\n  }\r\n\r\n  GridView.prototype.render = function (gridModel, ecModel) {\r\n    this.group.removeAll();\r\n\r\n    if (gridModel.get('show')) {\r\n      this.group.add(new Rect({\r\n        shape: gridModel.coordinateSystem.getRect(),\r\n        style: defaults({\r\n          fill: gridModel.get('backgroundColor')\r\n        }, gridModel.getItemStyle()),\r\n        silent: true,\r\n        z2: -1\r\n      }));\r\n    }\r\n  };\r\n\r\n  GridView.type = 'grid';\r\n  return GridView;\r\n}(ComponentView);\r\n\r\nvar extraOption = {\r\n  // gridIndex: 0,\r\n  // gridId: '',\r\n  offset: 0\r\n};\r\nexport function install(registers) {\r\n  registers.registerComponentView(GridView);\r\n  registers.registerComponentModel(GridModel);\r\n  registers.registerCoordinateSystem('cartesian2d', Grid);\r\n  axisModelCreator(registers, 'x', CartesianAxisModel, extraOption);\r\n  axisModelCreator(registers, 'y', CartesianAxisModel, extraOption);\r\n  registers.registerComponentView(CartesianXAxisView);\r\n  registers.registerComponentView(CartesianYAxisView);\r\n  registers.registerPreprocessor(function (option) {\r\n    // Only create grid when need\r\n    if (option.xAxis && option.yAxis && !option.grid) {\r\n      option.grid = {};\r\n    }\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport axisDefault from '../axisDefault.js';\r\nimport Model from '../../model/Model.js';\r\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\r\nimport ComponentModel from '../../model/Component.js';\r\nvar valueAxisDefault = axisDefault.value;\r\n\r\nfunction defaultsShow(opt, show) {\r\n  return zrUtil.defaults({\r\n    show: show\r\n  }, opt);\r\n}\r\n\r\nvar RadarModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(RadarModel, _super);\r\n\r\n  function RadarModel() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = RadarModel.type;\r\n    return _this;\r\n  }\r\n\r\n  RadarModel.prototype.optionUpdated = function () {\r\n    var boundaryGap = this.get('boundaryGap');\r\n    var splitNumber = this.get('splitNumber');\r\n    var scale = this.get('scale');\r\n    var axisLine = this.get('axisLine');\r\n    var axisTick = this.get('axisTick'); // let axisType = this.get('axisType');\r\n\r\n    var axisLabel = this.get('axisLabel');\r\n    var nameTextStyle = this.get('axisName');\r\n    var showName = this.get(['axisName', 'show']);\r\n    var nameFormatter = this.get(['axisName', 'formatter']);\r\n    var nameGap = this.get('axisNameGap');\r\n    var triggerEvent = this.get('triggerEvent');\r\n    var indicatorModels = zrUtil.map(this.get('indicator') || [], function (indicatorOpt) {\r\n      // PENDING\r\n      if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\r\n        indicatorOpt.min = 0;\r\n      } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\r\n        indicatorOpt.max = 0;\r\n      }\r\n\r\n      var iNameTextStyle = nameTextStyle;\r\n\r\n      if (indicatorOpt.color != null) {\r\n        iNameTextStyle = zrUtil.defaults({\r\n          color: indicatorOpt.color\r\n        }, nameTextStyle);\r\n      } // Use same configuration\r\n\r\n\r\n      var innerIndicatorOpt = zrUtil.merge(zrUtil.clone(indicatorOpt), {\r\n        boundaryGap: boundaryGap,\r\n        splitNumber: splitNumber,\r\n        scale: scale,\r\n        axisLine: axisLine,\r\n        axisTick: axisTick,\r\n        // axisType: axisType,\r\n        axisLabel: axisLabel,\r\n        // Compatible with 2 and use text\r\n        name: indicatorOpt.text,\r\n        showName: showName,\r\n        nameLocation: 'end',\r\n        nameGap: nameGap,\r\n        // min: 0,\r\n        nameTextStyle: iNameTextStyle,\r\n        triggerEvent: triggerEvent\r\n      }, false);\r\n\r\n      if (zrUtil.isString(nameFormatter)) {\r\n        var indName = innerIndicatorOpt.name;\r\n        innerIndicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\r\n      } else if (zrUtil.isFunction(nameFormatter)) {\r\n        innerIndicatorOpt.name = nameFormatter(innerIndicatorOpt.name, innerIndicatorOpt);\r\n      }\r\n\r\n      var model = new Model(innerIndicatorOpt, null, this.ecModel);\r\n      zrUtil.mixin(model, AxisModelCommonMixin.prototype); // For triggerEvent.\r\n\r\n      model.mainType = 'radar';\r\n      model.componentIndex = this.componentIndex;\r\n      return model;\r\n    }, this);\r\n    this._indicatorModels = indicatorModels;\r\n  };\r\n\r\n  RadarModel.prototype.getIndicatorModels = function () {\r\n    return this._indicatorModels;\r\n  };\r\n\r\n  RadarModel.type = 'radar';\r\n  RadarModel.defaultOption = {\r\n    // zlevel: 0,\r\n    z: 0,\r\n    center: ['50%', '50%'],\r\n    radius: '75%',\r\n    startAngle: 90,\r\n    axisName: {\r\n      show: true // formatter: null\r\n      // textStyle: {}\r\n\r\n    },\r\n    boundaryGap: [0, 0],\r\n    splitNumber: 5,\r\n    axisNameGap: 15,\r\n    scale: false,\r\n    // Polygon or circle\r\n    shape: 'polygon',\r\n    axisLine: zrUtil.merge({\r\n      lineStyle: {\r\n        color: '#bbb'\r\n      }\r\n    }, valueAxisDefault.axisLine),\r\n    axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\r\n    axisTick: defaultsShow(valueAxisDefault.axisTick, false),\r\n    // axisType: 'value',\r\n    splitLine: defaultsShow(valueAxisDefault.splitLine, true),\r\n    splitArea: defaultsShow(valueAxisDefault.splitArea, true),\r\n    // {text, min, max}\r\n    indicator: []\r\n  };\r\n  return RadarModel;\r\n}(ComponentModel);\r\n\r\nexport default RadarModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport AxisBuilder from '../axis/AxisBuilder.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport ComponentView from '../../view/Component.js';\r\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\r\n\r\nvar RadarView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(RadarView, _super);\r\n\r\n  function RadarView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = RadarView.type;\r\n    return _this;\r\n  }\r\n\r\n  RadarView.prototype.render = function (radarModel, ecModel, api) {\r\n    var group = this.group;\r\n    group.removeAll();\r\n\r\n    this._buildAxes(radarModel);\r\n\r\n    this._buildSplitLineAndArea(radarModel);\r\n  };\r\n\r\n  RadarView.prototype._buildAxes = function (radarModel) {\r\n    var radar = radarModel.coordinateSystem;\r\n    var indicatorAxes = radar.getIndicatorAxes();\r\n    var axisBuilders = zrUtil.map(indicatorAxes, function (indicatorAxis) {\r\n      var axisName = indicatorAxis.model.get('showName') ? indicatorAxis.name : ''; // hide name\r\n\r\n      var axisBuilder = new AxisBuilder(indicatorAxis.model, {\r\n        axisName: axisName,\r\n        position: [radar.cx, radar.cy],\r\n        rotation: indicatorAxis.angle,\r\n        labelDirection: -1,\r\n        tickDirection: -1,\r\n        nameDirection: 1\r\n      });\r\n      return axisBuilder;\r\n    });\r\n    zrUtil.each(axisBuilders, function (axisBuilder) {\r\n      zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\r\n      this.group.add(axisBuilder.getGroup());\r\n    }, this);\r\n  };\r\n\r\n  RadarView.prototype._buildSplitLineAndArea = function (radarModel) {\r\n    var radar = radarModel.coordinateSystem;\r\n    var indicatorAxes = radar.getIndicatorAxes();\r\n\r\n    if (!indicatorAxes.length) {\r\n      return;\r\n    }\r\n\r\n    var shape = radarModel.get('shape');\r\n    var splitLineModel = radarModel.getModel('splitLine');\r\n    var splitAreaModel = radarModel.getModel('splitArea');\r\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\r\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\r\n    var showSplitLine = splitLineModel.get('show');\r\n    var showSplitArea = splitAreaModel.get('show');\r\n    var splitLineColors = lineStyleModel.get('color');\r\n    var splitAreaColors = areaStyleModel.get('color');\r\n    var splitLineColorsArr = zrUtil.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\r\n    var splitAreaColorsArr = zrUtil.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\r\n    var splitLines = [];\r\n    var splitAreas = [];\r\n\r\n    function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\r\n      var colorIndex = idx % areaOrLineColorList.length;\r\n      areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\r\n      return colorIndex;\r\n    }\r\n\r\n    if (shape === 'circle') {\r\n      var ticksRadius = indicatorAxes[0].getTicksCoords();\r\n      var cx = radar.cx;\r\n      var cy = radar.cy;\r\n\r\n      for (var i = 0; i < ticksRadius.length; i++) {\r\n        if (showSplitLine) {\r\n          var colorIndex = getColorIndex(splitLines, splitLineColorsArr, i);\r\n          splitLines[colorIndex].push(new graphic.Circle({\r\n            shape: {\r\n              cx: cx,\r\n              cy: cy,\r\n              r: ticksRadius[i].coord\r\n            }\r\n          }));\r\n        }\r\n\r\n        if (showSplitArea && i < ticksRadius.length - 1) {\r\n          var colorIndex = getColorIndex(splitAreas, splitAreaColorsArr, i);\r\n          splitAreas[colorIndex].push(new graphic.Ring({\r\n            shape: {\r\n              cx: cx,\r\n              cy: cy,\r\n              r0: ticksRadius[i].coord,\r\n              r: ticksRadius[i + 1].coord\r\n            }\r\n          }));\r\n        }\r\n      }\r\n    } // Polyyon\r\n    else {\r\n        var realSplitNumber_1;\r\n        var axesTicksPoints = zrUtil.map(indicatorAxes, function (indicatorAxis, idx) {\r\n          var ticksCoords = indicatorAxis.getTicksCoords();\r\n          realSplitNumber_1 = realSplitNumber_1 == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber_1);\r\n          return zrUtil.map(ticksCoords, function (tickCoord) {\r\n            return radar.coordToPoint(tickCoord.coord, idx);\r\n          });\r\n        });\r\n        var prevPoints = [];\r\n\r\n        for (var i = 0; i <= realSplitNumber_1; i++) {\r\n          var points = [];\r\n\r\n          for (var j = 0; j < indicatorAxes.length; j++) {\r\n            points.push(axesTicksPoints[j][i]);\r\n          } // Close\r\n\r\n\r\n          if (points[0]) {\r\n            points.push(points[0].slice());\r\n          } else {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n              console.error('Can\\'t draw value axis ' + i);\r\n            }\r\n          }\r\n\r\n          if (showSplitLine) {\r\n            var colorIndex = getColorIndex(splitLines, splitLineColorsArr, i);\r\n            splitLines[colorIndex].push(new graphic.Polyline({\r\n              shape: {\r\n                points: points\r\n              }\r\n            }));\r\n          }\r\n\r\n          if (showSplitArea && prevPoints) {\r\n            var colorIndex = getColorIndex(splitAreas, splitAreaColorsArr, i - 1);\r\n            splitAreas[colorIndex].push(new graphic.Polygon({\r\n              shape: {\r\n                points: points.concat(prevPoints)\r\n              }\r\n            }));\r\n          }\r\n\r\n          prevPoints = points.slice().reverse();\r\n        }\r\n      }\r\n\r\n    var lineStyle = lineStyleModel.getLineStyle();\r\n    var areaStyle = areaStyleModel.getAreaStyle(); // Add splitArea before splitLine\r\n\r\n    zrUtil.each(splitAreas, function (splitAreas, idx) {\r\n      this.group.add(graphic.mergePath(splitAreas, {\r\n        style: zrUtil.defaults({\r\n          stroke: 'none',\r\n          fill: splitAreaColorsArr[idx % splitAreaColorsArr.length]\r\n        }, areaStyle),\r\n        silent: true\r\n      }));\r\n    }, this);\r\n    zrUtil.each(splitLines, function (splitLines, idx) {\r\n      this.group.add(graphic.mergePath(splitLines, {\r\n        style: zrUtil.defaults({\r\n          fill: 'none',\r\n          stroke: splitLineColorsArr[idx % splitLineColorsArr.length]\r\n        }, lineStyle),\r\n        silent: true\r\n      }));\r\n    }, this);\r\n  };\r\n\r\n  RadarView.type = 'radar';\r\n  return RadarView;\r\n}(ComponentView);\r\n\r\nexport default RadarView;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport Axis from '../Axis.js';\r\n\r\nvar IndicatorAxis =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(IndicatorAxis, _super);\r\n\r\n  function IndicatorAxis(dim, scale, radiusExtent) {\r\n    var _this = _super.call(this, dim, scale, radiusExtent) || this;\r\n\r\n    _this.type = 'value';\r\n    _this.angle = 0;\r\n    _this.name = '';\r\n    return _this;\r\n  }\r\n\r\n  return IndicatorAxis;\r\n}(Axis);\r\n\r\nexport default IndicatorAxis;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n// TODO clockwise\r\nimport IndicatorAxis from './IndicatorAxis.js';\r\nimport IntervalScale from '../../scale/Interval.js';\r\nimport * as numberUtil from '../../util/number.js';\r\nimport { map, each, isString, isNumber } from 'zrender/lib/core/util.js';\r\nimport { alignScaleTicks } from '../axisAlignTicks.js';\r\n\r\nvar Radar =\r\n/** @class */\r\nfunction () {\r\n  function Radar(radarModel, ecModel, api) {\r\n    /**\r\n     *\r\n     * Radar dimensions\r\n     */\r\n    this.dimensions = [];\r\n    this._model = radarModel;\r\n    this._indicatorAxes = map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\r\n      var dim = 'indicator_' + idx;\r\n      var indicatorAxis = new IndicatorAxis(dim, new IntervalScale() // (indicatorModel.get('axisType') === 'log') ? new LogScale() : new IntervalScale()\r\n      );\r\n      indicatorAxis.name = indicatorModel.get('name'); // Inject model and axis\r\n\r\n      indicatorAxis.model = indicatorModel;\r\n      indicatorModel.axis = indicatorAxis;\r\n      this.dimensions.push(dim);\r\n      return indicatorAxis;\r\n    }, this);\r\n    this.resize(radarModel, api);\r\n  }\r\n\r\n  Radar.prototype.getIndicatorAxes = function () {\r\n    return this._indicatorAxes;\r\n  };\r\n\r\n  Radar.prototype.dataToPoint = function (value, indicatorIndex) {\r\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\r\n    return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\r\n  }; // TODO: API should be coordToPoint([coord, indicatorIndex])\r\n\r\n\r\n  Radar.prototype.coordToPoint = function (coord, indicatorIndex) {\r\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\r\n    var angle = indicatorAxis.angle;\r\n    var x = this.cx + coord * Math.cos(angle);\r\n    var y = this.cy - coord * Math.sin(angle);\r\n    return [x, y];\r\n  };\r\n\r\n  Radar.prototype.pointToData = function (pt) {\r\n    var dx = pt[0] - this.cx;\r\n    var dy = pt[1] - this.cy;\r\n    var radius = Math.sqrt(dx * dx + dy * dy);\r\n    dx /= radius;\r\n    dy /= radius;\r\n    var radian = Math.atan2(-dy, dx); // Find the closest angle\r\n    // FIXME index can calculated directly\r\n\r\n    var minRadianDiff = Infinity;\r\n    var closestAxis;\r\n    var closestAxisIdx = -1;\r\n\r\n    for (var i = 0; i < this._indicatorAxes.length; i++) {\r\n      var indicatorAxis = this._indicatorAxes[i];\r\n      var diff = Math.abs(radian - indicatorAxis.angle);\r\n\r\n      if (diff < minRadianDiff) {\r\n        closestAxis = indicatorAxis;\r\n        closestAxisIdx = i;\r\n        minRadianDiff = diff;\r\n      }\r\n    }\r\n\r\n    return [closestAxisIdx, +(closestAxis && closestAxis.coordToData(radius))];\r\n  };\r\n\r\n  Radar.prototype.resize = function (radarModel, api) {\r\n    var center = radarModel.get('center');\r\n    var viewWidth = api.getWidth();\r\n    var viewHeight = api.getHeight();\r\n    var viewSize = Math.min(viewWidth, viewHeight) / 2;\r\n    this.cx = numberUtil.parsePercent(center[0], viewWidth);\r\n    this.cy = numberUtil.parsePercent(center[1], viewHeight);\r\n    this.startAngle = radarModel.get('startAngle') * Math.PI / 180; // radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`\r\n\r\n    var radius = radarModel.get('radius');\r\n\r\n    if (isString(radius) || isNumber(radius)) {\r\n      radius = [0, radius];\r\n    }\r\n\r\n    this.r0 = numberUtil.parsePercent(radius[0], viewSize);\r\n    this.r = numberUtil.parsePercent(radius[1], viewSize);\r\n    each(this._indicatorAxes, function (indicatorAxis, idx) {\r\n      indicatorAxis.setExtent(this.r0, this.r);\r\n      var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length; // Normalize to [-PI, PI]\r\n\r\n      angle = Math.atan2(Math.sin(angle), Math.cos(angle));\r\n      indicatorAxis.angle = angle;\r\n    }, this);\r\n  };\r\n\r\n  Radar.prototype.update = function (ecModel, api) {\r\n    var indicatorAxes = this._indicatorAxes;\r\n    var radarModel = this._model;\r\n    each(indicatorAxes, function (indicatorAxis) {\r\n      indicatorAxis.scale.setExtent(Infinity, -Infinity);\r\n    });\r\n    ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\r\n      if (radarSeries.get('coordinateSystem') !== 'radar' // @ts-ignore\r\n      || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\r\n        return;\r\n      }\r\n\r\n      var data = radarSeries.getData();\r\n      each(indicatorAxes, function (indicatorAxis) {\r\n        indicatorAxis.scale.unionExtentFromData(data, data.mapDimension(indicatorAxis.dim));\r\n      });\r\n    }, this);\r\n    var splitNumber = radarModel.get('splitNumber');\r\n    var dummyScale = new IntervalScale();\r\n    dummyScale.setExtent(0, splitNumber);\r\n    dummyScale.setInterval(1); // Force all the axis fixing the maxSplitNumber.\r\n\r\n    each(indicatorAxes, function (indicatorAxis, idx) {\r\n      alignScaleTicks(indicatorAxis.scale, indicatorAxis.model, dummyScale);\r\n    });\r\n  };\r\n\r\n  Radar.prototype.convertToPixel = function (ecModel, finder, value) {\r\n    console.warn('Not implemented.');\r\n    return null;\r\n  };\r\n\r\n  Radar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\r\n    console.warn('Not implemented.');\r\n    return null;\r\n  };\r\n\r\n  Radar.prototype.containPoint = function (point) {\r\n    console.warn('Not implemented.');\r\n    return false;\r\n  };\r\n\r\n  Radar.create = function (ecModel, api) {\r\n    var radarList = [];\r\n    ecModel.eachComponent('radar', function (radarModel) {\r\n      var radar = new Radar(radarModel, ecModel, api);\r\n      radarList.push(radar);\r\n      radarModel.coordinateSystem = radar;\r\n    });\r\n    ecModel.eachSeriesByType('radar', function (radarSeries) {\r\n      if (radarSeries.get('coordinateSystem') === 'radar') {\r\n        // Inject coordinate system\r\n        // @ts-ignore\r\n        radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\r\n      }\r\n    });\r\n    return radarList;\r\n  };\r\n  /**\r\n   * Radar dimensions is based on the data\r\n   */\r\n\r\n\r\n  Radar.dimensions = [];\r\n  return Radar;\r\n}();\r\n\r\nexport default Radar;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport RadarModel from '../../coord/radar/RadarModel.js';\r\nimport RadarView from './RadarView.js';\r\nimport Radar from '../../coord/radar/Radar.js';\r\nexport function install(registers) {\r\n  registers.registerCoordinateSystem('radar', Radar);\r\n  registers.registerComponentModel(RadarModel);\r\n  registers.registerComponentView(RadarView);\r\n  registers.registerVisual({\r\n    seriesType: 'radar',\r\n    reset: function (seriesModel) {\r\n      var data = seriesModel.getData(); // itemVisual symbol is for selected data\r\n\r\n      data.each(function (idx) {\r\n        data.setItemVisual(idx, 'legendIcon', 'roundRect');\r\n      }); // visual is for unselected data\r\n\r\n      data.setVisual('legendIcon', 'roundRect');\r\n    }\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * Simple view coordinate system\r\n * Mapping given x, y to transformd view x, y\r\n */\r\n\r\nimport * as vector from 'zrender/lib/core/vector.js';\r\nimport * as matrix from 'zrender/lib/core/matrix.js';\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nimport Transformable from 'zrender/lib/core/Transformable.js';\r\nimport { parsePercent } from '../util/number.js';\r\nvar v2ApplyTransform = vector.applyTransform;\r\n\r\nvar View =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(View, _super);\r\n\r\n  function View(name) {\r\n    var _this = _super.call(this) || this;\r\n\r\n    _this.type = 'view';\r\n    _this.dimensions = ['x', 'y'];\r\n    /**\r\n     * Represents the transform brought by roam/zoom.\r\n     * If `View['_viewRect']` applies roam transform,\r\n     * we can get the final displayed rect.\r\n     */\r\n\r\n    _this._roamTransformable = new Transformable();\r\n    /**\r\n     * Represents the transform from `View['_rect']` to `View['_viewRect']`.\r\n     */\r\n\r\n    _this._rawTransformable = new Transformable();\r\n    _this.name = name;\r\n    return _this;\r\n  }\r\n\r\n  View.prototype.setBoundingRect = function (x, y, width, height) {\r\n    this._rect = new BoundingRect(x, y, width, height);\r\n    return this._rect;\r\n  };\r\n  /**\r\n   * @return {module:zrender/core/BoundingRect}\r\n   */\r\n\r\n\r\n  View.prototype.getBoundingRect = function () {\r\n    return this._rect;\r\n  };\r\n\r\n  View.prototype.setViewRect = function (x, y, width, height) {\r\n    this._transformTo(x, y, width, height);\r\n\r\n    this._viewRect = new BoundingRect(x, y, width, height);\r\n  };\r\n  /**\r\n   * Transformed to particular position and size\r\n   */\r\n\r\n\r\n  View.prototype._transformTo = function (x, y, width, height) {\r\n    var rect = this.getBoundingRect();\r\n    var rawTransform = this._rawTransformable;\r\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\r\n    var rawParent = rawTransform.parent;\r\n    rawTransform.parent = null;\r\n    rawTransform.decomposeTransform();\r\n    rawTransform.parent = rawParent;\r\n\r\n    this._updateTransform();\r\n  };\r\n  /**\r\n   * Set center of view\r\n   */\r\n\r\n\r\n  View.prototype.setCenter = function (centerCoord, api) {\r\n    if (!centerCoord) {\r\n      return;\r\n    }\r\n\r\n    this._center = [parsePercent(centerCoord[0], api.getWidth()), parsePercent(centerCoord[1], api.getHeight())];\r\n\r\n    this._updateCenterAndZoom();\r\n  };\r\n\r\n  View.prototype.setZoom = function (zoom) {\r\n    zoom = zoom || 1;\r\n    var zoomLimit = this.zoomLimit;\r\n\r\n    if (zoomLimit) {\r\n      if (zoomLimit.max != null) {\r\n        zoom = Math.min(zoomLimit.max, zoom);\r\n      }\r\n\r\n      if (zoomLimit.min != null) {\r\n        zoom = Math.max(zoomLimit.min, zoom);\r\n      }\r\n    }\r\n\r\n    this._zoom = zoom;\r\n\r\n    this._updateCenterAndZoom();\r\n  };\r\n  /**\r\n   * Get default center without roam\r\n   */\r\n\r\n\r\n  View.prototype.getDefaultCenter = function () {\r\n    // Rect before any transform\r\n    var rawRect = this.getBoundingRect();\r\n    var cx = rawRect.x + rawRect.width / 2;\r\n    var cy = rawRect.y + rawRect.height / 2;\r\n    return [cx, cy];\r\n  };\r\n\r\n  View.prototype.getCenter = function () {\r\n    return this._center || this.getDefaultCenter();\r\n  };\r\n\r\n  View.prototype.getZoom = function () {\r\n    return this._zoom || 1;\r\n  };\r\n\r\n  View.prototype.getRoamTransform = function () {\r\n    return this._roamTransformable.getLocalTransform();\r\n  };\r\n  /**\r\n   * Remove roam\r\n   */\r\n\r\n\r\n  View.prototype._updateCenterAndZoom = function () {\r\n    // Must update after view transform updated\r\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\r\n\r\n    var roamTransform = this._roamTransformable;\r\n    var defaultCenter = this.getDefaultCenter();\r\n    var center = this.getCenter();\r\n    var zoom = this.getZoom();\r\n    center = vector.applyTransform([], center, rawTransformMatrix);\r\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\r\n    roamTransform.originX = center[0];\r\n    roamTransform.originY = center[1];\r\n    roamTransform.x = defaultCenter[0] - center[0];\r\n    roamTransform.y = defaultCenter[1] - center[1];\r\n    roamTransform.scaleX = roamTransform.scaleY = zoom;\r\n\r\n    this._updateTransform();\r\n  };\r\n  /**\r\n   * Update transform props on `this` based on the current\r\n   * `this._roamTransformable` and `this._rawTransformable`.\r\n   */\r\n\r\n\r\n  View.prototype._updateTransform = function () {\r\n    var roamTransformable = this._roamTransformable;\r\n    var rawTransformable = this._rawTransformable;\r\n    rawTransformable.parent = roamTransformable;\r\n    roamTransformable.updateTransform();\r\n    rawTransformable.updateTransform();\r\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\r\n    this._rawTransform = rawTransformable.getLocalTransform();\r\n    this.invTransform = this.invTransform || [];\r\n    matrix.invert(this.invTransform, this.transform);\r\n    this.decomposeTransform();\r\n  };\r\n\r\n  View.prototype.getTransformInfo = function () {\r\n    var rawTransformable = this._rawTransformable;\r\n    var roamTransformable = this._roamTransformable; // Because roamTransformabel has `originX/originY` modified,\r\n    // but the caller of `getTransformInfo` can not handle `originX/originY`,\r\n    // so need to recalculate them.\r\n\r\n    var dummyTransformable = new Transformable();\r\n    dummyTransformable.transform = roamTransformable.transform;\r\n    dummyTransformable.decomposeTransform();\r\n    return {\r\n      roam: {\r\n        x: dummyTransformable.x,\r\n        y: dummyTransformable.y,\r\n        scaleX: dummyTransformable.scaleX,\r\n        scaleY: dummyTransformable.scaleY\r\n      },\r\n      raw: {\r\n        x: rawTransformable.x,\r\n        y: rawTransformable.y,\r\n        scaleX: rawTransformable.scaleX,\r\n        scaleY: rawTransformable.scaleY\r\n      }\r\n    };\r\n  };\r\n\r\n  View.prototype.getViewRect = function () {\r\n    return this._viewRect;\r\n  };\r\n  /**\r\n   * Get view rect after roam transform\r\n   */\r\n\r\n\r\n  View.prototype.getViewRectAfterRoam = function () {\r\n    var rect = this.getBoundingRect().clone();\r\n    rect.applyTransform(this.transform);\r\n    return rect;\r\n  };\r\n  /**\r\n   * Convert a single (lon, lat) data item to (x, y) point.\r\n   */\r\n\r\n\r\n  View.prototype.dataToPoint = function (data, noRoam, out) {\r\n    var transform = noRoam ? this._rawTransform : this.transform;\r\n    out = out || [];\r\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\r\n  };\r\n  /**\r\n   * Convert a (x, y) point to (lon, lat) data\r\n   */\r\n\r\n\r\n  View.prototype.pointToData = function (point) {\r\n    var invTransform = this.invTransform;\r\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\r\n  };\r\n\r\n  View.prototype.convertToPixel = function (ecModel, finder, value) {\r\n    var coordSys = getCoordSys(finder);\r\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\r\n  };\r\n\r\n  View.prototype.convertFromPixel = function (ecModel, finder, pixel) {\r\n    var coordSys = getCoordSys(finder);\r\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\r\n  };\r\n  /**\r\n   * @implements\r\n   */\r\n\r\n\r\n  View.prototype.containPoint = function (point) {\r\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\r\n  };\r\n\r\n  View.dimensions = ['x', 'y'];\r\n  return View;\r\n}(Transformable);\r\n\r\nfunction getCoordSys(finder) {\r\n  var seriesModel = finder.seriesModel;\r\n  return seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\r\n}\r\n\r\nexport default View;", "import { isString } from '../core/util.js';\r\nexport function parseXML(svg) {\r\n    if (isString(svg)) {\r\n        var parser = new DOMParser();\r\n        svg = parser.parseFromString(svg, 'text/xml');\r\n    }\r\n    var svgNode = svg;\r\n    if (svgNode.nodeType === 9) {\r\n        svgNode = svgNode.firstChild;\r\n    }\r\n    while (svgNode.nodeName.toLowerCase() !== 'svg' || svgNode.nodeType !== 1) {\r\n        svgNode = svgNode.nextSibling;\r\n    }\r\n    return svgNode;\r\n}\r\n", "import Group from '../graphic/Group.js';\r\nimport ZRImage from '../graphic/Image.js';\r\nimport Circle from '../graphic/shape/Circle.js';\r\nimport Rect from '../graphic/shape/Rect.js';\r\nimport Ellipse from '../graphic/shape/Ellipse.js';\r\nimport Line from '../graphic/shape/Line.js';\r\nimport Polygon from '../graphic/shape/Polygon.js';\r\nimport Polyline from '../graphic/shape/Polyline.js';\r\nimport * as matrix from '../core/matrix.js';\r\nimport { createFromString } from './path.js';\r\nimport { defaults, trim, each, map, keys, hasOwn } from '../core/util.js';\r\nimport LinearGradient from '../graphic/LinearGradient.js';\r\nimport RadialGradient from '../graphic/RadialGradient.js';\r\nimport TSpan from '../graphic/TSpan.js';\r\nimport { parseXML } from './parseXML.js';\r\n;\r\nvar nodeParsers;\r\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP = {\r\n    'fill': 'fill',\r\n    'stroke': 'stroke',\r\n    'stroke-width': 'lineWidth',\r\n    'opacity': 'opacity',\r\n    'fill-opacity': 'fillOpacity',\r\n    'stroke-opacity': 'strokeOpacity',\r\n    'stroke-dasharray': 'lineDash',\r\n    'stroke-dashoffset': 'lineDashOffset',\r\n    'stroke-linecap': 'lineCap',\r\n    'stroke-linejoin': 'lineJoin',\r\n    'stroke-miterlimit': 'miterLimit',\r\n    'font-family': 'fontFamily',\r\n    'font-size': 'fontSize',\r\n    'font-style': 'fontStyle',\r\n    'font-weight': 'fontWeight',\r\n    'text-anchor': 'textAlign',\r\n    'visibility': 'visibility',\r\n    'display': 'display'\r\n};\r\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS = keys(INHERITABLE_STYLE_ATTRIBUTES_MAP);\r\nvar SELF_STYLE_ATTRIBUTES_MAP = {\r\n    'alignment-baseline': 'textBaseline',\r\n    'stop-color': 'stopColor'\r\n};\r\nvar SELF_STYLE_ATTRIBUTES_MAP_KEYS = keys(SELF_STYLE_ATTRIBUTES_MAP);\r\nvar SVGParser = (function () {\r\n    function SVGParser() {\r\n        this._defs = {};\r\n        this._root = null;\r\n    }\r\n    SVGParser.prototype.parse = function (xml, opt) {\r\n        opt = opt || {};\r\n        var svg = parseXML(xml);\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            if (!svg) {\r\n                throw new Error('Illegal svg');\r\n            }\r\n        }\r\n        this._defsUsePending = [];\r\n        var root = new Group();\r\n        this._root = root;\r\n        var named = [];\r\n        var viewBox = svg.getAttribute('viewBox') || '';\r\n        var width = parseFloat((svg.getAttribute('width') || opt.width));\r\n        var height = parseFloat((svg.getAttribute('height') || opt.height));\r\n        isNaN(width) && (width = null);\r\n        isNaN(height) && (height = null);\r\n        parseAttributes(svg, root, null, true, false);\r\n        var child = svg.firstChild;\r\n        while (child) {\r\n            this._parseNode(child, root, named, null, false, false);\r\n            child = child.nextSibling;\r\n        }\r\n        applyDefs(this._defs, this._defsUsePending);\r\n        this._defsUsePending = [];\r\n        var viewBoxRect;\r\n        var viewBoxTransform;\r\n        if (viewBox) {\r\n            var viewBoxArr = splitNumberSequence(viewBox);\r\n            if (viewBoxArr.length >= 4) {\r\n                viewBoxRect = {\r\n                    x: parseFloat((viewBoxArr[0] || 0)),\r\n                    y: parseFloat((viewBoxArr[1] || 0)),\r\n                    width: parseFloat(viewBoxArr[2]),\r\n                    height: parseFloat(viewBoxArr[3])\r\n                };\r\n            }\r\n        }\r\n        if (viewBoxRect && width != null && height != null) {\r\n            viewBoxTransform = makeViewBoxTransform(viewBoxRect, { x: 0, y: 0, width: width, height: height });\r\n            if (!opt.ignoreViewBox) {\r\n                var elRoot = root;\r\n                root = new Group();\r\n                root.add(elRoot);\r\n                elRoot.scaleX = elRoot.scaleY = viewBoxTransform.scale;\r\n                elRoot.x = viewBoxTransform.x;\r\n                elRoot.y = viewBoxTransform.y;\r\n            }\r\n        }\r\n        if (!opt.ignoreRootClip && width != null && height != null) {\r\n            root.setClipPath(new Rect({\r\n                shape: { x: 0, y: 0, width: width, height: height }\r\n            }));\r\n        }\r\n        return {\r\n            root: root,\r\n            width: width,\r\n            height: height,\r\n            viewBoxRect: viewBoxRect,\r\n            viewBoxTransform: viewBoxTransform,\r\n            named: named\r\n        };\r\n    };\r\n    SVGParser.prototype._parseNode = function (xmlNode, parentGroup, named, namedFrom, isInDefs, isInText) {\r\n        var nodeName = xmlNode.nodeName.toLowerCase();\r\n        var el;\r\n        var namedFromForSub = namedFrom;\r\n        if (nodeName === 'defs') {\r\n            isInDefs = true;\r\n        }\r\n        if (nodeName === 'text') {\r\n            isInText = true;\r\n        }\r\n        if (nodeName === 'defs' || nodeName === 'switch') {\r\n            el = parentGroup;\r\n        }\r\n        else {\r\n            if (!isInDefs) {\r\n                var parser_1 = nodeParsers[nodeName];\r\n                if (parser_1 && hasOwn(nodeParsers, nodeName)) {\r\n                    el = parser_1.call(this, xmlNode, parentGroup);\r\n                    var nameAttr = xmlNode.getAttribute('name');\r\n                    if (nameAttr) {\r\n                        var newNamed = {\r\n                            name: nameAttr,\r\n                            namedFrom: null,\r\n                            svgNodeTagLower: nodeName,\r\n                            el: el\r\n                        };\r\n                        named.push(newNamed);\r\n                        if (nodeName === 'g') {\r\n                            namedFromForSub = newNamed;\r\n                        }\r\n                    }\r\n                    else if (namedFrom) {\r\n                        named.push({\r\n                            name: namedFrom.name,\r\n                            namedFrom: namedFrom,\r\n                            svgNodeTagLower: nodeName,\r\n                            el: el\r\n                        });\r\n                    }\r\n                    parentGroup.add(el);\r\n                }\r\n            }\r\n            var parser = paintServerParsers[nodeName];\r\n            if (parser && hasOwn(paintServerParsers, nodeName)) {\r\n                var def = parser.call(this, xmlNode);\r\n                var id = xmlNode.getAttribute('id');\r\n                if (id) {\r\n                    this._defs[id] = def;\r\n                }\r\n            }\r\n        }\r\n        if (el && el.isGroup) {\r\n            var child = xmlNode.firstChild;\r\n            while (child) {\r\n                if (child.nodeType === 1) {\r\n                    this._parseNode(child, el, named, namedFromForSub, isInDefs, isInText);\r\n                }\r\n                else if (child.nodeType === 3 && isInText) {\r\n                    this._parseText(child, el);\r\n                }\r\n                child = child.nextSibling;\r\n            }\r\n        }\r\n    };\r\n    SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\r\n        var text = new TSpan({\r\n            style: {\r\n                text: xmlNode.textContent\r\n            },\r\n            silent: true,\r\n            x: this._textX || 0,\r\n            y: this._textY || 0\r\n        });\r\n        inheritStyle(parentGroup, text);\r\n        parseAttributes(xmlNode, text, this._defsUsePending, false, false);\r\n        applyTextAlignment(text, parentGroup);\r\n        var textStyle = text.style;\r\n        var fontSize = textStyle.fontSize;\r\n        if (fontSize && fontSize < 9) {\r\n            textStyle.fontSize = 9;\r\n            text.scaleX *= fontSize / 9;\r\n            text.scaleY *= fontSize / 9;\r\n        }\r\n        var font = (textStyle.fontSize || textStyle.fontFamily) && [\r\n            textStyle.fontStyle,\r\n            textStyle.fontWeight,\r\n            (textStyle.fontSize || 12) + 'px',\r\n            textStyle.fontFamily || 'sans-serif'\r\n        ].join(' ');\r\n        textStyle.font = font;\r\n        var rect = text.getBoundingRect();\r\n        this._textX += rect.width;\r\n        parentGroup.add(text);\r\n        return text;\r\n    };\r\n    SVGParser.internalField = (function () {\r\n        nodeParsers = {\r\n            'g': function (xmlNode, parentGroup) {\r\n                var g = new Group();\r\n                inheritStyle(parentGroup, g);\r\n                parseAttributes(xmlNode, g, this._defsUsePending, false, false);\r\n                return g;\r\n            },\r\n            'rect': function (xmlNode, parentGroup) {\r\n                var rect = new Rect();\r\n                inheritStyle(parentGroup, rect);\r\n                parseAttributes(xmlNode, rect, this._defsUsePending, false, false);\r\n                rect.setShape({\r\n                    x: parseFloat(xmlNode.getAttribute('x') || '0'),\r\n                    y: parseFloat(xmlNode.getAttribute('y') || '0'),\r\n                    width: parseFloat(xmlNode.getAttribute('width') || '0'),\r\n                    height: parseFloat(xmlNode.getAttribute('height') || '0')\r\n                });\r\n                rect.silent = true;\r\n                return rect;\r\n            },\r\n            'circle': function (xmlNode, parentGroup) {\r\n                var circle = new Circle();\r\n                inheritStyle(parentGroup, circle);\r\n                parseAttributes(xmlNode, circle, this._defsUsePending, false, false);\r\n                circle.setShape({\r\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\r\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\r\n                    r: parseFloat(xmlNode.getAttribute('r') || '0')\r\n                });\r\n                circle.silent = true;\r\n                return circle;\r\n            },\r\n            'line': function (xmlNode, parentGroup) {\r\n                var line = new Line();\r\n                inheritStyle(parentGroup, line);\r\n                parseAttributes(xmlNode, line, this._defsUsePending, false, false);\r\n                line.setShape({\r\n                    x1: parseFloat(xmlNode.getAttribute('x1') || '0'),\r\n                    y1: parseFloat(xmlNode.getAttribute('y1') || '0'),\r\n                    x2: parseFloat(xmlNode.getAttribute('x2') || '0'),\r\n                    y2: parseFloat(xmlNode.getAttribute('y2') || '0')\r\n                });\r\n                line.silent = true;\r\n                return line;\r\n            },\r\n            'ellipse': function (xmlNode, parentGroup) {\r\n                var ellipse = new Ellipse();\r\n                inheritStyle(parentGroup, ellipse);\r\n                parseAttributes(xmlNode, ellipse, this._defsUsePending, false, false);\r\n                ellipse.setShape({\r\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\r\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\r\n                    rx: parseFloat(xmlNode.getAttribute('rx') || '0'),\r\n                    ry: parseFloat(xmlNode.getAttribute('ry') || '0')\r\n                });\r\n                ellipse.silent = true;\r\n                return ellipse;\r\n            },\r\n            'polygon': function (xmlNode, parentGroup) {\r\n                var pointsStr = xmlNode.getAttribute('points');\r\n                var pointsArr;\r\n                if (pointsStr) {\r\n                    pointsArr = parsePoints(pointsStr);\r\n                }\r\n                var polygon = new Polygon({\r\n                    shape: {\r\n                        points: pointsArr || []\r\n                    },\r\n                    silent: true\r\n                });\r\n                inheritStyle(parentGroup, polygon);\r\n                parseAttributes(xmlNode, polygon, this._defsUsePending, false, false);\r\n                return polygon;\r\n            },\r\n            'polyline': function (xmlNode, parentGroup) {\r\n                var pointsStr = xmlNode.getAttribute('points');\r\n                var pointsArr;\r\n                if (pointsStr) {\r\n                    pointsArr = parsePoints(pointsStr);\r\n                }\r\n                var polyline = new Polyline({\r\n                    shape: {\r\n                        points: pointsArr || []\r\n                    },\r\n                    silent: true\r\n                });\r\n                inheritStyle(parentGroup, polyline);\r\n                parseAttributes(xmlNode, polyline, this._defsUsePending, false, false);\r\n                return polyline;\r\n            },\r\n            'image': function (xmlNode, parentGroup) {\r\n                var img = new ZRImage();\r\n                inheritStyle(parentGroup, img);\r\n                parseAttributes(xmlNode, img, this._defsUsePending, false, false);\r\n                img.setStyle({\r\n                    image: xmlNode.getAttribute('xlink:href') || xmlNode.getAttribute('href'),\r\n                    x: +xmlNode.getAttribute('x'),\r\n                    y: +xmlNode.getAttribute('y'),\r\n                    width: +xmlNode.getAttribute('width'),\r\n                    height: +xmlNode.getAttribute('height')\r\n                });\r\n                img.silent = true;\r\n                return img;\r\n            },\r\n            'text': function (xmlNode, parentGroup) {\r\n                var x = xmlNode.getAttribute('x') || '0';\r\n                var y = xmlNode.getAttribute('y') || '0';\r\n                var dx = xmlNode.getAttribute('dx') || '0';\r\n                var dy = xmlNode.getAttribute('dy') || '0';\r\n                this._textX = parseFloat(x) + parseFloat(dx);\r\n                this._textY = parseFloat(y) + parseFloat(dy);\r\n                var g = new Group();\r\n                inheritStyle(parentGroup, g);\r\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\r\n                return g;\r\n            },\r\n            'tspan': function (xmlNode, parentGroup) {\r\n                var x = xmlNode.getAttribute('x');\r\n                var y = xmlNode.getAttribute('y');\r\n                if (x != null) {\r\n                    this._textX = parseFloat(x);\r\n                }\r\n                if (y != null) {\r\n                    this._textY = parseFloat(y);\r\n                }\r\n                var dx = xmlNode.getAttribute('dx') || '0';\r\n                var dy = xmlNode.getAttribute('dy') || '0';\r\n                var g = new Group();\r\n                inheritStyle(parentGroup, g);\r\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\r\n                this._textX += parseFloat(dx);\r\n                this._textY += parseFloat(dy);\r\n                return g;\r\n            },\r\n            'path': function (xmlNode, parentGroup) {\r\n                var d = xmlNode.getAttribute('d') || '';\r\n                var path = createFromString(d);\r\n                inheritStyle(parentGroup, path);\r\n                parseAttributes(xmlNode, path, this._defsUsePending, false, false);\r\n                path.silent = true;\r\n                return path;\r\n            }\r\n        };\r\n    })();\r\n    return SVGParser;\r\n}());\r\nvar paintServerParsers = {\r\n    'lineargradient': function (xmlNode) {\r\n        var x1 = parseInt(xmlNode.getAttribute('x1') || '0', 10);\r\n        var y1 = parseInt(xmlNode.getAttribute('y1') || '0', 10);\r\n        var x2 = parseInt(xmlNode.getAttribute('x2') || '10', 10);\r\n        var y2 = parseInt(xmlNode.getAttribute('y2') || '0', 10);\r\n        var gradient = new LinearGradient(x1, y1, x2, y2);\r\n        parsePaintServerUnit(xmlNode, gradient);\r\n        parseGradientColorStops(xmlNode, gradient);\r\n        return gradient;\r\n    },\r\n    'radialgradient': function (xmlNode) {\r\n        var cx = parseInt(xmlNode.getAttribute('cx') || '0', 10);\r\n        var cy = parseInt(xmlNode.getAttribute('cy') || '0', 10);\r\n        var r = parseInt(xmlNode.getAttribute('r') || '0', 10);\r\n        var gradient = new RadialGradient(cx, cy, r);\r\n        parsePaintServerUnit(xmlNode, gradient);\r\n        parseGradientColorStops(xmlNode, gradient);\r\n        return gradient;\r\n    }\r\n};\r\nfunction parsePaintServerUnit(xmlNode, gradient) {\r\n    var gradientUnits = xmlNode.getAttribute('gradientUnits');\r\n    if (gradientUnits === 'userSpaceOnUse') {\r\n        gradient.global = true;\r\n    }\r\n}\r\nfunction parseGradientColorStops(xmlNode, gradient) {\r\n    var stop = xmlNode.firstChild;\r\n    while (stop) {\r\n        if (stop.nodeType === 1\r\n            && stop.nodeName.toLocaleLowerCase() === 'stop') {\r\n            var offsetStr = stop.getAttribute('offset');\r\n            var offset = void 0;\r\n            if (offsetStr && offsetStr.indexOf('%') > 0) {\r\n                offset = parseInt(offsetStr, 10) / 100;\r\n            }\r\n            else if (offsetStr) {\r\n                offset = parseFloat(offsetStr);\r\n            }\r\n            else {\r\n                offset = 0;\r\n            }\r\n            var styleVals = {};\r\n            parseInlineStyle(stop, styleVals, styleVals);\r\n            var stopColor = styleVals.stopColor\r\n                || stop.getAttribute('stop-color')\r\n                || '#000000';\r\n            gradient.colorStops.push({\r\n                offset: offset,\r\n                color: stopColor\r\n            });\r\n        }\r\n        stop = stop.nextSibling;\r\n    }\r\n}\r\nfunction inheritStyle(parent, child) {\r\n    if (parent && parent.__inheritedStyle) {\r\n        if (!child.__inheritedStyle) {\r\n            child.__inheritedStyle = {};\r\n        }\r\n        defaults(child.__inheritedStyle, parent.__inheritedStyle);\r\n    }\r\n}\r\nfunction parsePoints(pointsString) {\r\n    var list = splitNumberSequence(pointsString);\r\n    var points = [];\r\n    for (var i = 0; i < list.length; i += 2) {\r\n        var x = parseFloat(list[i]);\r\n        var y = parseFloat(list[i + 1]);\r\n        points.push([x, y]);\r\n    }\r\n    return points;\r\n}\r\nfunction parseAttributes(xmlNode, el, defsUsePending, onlyInlineStyle, isTextGroup) {\r\n    var disp = el;\r\n    var inheritedStyle = disp.__inheritedStyle = disp.__inheritedStyle || {};\r\n    var selfStyle = {};\r\n    if (xmlNode.nodeType === 1) {\r\n        parseTransformAttribute(xmlNode, el);\r\n        parseInlineStyle(xmlNode, inheritedStyle, selfStyle);\r\n        if (!onlyInlineStyle) {\r\n            parseAttributeStyle(xmlNode, inheritedStyle, selfStyle);\r\n        }\r\n    }\r\n    disp.style = disp.style || {};\r\n    if (inheritedStyle.fill != null) {\r\n        disp.style.fill = getFillStrokeStyle(disp, 'fill', inheritedStyle.fill, defsUsePending);\r\n    }\r\n    if (inheritedStyle.stroke != null) {\r\n        disp.style.stroke = getFillStrokeStyle(disp, 'stroke', inheritedStyle.stroke, defsUsePending);\r\n    }\r\n    each([\r\n        'lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'\r\n    ], function (propName) {\r\n        if (inheritedStyle[propName] != null) {\r\n            disp.style[propName] = parseFloat(inheritedStyle[propName]);\r\n        }\r\n    });\r\n    each([\r\n        'lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign'\r\n    ], function (propName) {\r\n        if (inheritedStyle[propName] != null) {\r\n            disp.style[propName] = inheritedStyle[propName];\r\n        }\r\n    });\r\n    if (isTextGroup) {\r\n        disp.__selfStyle = selfStyle;\r\n    }\r\n    if (inheritedStyle.lineDash) {\r\n        disp.style.lineDash = map(splitNumberSequence(inheritedStyle.lineDash), function (str) {\r\n            return parseFloat(str);\r\n        });\r\n    }\r\n    if (inheritedStyle.visibility === 'hidden' || inheritedStyle.visibility === 'collapse') {\r\n        disp.invisible = true;\r\n    }\r\n    if (inheritedStyle.display === 'none') {\r\n        disp.ignore = true;\r\n    }\r\n}\r\nfunction applyTextAlignment(text, parentGroup) {\r\n    var parentSelfStyle = parentGroup.__selfStyle;\r\n    if (parentSelfStyle) {\r\n        var textBaseline = parentSelfStyle.textBaseline;\r\n        var zrTextBaseline = textBaseline;\r\n        if (!textBaseline || textBaseline === 'auto') {\r\n            zrTextBaseline = 'alphabetic';\r\n        }\r\n        else if (textBaseline === 'baseline') {\r\n            zrTextBaseline = 'alphabetic';\r\n        }\r\n        else if (textBaseline === 'before-edge' || textBaseline === 'text-before-edge') {\r\n            zrTextBaseline = 'top';\r\n        }\r\n        else if (textBaseline === 'after-edge' || textBaseline === 'text-after-edge') {\r\n            zrTextBaseline = 'bottom';\r\n        }\r\n        else if (textBaseline === 'central' || textBaseline === 'mathematical') {\r\n            zrTextBaseline = 'middle';\r\n        }\r\n        text.style.textBaseline = zrTextBaseline;\r\n    }\r\n    var parentInheritedStyle = parentGroup.__inheritedStyle;\r\n    if (parentInheritedStyle) {\r\n        var textAlign = parentInheritedStyle.textAlign;\r\n        var zrTextAlign = textAlign;\r\n        if (textAlign) {\r\n            if (textAlign === 'middle') {\r\n                zrTextAlign = 'center';\r\n            }\r\n            text.style.textAlign = zrTextAlign;\r\n        }\r\n    }\r\n}\r\nvar urlRegex = /^url\\(\\s*#(.*?)\\)/;\r\nfunction getFillStrokeStyle(el, method, str, defsUsePending) {\r\n    var urlMatch = str && str.match(urlRegex);\r\n    if (urlMatch) {\r\n        var url = trim(urlMatch[1]);\r\n        defsUsePending.push([el, method, url]);\r\n        return;\r\n    }\r\n    if (str === 'none') {\r\n        str = null;\r\n    }\r\n    return str;\r\n}\r\nfunction applyDefs(defs, defsUsePending) {\r\n    for (var i = 0; i < defsUsePending.length; i++) {\r\n        var item = defsUsePending[i];\r\n        item[0].style[item[1]] = defs[item[2]];\r\n    }\r\n}\r\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\r\nfunction splitNumberSequence(rawStr) {\r\n    return rawStr.match(numberReg) || [];\r\n}\r\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.eE,]*)\\)/g;\r\nvar DEGREE_TO_ANGLE = Math.PI / 180;\r\nfunction parseTransformAttribute(xmlNode, node) {\r\n    var transform = xmlNode.getAttribute('transform');\r\n    if (transform) {\r\n        transform = transform.replace(/,/g, ' ');\r\n        var transformOps_1 = [];\r\n        var mt = null;\r\n        transform.replace(transformRegex, function (str, type, value) {\r\n            transformOps_1.push(type, value);\r\n            return '';\r\n        });\r\n        for (var i = transformOps_1.length - 1; i > 0; i -= 2) {\r\n            var value = transformOps_1[i];\r\n            var type = transformOps_1[i - 1];\r\n            var valueArr = splitNumberSequence(value);\r\n            mt = mt || matrix.create();\r\n            switch (type) {\r\n                case 'translate':\r\n                    matrix.translate(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || '0')]);\r\n                    break;\r\n                case 'scale':\r\n                    matrix.scale(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || valueArr[0])]);\r\n                    break;\r\n                case 'rotate':\r\n                    matrix.rotate(mt, mt, -parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\r\n                    break;\r\n                case 'skewX':\r\n                    var sx = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\r\n                    matrix.mul(mt, [1, 0, sx, 1, 0, 0], mt);\r\n                    break;\r\n                case 'skewY':\r\n                    var sy = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\r\n                    matrix.mul(mt, [1, sy, 0, 1, 0, 0], mt);\r\n                    break;\r\n                case 'matrix':\r\n                    mt[0] = parseFloat(valueArr[0]);\r\n                    mt[1] = parseFloat(valueArr[1]);\r\n                    mt[2] = parseFloat(valueArr[2]);\r\n                    mt[3] = parseFloat(valueArr[3]);\r\n                    mt[4] = parseFloat(valueArr[4]);\r\n                    mt[5] = parseFloat(valueArr[5]);\r\n                    break;\r\n            }\r\n        }\r\n        node.setLocalTransform(mt);\r\n    }\r\n}\r\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\r\nfunction parseInlineStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\r\n    var style = xmlNode.getAttribute('style');\r\n    if (!style) {\r\n        return;\r\n    }\r\n    styleRegex.lastIndex = 0;\r\n    var styleRegResult;\r\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\r\n        var svgStlAttr = styleRegResult[1];\r\n        var zrInheritableStlAttr = hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP, svgStlAttr)\r\n            ? INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]\r\n            : null;\r\n        if (zrInheritableStlAttr) {\r\n            inheritableStyleResult[zrInheritableStlAttr] = styleRegResult[2];\r\n        }\r\n        var zrSelfStlAttr = hasOwn(SELF_STYLE_ATTRIBUTES_MAP, svgStlAttr)\r\n            ? SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]\r\n            : null;\r\n        if (zrSelfStlAttr) {\r\n            selfStyleResult[zrSelfStlAttr] = styleRegResult[2];\r\n        }\r\n    }\r\n}\r\nfunction parseAttributeStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\r\n    for (var i = 0; i < INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\r\n        var svgAttrName = INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];\r\n        var attrValue = xmlNode.getAttribute(svgAttrName);\r\n        if (attrValue != null) {\r\n            inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\r\n        }\r\n    }\r\n    for (var i = 0; i < SELF_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\r\n        var svgAttrName = SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];\r\n        var attrValue = xmlNode.getAttribute(svgAttrName);\r\n        if (attrValue != null) {\r\n            selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\r\n        }\r\n    }\r\n}\r\nexport function makeViewBoxTransform(viewBoxRect, boundingRect) {\r\n    var scaleX = boundingRect.width / viewBoxRect.width;\r\n    var scaleY = boundingRect.height / viewBoxRect.height;\r\n    var scale = Math.min(scaleX, scaleY);\r\n    return {\r\n        scale: scale,\r\n        x: -(viewBoxRect.x + viewBoxRect.width / 2) * scale + (boundingRect.x + boundingRect.width / 2),\r\n        y: -(viewBoxRect.y + viewBoxRect.height / 2) * scale + (boundingRect.y + boundingRect.height / 2)\r\n    };\r\n}\r\nexport function parseSVG(xml, opt) {\r\n    var parser = new SVGParser();\r\n    return parser.parse(xml, opt);\r\n}\r\nexport { parseXML };\r\n", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { parseSVG, makeViewBoxTransform } from 'zrender/lib/tool/parseSVG.js';\r\nimport Group from 'zrender/lib/graphic/Group.js';\r\nimport Rect from 'zrender/lib/graphic/shape/Rect.js';\r\nimport { assert, createHashMap, each } from 'zrender/lib/core/util.js';\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nimport { parseXML } from 'zrender/lib/tool/parseXML.js';\r\nimport { GeoSVGRegion } from './Region.js';\r\n/**\r\n * \"region available\" means that: enable users to set attribute `name=\"xxx\"` on those tags\r\n * to make it be a region.\r\n * 1. region styles and its label styles can be defined in echarts opton:\r\n * ```js\r\n * geo: {\r\n *     regions: [{\r\n *         name: 'xxx',\r\n *         itemStyle: { ... },\r\n *         label: { ... }\r\n *     }, {\r\n *         ...\r\n *     },\r\n *     ...]\r\n * };\r\n * ```\r\n * 2. name can be duplicated in different SVG tag. All of the tags with the same name share\r\n * a region option. For exampel if there are two <path> representing two lung lobes. They have\r\n * no common parents but both of them need to display label \"lung\" inside.\r\n */\r\n\r\nvar REGION_AVAILABLE_SVG_TAG_MAP = createHashMap(['rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path', // <text> <tspan> are also enabled because some SVG might paint text itself,\r\n// but still need to trigger events or tooltip.\r\n'text', 'tspan', // <g> is also enabled because this case: if multiple tags share one name\r\n// and need label displayed, every tags will display the name, which is not\r\n// expected. So we can put them into a <g name=\"xxx\">. Thereby only one label\r\n// displayed and located based on the bounding rect of the <g>.\r\n'g']);\r\n\r\nvar GeoSVGResource =\r\n/** @class */\r\nfunction () {\r\n  function GeoSVGResource(mapName, svg) {\r\n    this.type = 'geoSVG'; // All used graphics. key: hostKey, value: root\r\n\r\n    this._usedGraphicMap = createHashMap(); // All unused graphics.\r\n\r\n    this._freedGraphics = [];\r\n    this._mapName = mapName; // Only perform parse to XML object here, which might be time\r\n    // consiming for large SVG.\r\n    // Although convert XML to zrender element is also time consiming,\r\n    // if we do it here, the clone of zrender elements has to be\r\n    // required. So we do it once for each geo instance, util real\r\n    // performance issues call for optimizing it.\r\n\r\n    this._parsedXML = parseXML(svg);\r\n  }\r\n\r\n  GeoSVGResource.prototype.load = function ()\r\n  /* nameMap: NameMap */\r\n  {\r\n    // In the \"load\" stage, graphic need to be built to\r\n    // get boundingRect for geo coordinate system.\r\n    var firstGraphic = this._firstGraphic; // Create the return data structure only when first graphic created.\r\n    // Because they will be used in geo coordinate system update stage,\r\n    // and `regions` will be mounted at `geo` coordinate system,\r\n    // in which there is no \"view\" info, so that it should better not to\r\n    // make references to graphic elements.\r\n\r\n    if (!firstGraphic) {\r\n      firstGraphic = this._firstGraphic = this._buildGraphic(this._parsedXML);\r\n\r\n      this._freedGraphics.push(firstGraphic);\r\n\r\n      this._boundingRect = this._firstGraphic.boundingRect.clone(); // PENDING: `nameMap` will not be supported until some real requirement come.\r\n      // if (nameMap) {\r\n      //     named = applyNameMap(named, nameMap);\r\n      // }\r\n\r\n      var _a = createRegions(firstGraphic.named),\r\n          regions = _a.regions,\r\n          regionsMap = _a.regionsMap;\r\n\r\n      this._regions = regions;\r\n      this._regionsMap = regionsMap;\r\n    }\r\n\r\n    return {\r\n      boundingRect: this._boundingRect,\r\n      regions: this._regions,\r\n      regionsMap: this._regionsMap\r\n    };\r\n  };\r\n\r\n  GeoSVGResource.prototype._buildGraphic = function (svgXML) {\r\n    var result;\r\n    var rootFromParse;\r\n\r\n    try {\r\n      result = svgXML && parseSVG(svgXML, {\r\n        ignoreViewBox: true,\r\n        ignoreRootClip: true\r\n      }) || {};\r\n      rootFromParse = result.root;\r\n      assert(rootFromParse != null);\r\n    } catch (e) {\r\n      throw new Error('Invalid svg format\\n' + e.message);\r\n    } // Note: we keep the covenant that the root has no transform. So always add an extra root.\r\n\r\n\r\n    var root = new Group();\r\n    root.add(rootFromParse);\r\n    root.isGeoSVGGraphicRoot = true; // [THE_RULE_OF_VIEWPORT_AND_VIEWBOX]\r\n    //\r\n    // Consider: `<svg width=\"...\" height=\"...\" viewBox=\"...\">`\r\n    // - the `width/height` we call it `svgWidth/svgHeight` for short.\r\n    // - `(0, 0, svgWidth, svgHeight)` defines the viewport of the SVG, or say,\r\n    //   \"viewport boundingRect\", or `boundingRect` for short.\r\n    // - `viewBox` defines the transform from the real content ot the viewport.\r\n    //   `viewBox` has the same unit as the content of SVG.\r\n    //   If `viewBox` exists, a transform is defined, so the unit of `svgWidth/svgHeight` become\r\n    //   different from the content of SVG. Otherwise, they are the same.\r\n    //\r\n    // If both `svgWidth/svgHeight/viewBox` are specified in a SVG file, the transform rule will be:\r\n    // 0. `boundingRect` is `(0, 0, svgWidth, svgHeight)`. Set it to Geo['_rect'] (View['_rect']).\r\n    // 1. Make a transform from `viewBox` to `boundingRect`.\r\n    //    Note: only support `preserveAspectRatio 'xMidYMid'` here. That is, this transform will preserve\r\n    //    the aspect ratio.\r\n    // 2. Make a transform from boundingRect to Geo['_viewRect'] (View['_viewRect'])\r\n    //    (`Geo`/`View` will do this job).\r\n    //    Note: this transform might not preserve aspect radio, which depending on how users specify\r\n    //    viewRect in echarts option (e.g., `geo.left/top/width/height` will not preserve aspect ratio,\r\n    //    but `geo.layoutCenter/layoutSize` will preserve aspect ratio).\r\n    //\r\n    // If `svgWidth/svgHeight` not specified, we use `viewBox` as the `boundingRect` to make the SVG\r\n    // layout look good.\r\n    //\r\n    // If neither `svgWidth/svgHeight` nor `viewBox` are not specified, we calculate the boundingRect\r\n    // of the SVG content and use them to make SVG layout look good.\r\n\r\n    var svgWidth = result.width;\r\n    var svgHeight = result.height;\r\n    var viewBoxRect = result.viewBoxRect;\r\n    var boundingRect = this._boundingRect;\r\n\r\n    if (!boundingRect) {\r\n      var bRectX = void 0;\r\n      var bRectY = void 0;\r\n      var bRectWidth = void 0;\r\n      var bRectHeight = void 0;\r\n\r\n      if (svgWidth != null) {\r\n        bRectX = 0;\r\n        bRectWidth = svgWidth;\r\n      } else if (viewBoxRect) {\r\n        bRectX = viewBoxRect.x;\r\n        bRectWidth = viewBoxRect.width;\r\n      }\r\n\r\n      if (svgHeight != null) {\r\n        bRectY = 0;\r\n        bRectHeight = svgHeight;\r\n      } else if (viewBoxRect) {\r\n        bRectY = viewBoxRect.y;\r\n        bRectHeight = viewBoxRect.height;\r\n      } // If both viewBox and svgWidth/svgHeight not specified,\r\n      // we have to determine how to layout those element to make them look good.\r\n\r\n\r\n      if (bRectX == null || bRectY == null) {\r\n        var calculatedBoundingRect = rootFromParse.getBoundingRect();\r\n\r\n        if (bRectX == null) {\r\n          bRectX = calculatedBoundingRect.x;\r\n          bRectWidth = calculatedBoundingRect.width;\r\n        }\r\n\r\n        if (bRectY == null) {\r\n          bRectY = calculatedBoundingRect.y;\r\n          bRectHeight = calculatedBoundingRect.height;\r\n        }\r\n      }\r\n\r\n      boundingRect = this._boundingRect = new BoundingRect(bRectX, bRectY, bRectWidth, bRectHeight);\r\n    }\r\n\r\n    if (viewBoxRect) {\r\n      var viewBoxTransform = makeViewBoxTransform(viewBoxRect, boundingRect); // Only support `preserveAspectRatio 'xMidYMid'`\r\n\r\n      rootFromParse.scaleX = rootFromParse.scaleY = viewBoxTransform.scale;\r\n      rootFromParse.x = viewBoxTransform.x;\r\n      rootFromParse.y = viewBoxTransform.y;\r\n    } // SVG needs to clip based on `viewBox`. And some SVG files really rely on this feature.\r\n    // They do not strictly confine all of the content inside a display rect, but deliberately\r\n    // use a `viewBox` to define a displayable rect.\r\n    // PENDING:\r\n    // The drawback of the `setClipPath` here is: the region label (genereted by echarts) near the\r\n    // edge might also be clipped, because region labels are put as `textContent` of the SVG path.\r\n\r\n\r\n    root.setClipPath(new Rect({\r\n      shape: boundingRect.plain()\r\n    }));\r\n    var named = [];\r\n    each(result.named, function (namedItem) {\r\n      if (REGION_AVAILABLE_SVG_TAG_MAP.get(namedItem.svgNodeTagLower) != null) {\r\n        named.push(namedItem);\r\n        setSilent(namedItem.el);\r\n      }\r\n    });\r\n    return {\r\n      root: root,\r\n      boundingRect: boundingRect,\r\n      named: named\r\n    };\r\n  };\r\n  /**\r\n   * Consider:\r\n   * (1) One graphic element can not be shared by different `geoView` running simultaneously.\r\n   *     Notice, also need to consider multiple echarts instances share a `mapRecord`.\r\n   * (2) Converting SVG to graphic elements is time consuming.\r\n   * (3) In the current architecture, `load` should be called frequently to get boundingRect,\r\n   *     and it is called without view info.\r\n   * So we maintain graphic elements in this module, and enables `view` to use/return these\r\n   * graphics from/to the pool with it's uid.\r\n   */\r\n\r\n\r\n  GeoSVGResource.prototype.useGraphic = function (hostKey\r\n  /* , nameMap: NameMap */\r\n  ) {\r\n    var usedRootMap = this._usedGraphicMap;\r\n    var svgGraphic = usedRootMap.get(hostKey);\r\n\r\n    if (svgGraphic) {\r\n      return svgGraphic;\r\n    }\r\n\r\n    svgGraphic = this._freedGraphics.pop() // use the first boundingRect to avoid duplicated boundingRect calculation.\r\n    || this._buildGraphic(this._parsedXML);\r\n    usedRootMap.set(hostKey, svgGraphic); // PENDING: `nameMap` will not be supported until some real requirement come.\r\n    // `nameMap` can only be obtained from echarts option.\r\n    // The original `named` must not be modified.\r\n    // if (nameMap) {\r\n    //     svgGraphic = extend({}, svgGraphic);\r\n    //     svgGraphic.named = applyNameMap(svgGraphic.named, nameMap);\r\n    // }\r\n\r\n    return svgGraphic;\r\n  };\r\n\r\n  GeoSVGResource.prototype.freeGraphic = function (hostKey) {\r\n    var usedRootMap = this._usedGraphicMap;\r\n    var svgGraphic = usedRootMap.get(hostKey);\r\n\r\n    if (svgGraphic) {\r\n      usedRootMap.removeKey(hostKey);\r\n\r\n      this._freedGraphics.push(svgGraphic);\r\n    }\r\n  };\r\n\r\n  return GeoSVGResource;\r\n}();\r\n\r\nexport { GeoSVGResource };\r\n\r\nfunction setSilent(el) {\r\n  // Only named element has silent: false, other elements should\r\n  // act as background and has no user interaction.\r\n  el.silent = false; // text|tspan will be converted to group.\r\n\r\n  if (el.isGroup) {\r\n    el.traverse(function (child) {\r\n      child.silent = false;\r\n    });\r\n  }\r\n}\r\n\r\nfunction createRegions(named) {\r\n  var regions = [];\r\n  var regionsMap = createHashMap(); // Create resions only for the first graphic.\r\n\r\n  each(named, function (namedItem) {\r\n    // Region has feature to calculate center for tooltip or other features.\r\n    // If there is a <g name=\"xxx\">, the center should be the center of the\r\n    // bounding rect of the g.\r\n    if (namedItem.namedFrom != null) {\r\n      return;\r\n    }\r\n\r\n    var region = new GeoSVGRegion(namedItem.name, namedItem.el); // PENDING: if `nameMap` supported, this region can not be mounted on\r\n    // `this`, but can only be created each time `load()` called.\r\n\r\n    regions.push(region); // PENDING: if multiple tag named with the same name, only one will be\r\n    // found by `_regionsMap`. `_regionsMap` is used to find a coordinate\r\n    // by name. We use `region.getCenter()` as the coordinate.\r\n\r\n    regionsMap.set(namedItem.name, region);\r\n  });\r\n  return {\r\n    regions: regions,\r\n    regionsMap: regionsMap\r\n  };\r\n} // PENDING: `nameMap` will not be supported until some real requirement come.\r\n// /**\r\n//  * Use the alias in geoNameMap.\r\n//  * The input `named` must not be modified.\r\n//  */\r\n// function applyNameMap(\r\n//     named: GeoSVGGraphicRecord['named'],\r\n//     nameMap: NameMap\r\n// ): GeoSVGGraphicRecord['named'] {\r\n//     const result = [] as GeoSVGGraphicRecord['named'];\r\n//     for (let i = 0; i < named.length; i++) {\r\n//         let regionGraphic = named[i];\r\n//         const name = regionGraphic.name;\r\n//         if (nameMap && nameMap.hasOwnProperty(name)) {\r\n//             regionGraphic = extend({}, regionGraphic);\r\n//             regionGraphic.name = name;\r\n//         }\r\n//         result.push(regionGraphic);\r\n//     }\r\n//     return result;\r\n// }", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n// Fix for \u5357\u6D77\u8BF8\u5C9B\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport { GeoJSONRegion } from '../Region.js';\r\nvar geoCoord = [126, 25];\r\nvar nanhaiName = '\u5357\u6D77\u8BF8\u5C9B';\r\nvar points = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];\r\n\r\nfor (var i = 0; i < points.length; i++) {\r\n  for (var k = 0; k < points[i].length; k++) {\r\n    points[i][k][0] /= 10.5;\r\n    points[i][k][1] /= -10.5 / 0.75;\r\n    points[i][k][0] += geoCoord[0];\r\n    points[i][k][1] += geoCoord[1];\r\n  }\r\n}\r\n\r\nexport default function fixNanhai(mapType, regions) {\r\n  if (mapType === 'china') {\r\n    for (var i = 0; i < regions.length; i++) {\r\n      // Already exists.\r\n      if (regions[i].name === nanhaiName) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    regions.push(new GeoJSONRegion(nanhaiName, zrUtil.map(points, function (exterior) {\r\n      return {\r\n        type: 'polygon',\r\n        exterior: exterior\r\n      };\r\n    }), geoCoord));\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nvar coordsOffsetMap = {\r\n  '\u5357\u6D77\u8BF8\u5C9B': [32, 80],\r\n  // \u5168\u56FD\r\n  '\u5E7F\u4E1C': [0, -10],\r\n  '\u9999\u6E2F': [10, 5],\r\n  '\u6FB3\u95E8': [-10, 10],\r\n  // '\u5317\u4EAC': [-10, 0],\r\n  '\u5929\u6D25': [5, 5]\r\n};\r\nexport default function fixTextCoords(mapType, region) {\r\n  if (mapType === 'china') {\r\n    var coordFix = coordsOffsetMap[region.name];\r\n\r\n    if (coordFix) {\r\n      var cp = region.getCenter();\r\n      cp[0] += coordFix[0] / 10.5;\r\n      cp[1] += -coordFix[1] / (10.5 / 0.75);\r\n      region.setCenter(cp);\r\n    }\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n// Fix for \u9493\u9C7C\u5C9B\r\n// let Region = require('../Region');\r\n// let zrUtil = require('zrender/lib/core/util');\r\n// let geoCoord = [126, 25];\r\nvar points = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];\r\nexport default function fixDiaoyuIsland(mapType, region) {\r\n  if (mapType === 'china' && region.name === '\u53F0\u6E7E') {\r\n    region.geometries.push({\r\n      type: 'polygon',\r\n      exterior: points[0]\r\n    });\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { each, isString, createHashMap, hasOwn } from 'zrender/lib/core/util.js';\r\nimport parseGeoJson from './parseGeoJson.js'; // Built-in GEO fixer.\r\n\r\nimport fixNanhai from './fix/nanhai.js';\r\nimport fixTextCoord from './fix/textCoord.js';\r\nimport fixDiaoyuIsland from './fix/diaoyuIsland.js';\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nvar DEFAULT_NAME_PROPERTY = 'name';\r\n\r\nvar GeoJSONResource =\r\n/** @class */\r\nfunction () {\r\n  function GeoJSONResource(mapName, geoJSON, specialAreas) {\r\n    this.type = 'geoJSON';\r\n    this._parsedMap = createHashMap();\r\n    this._mapName = mapName;\r\n    this._specialAreas = specialAreas; // PENDING: delay the parse to the first usage to rapid up the FMP?\r\n\r\n    this._geoJSON = parseInput(geoJSON);\r\n  }\r\n  /**\r\n   * @param nameMap can be null/undefined\r\n   * @param nameProperty can be null/undefined\r\n   */\r\n\r\n\r\n  GeoJSONResource.prototype.load = function (nameMap, nameProperty) {\r\n    nameProperty = nameProperty || DEFAULT_NAME_PROPERTY;\r\n\r\n    var parsed = this._parsedMap.get(nameProperty);\r\n\r\n    if (!parsed) {\r\n      var rawRegions = this._parseToRegions(nameProperty);\r\n\r\n      parsed = this._parsedMap.set(nameProperty, {\r\n        regions: rawRegions,\r\n        boundingRect: calculateBoundingRect(rawRegions)\r\n      });\r\n    }\r\n\r\n    var regionsMap = createHashMap();\r\n    var finalRegions = [];\r\n    each(parsed.regions, function (region) {\r\n      var regionName = region.name; // Try use the alias in geoNameMap\r\n\r\n      if (nameMap && hasOwn(nameMap, regionName)) {\r\n        region = region.cloneShallow(regionName = nameMap[regionName]);\r\n      }\r\n\r\n      finalRegions.push(region);\r\n      regionsMap.set(regionName, region);\r\n    });\r\n    return {\r\n      regions: finalRegions,\r\n      boundingRect: parsed.boundingRect || new BoundingRect(0, 0, 0, 0),\r\n      regionsMap: regionsMap\r\n    };\r\n  };\r\n\r\n  GeoJSONResource.prototype._parseToRegions = function (nameProperty) {\r\n    var mapName = this._mapName;\r\n    var geoJSON = this._geoJSON;\r\n    var rawRegions; // https://jsperf.com/try-catch-performance-overhead\r\n\r\n    try {\r\n      rawRegions = geoJSON ? parseGeoJson(geoJSON, nameProperty) : [];\r\n    } catch (e) {\r\n      throw new Error('Invalid geoJson format\\n' + e.message);\r\n    }\r\n\r\n    fixNanhai(mapName, rawRegions);\r\n    each(rawRegions, function (region) {\r\n      var regionName = region.name;\r\n      fixTextCoord(mapName, region);\r\n      fixDiaoyuIsland(mapName, region); // Some area like Alaska in USA map needs to be tansformed\r\n      // to look better\r\n\r\n      var specialArea = this._specialAreas && this._specialAreas[regionName];\r\n\r\n      if (specialArea) {\r\n        region.transformTo(specialArea.left, specialArea.top, specialArea.width, specialArea.height);\r\n      }\r\n    }, this);\r\n    return rawRegions;\r\n  };\r\n  /**\r\n   * Only for exporting to users.\r\n   * **MUST NOT** used internally.\r\n   */\r\n\r\n\r\n  GeoJSONResource.prototype.getMapForUser = function () {\r\n    return {\r\n      // For backward compatibility, use geoJson\r\n      // PENDING: it has been returning them without clone.\r\n      // do we need to avoid outsite modification?\r\n      geoJson: this._geoJSON,\r\n      geoJSON: this._geoJSON,\r\n      specialAreas: this._specialAreas\r\n    };\r\n  };\r\n\r\n  return GeoJSONResource;\r\n}();\r\n\r\nexport { GeoJSONResource };\r\n\r\nfunction calculateBoundingRect(regions) {\r\n  var rect;\r\n\r\n  for (var i = 0; i < regions.length; i++) {\r\n    var regionRect = regions[i].getBoundingRect();\r\n    rect = rect || regionRect.clone();\r\n    rect.union(regionRect);\r\n  }\r\n\r\n  return rect;\r\n}\r\n\r\nfunction parseInput(source) {\r\n  return !isString(source) ? source : typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(source) : new Function('return (' + source + ');')();\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { createHashMap } from 'zrender/lib/core/util.js';\r\nimport { GeoSVGResource } from './GeoSVGResource.js';\r\nimport { GeoJSONResource } from './GeoJSONResource.js';\r\nvar storage = createHashMap();\r\nexport default {\r\n  /**\r\n   * Compatible with previous `echarts.registerMap`.\r\n   *\r\n   * @usage\r\n   * ```js\r\n   *\r\n   * echarts.registerMap('USA', geoJson, specialAreas);\r\n   *\r\n   * echarts.registerMap('USA', {\r\n   *     geoJson: geoJson,\r\n   *     specialAreas: {...}\r\n   * });\r\n   * echarts.registerMap('USA', {\r\n   *     geoJSON: geoJson,\r\n   *     specialAreas: {...}\r\n   * });\r\n   *\r\n   * echarts.registerMap('airport', {\r\n   *     svg: svg\r\n   * }\r\n   * ```\r\n   *\r\n   * Note:\r\n   * Do not support that register multiple geoJSON or SVG\r\n   * one map name. Because different geoJSON and SVG have\r\n   * different unit. It's not easy to make sure how those\r\n   * units are mapping/normalize.\r\n   * If intending to use multiple geoJSON or SVG, we can\r\n   * use multiple geo coordinate system.\r\n   */\r\n  registerMap: function (mapName, rawDef, rawSpecialAreas) {\r\n    if (rawDef.svg) {\r\n      var resource = new GeoSVGResource(mapName, rawDef.svg);\r\n      storage.set(mapName, resource);\r\n    } else {\r\n      // Recommend:\r\n      //     echarts.registerMap('eu', { geoJSON: xxx, specialAreas: xxx });\r\n      // Backward compatibility:\r\n      //     echarts.registerMap('eu', geoJSON, specialAreas);\r\n      //     echarts.registerMap('eu', { geoJson: xxx, specialAreas: xxx });\r\n      var geoJSON = rawDef.geoJson || rawDef.geoJSON;\r\n\r\n      if (geoJSON && !rawDef.features) {\r\n        rawSpecialAreas = rawDef.specialAreas;\r\n      } else {\r\n        geoJSON = rawDef;\r\n      }\r\n\r\n      var resource = new GeoJSONResource(mapName, geoJSON, rawSpecialAreas);\r\n      storage.set(mapName, resource);\r\n    }\r\n  },\r\n  getGeoResource: function (mapName) {\r\n    return storage.get(mapName);\r\n  },\r\n\r\n  /**\r\n   * Only for exporting to users.\r\n   * **MUST NOT** used internally.\r\n   */\r\n  getMapForUser: function (mapName) {\r\n    var resource = storage.get(mapName); // Do not support return SVG until some real requirement come.\r\n\r\n    return resource && resource.type === 'geoJSON' && resource.getMapForUser();\r\n  },\r\n  load: function (mapName, nameMap, nameProperty) {\r\n    var resource = storage.get(mapName);\r\n\r\n    if (!resource) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.error('Map ' + mapName + ' not exists. The GeoJSON of the map must be provided.');\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    return resource.load(nameMap, nameProperty);\r\n  }\r\n};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nimport View from '../View.js';\r\nimport geoSourceManager from './geoSourceManager.js';\r\nimport { SINGLE_REFERRING } from '../../util/model.js';\r\nimport { warn } from '../../util/log.js';\r\nvar GEO_DEFAULT_PARAMS = {\r\n  'geoJSON': {\r\n    aspectScale: 0.75,\r\n    invertLongitute: true\r\n  },\r\n  'geoSVG': {\r\n    aspectScale: 1,\r\n    invertLongitute: false\r\n  }\r\n};\r\nexport var geo2DDimensions = ['lng', 'lat'];\r\n\r\nvar Geo =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(Geo, _super);\r\n\r\n  function Geo(name, map, opt) {\r\n    var _this = _super.call(this, name) || this;\r\n\r\n    _this.dimensions = geo2DDimensions;\r\n    _this.type = 'geo'; // Only store specified name coord via `addGeoCoord`.\r\n\r\n    _this._nameCoordMap = zrUtil.createHashMap();\r\n    _this.map = map;\r\n    var projection = opt.projection;\r\n    var source = geoSourceManager.load(map, opt.nameMap, opt.nameProperty);\r\n    var resource = geoSourceManager.getGeoResource(map);\r\n    var resourceType = _this.resourceType = resource ? resource.type : null;\r\n    var regions = _this.regions = source.regions;\r\n    var defaultParams = GEO_DEFAULT_PARAMS[resource.type];\r\n    _this._regionsMap = source.regionsMap;\r\n    _this.regions = source.regions;\r\n\r\n    if (process.env.NODE_ENV !== 'production' && projection) {\r\n      // Do some check\r\n      if (resourceType === 'geoSVG') {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          warn(\"Map \" + map + \" with SVG source can't use projection. Only GeoJSON source supports projection.\");\r\n        }\r\n\r\n        projection = null;\r\n      }\r\n\r\n      if (!(projection.project && projection.unproject)) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          warn('project and unproject must be both provided in the projeciton.');\r\n        }\r\n\r\n        projection = null;\r\n      }\r\n    }\r\n\r\n    _this.projection = projection;\r\n    var boundingRect;\r\n\r\n    if (projection) {\r\n      // Can't reuse the raw bounding rect\r\n      for (var i = 0; i < regions.length; i++) {\r\n        var regionRect = regions[i].getBoundingRect(projection);\r\n        boundingRect = boundingRect || regionRect.clone();\r\n        boundingRect.union(regionRect);\r\n      }\r\n    } else {\r\n      boundingRect = source.boundingRect;\r\n    }\r\n\r\n    _this.setBoundingRect(boundingRect.x, boundingRect.y, boundingRect.width, boundingRect.height); // aspectScale and invertLongitute actually is the parameters default raw projection.\r\n    // So we ignore them if projection is given.\r\n    // Ignore default aspect scale if projection exits.\r\n\r\n\r\n    _this.aspectScale = projection ? 1 : zrUtil.retrieve2(opt.aspectScale, defaultParams.aspectScale); // Not invert longitude if projection exits.\r\n\r\n    _this._invertLongitute = projection ? false : defaultParams.invertLongitute;\r\n    return _this;\r\n  }\r\n\r\n  Geo.prototype._transformTo = function (x, y, width, height) {\r\n    var rect = this.getBoundingRect();\r\n    var invertLongitute = this._invertLongitute;\r\n    rect = rect.clone();\r\n\r\n    if (invertLongitute) {\r\n      // Longitude is inverted.\r\n      rect.y = -rect.y - rect.height;\r\n    }\r\n\r\n    var rawTransformable = this._rawTransformable;\r\n    rawTransformable.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\r\n    var rawParent = rawTransformable.parent;\r\n    rawTransformable.parent = null;\r\n    rawTransformable.decomposeTransform();\r\n    rawTransformable.parent = rawParent;\r\n\r\n    if (invertLongitute) {\r\n      rawTransformable.scaleY = -rawTransformable.scaleY;\r\n    }\r\n\r\n    this._updateTransform();\r\n  };\r\n\r\n  Geo.prototype.getRegion = function (name) {\r\n    return this._regionsMap.get(name);\r\n  };\r\n\r\n  Geo.prototype.getRegionByCoord = function (coord) {\r\n    var regions = this.regions;\r\n\r\n    for (var i = 0; i < regions.length; i++) {\r\n      var region = regions[i];\r\n\r\n      if (region.type === 'geoJSON' && region.contain(coord)) {\r\n        return regions[i];\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * Add geoCoord for indexing by name\r\n   */\r\n\r\n\r\n  Geo.prototype.addGeoCoord = function (name, geoCoord) {\r\n    this._nameCoordMap.set(name, geoCoord);\r\n  };\r\n  /**\r\n   * Get geoCoord by name\r\n   */\r\n\r\n\r\n  Geo.prototype.getGeoCoord = function (name) {\r\n    var region = this._regionsMap.get(name); // Calculate center only on demand.\r\n\r\n\r\n    return this._nameCoordMap.get(name) || region && region.getCenter();\r\n  };\r\n\r\n  Geo.prototype.dataToPoint = function (data, noRoam, out) {\r\n    if (zrUtil.isString(data)) {\r\n      // Map area name to geoCoord\r\n      data = this.getGeoCoord(data);\r\n    }\r\n\r\n    if (data) {\r\n      var projection = this.projection;\r\n\r\n      if (projection) {\r\n        // projection may return null point.\r\n        data = projection.project(data);\r\n      }\r\n\r\n      return data && this.projectedToPoint(data, noRoam, out);\r\n    }\r\n  };\r\n\r\n  Geo.prototype.pointToData = function (point) {\r\n    var projection = this.projection;\r\n\r\n    if (projection) {\r\n      // projection may return null point.\r\n      point = projection.unproject(point);\r\n    }\r\n\r\n    return point && this.pointToProjected(point);\r\n  };\r\n  /**\r\n   * Point to projected data. Same with pointToData when projection is used.\r\n   */\r\n\r\n\r\n  Geo.prototype.pointToProjected = function (point) {\r\n    return _super.prototype.pointToData.call(this, point);\r\n  };\r\n\r\n  Geo.prototype.projectedToPoint = function (projected, noRoam, out) {\r\n    return _super.prototype.dataToPoint.call(this, projected, noRoam, out);\r\n  };\r\n\r\n  Geo.prototype.convertToPixel = function (ecModel, finder, value) {\r\n    var coordSys = getCoordSys(finder);\r\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\r\n  };\r\n\r\n  Geo.prototype.convertFromPixel = function (ecModel, finder, pixel) {\r\n    var coordSys = getCoordSys(finder);\r\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\r\n  };\r\n\r\n  return Geo;\r\n}(View);\r\n\r\n;\r\nzrUtil.mixin(Geo, View);\r\n\r\nfunction getCoordSys(finder) {\r\n  var geoModel = finder.geoModel;\r\n  var seriesModel = finder.seriesModel;\r\n  return geoModel ? geoModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem // For map series.\r\n  || (seriesModel.getReferringComponents('geo', SINGLE_REFERRING).models[0] || {}).coordinateSystem : null;\r\n}\r\n\r\nexport default Geo;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport Geo, { geo2DDimensions } from './Geo.js';\r\nimport * as layout from '../../util/layout.js';\r\nimport * as numberUtil from '../../util/number.js';\r\nimport geoSourceManager from './geoSourceManager.js';\r\nimport * as vector from 'zrender/lib/core/vector.js';\r\n/**\r\n * Resize method bound to the geo\r\n */\r\n\r\nfunction resizeGeo(geoModel, api) {\r\n  var boundingCoords = geoModel.get('boundingCoords');\r\n\r\n  if (boundingCoords != null) {\r\n    var leftTop_1 = boundingCoords[0];\r\n    var rightBottom_1 = boundingCoords[1];\r\n\r\n    if (!(isFinite(leftTop_1[0]) && isFinite(leftTop_1[1]) && isFinite(rightBottom_1[0]) && isFinite(rightBottom_1[1]))) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.error('Invalid boundingCoords');\r\n      }\r\n    } else {\r\n      // Sample around the lng/lat rect and use projection to calculate actual bounding rect.\r\n      var projection_1 = this.projection;\r\n\r\n      if (projection_1) {\r\n        var xMin = leftTop_1[0];\r\n        var yMin = leftTop_1[1];\r\n        var xMax = rightBottom_1[0];\r\n        var yMax = rightBottom_1[1];\r\n        leftTop_1 = [Infinity, Infinity];\r\n        rightBottom_1 = [-Infinity, -Infinity]; // TODO better way?\r\n\r\n        var sampleLine = function (x0, y0, x1, y1) {\r\n          var dx = x1 - x0;\r\n          var dy = y1 - y0;\r\n\r\n          for (var i = 0; i <= 100; i++) {\r\n            var p = i / 100;\r\n            var pt = projection_1.project([x0 + dx * p, y0 + dy * p]);\r\n            vector.min(leftTop_1, leftTop_1, pt);\r\n            vector.max(rightBottom_1, rightBottom_1, pt);\r\n          }\r\n        }; // Top\r\n\r\n\r\n        sampleLine(xMin, yMin, xMax, yMin); // Right\r\n\r\n        sampleLine(xMax, yMin, xMax, yMax); // Bottom\r\n\r\n        sampleLine(xMax, yMax, xMin, yMax); // Left\r\n\r\n        sampleLine(xMin, yMax, xMax, yMin);\r\n      }\r\n\r\n      this.setBoundingRect(leftTop_1[0], leftTop_1[1], rightBottom_1[0] - leftTop_1[0], rightBottom_1[1] - leftTop_1[1]);\r\n    }\r\n  }\r\n\r\n  var rect = this.getBoundingRect();\r\n  var centerOption = geoModel.get('layoutCenter');\r\n  var sizeOption = geoModel.get('layoutSize');\r\n  var viewWidth = api.getWidth();\r\n  var viewHeight = api.getHeight();\r\n  var aspect = rect.width / rect.height * this.aspectScale;\r\n  var useCenterAndSize = false;\r\n  var center;\r\n  var size;\r\n\r\n  if (centerOption && sizeOption) {\r\n    center = [numberUtil.parsePercent(centerOption[0], viewWidth), numberUtil.parsePercent(centerOption[1], viewHeight)];\r\n    size = numberUtil.parsePercent(sizeOption, Math.min(viewWidth, viewHeight));\r\n\r\n    if (!isNaN(center[0]) && !isNaN(center[1]) && !isNaN(size)) {\r\n      useCenterAndSize = true;\r\n    } else {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.warn('Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.');\r\n      }\r\n    }\r\n  }\r\n\r\n  var viewRect;\r\n\r\n  if (useCenterAndSize) {\r\n    viewRect = {};\r\n\r\n    if (aspect > 1) {\r\n      // Width is same with size\r\n      viewRect.width = size;\r\n      viewRect.height = size / aspect;\r\n    } else {\r\n      viewRect.height = size;\r\n      viewRect.width = size * aspect;\r\n    }\r\n\r\n    viewRect.y = center[1] - viewRect.height / 2;\r\n    viewRect.x = center[0] - viewRect.width / 2;\r\n  } else {\r\n    // Use left/top/width/height\r\n    var boxLayoutOption = geoModel.getBoxLayoutParams();\r\n    boxLayoutOption.aspect = aspect;\r\n    viewRect = layout.getLayoutRect(boxLayoutOption, {\r\n      width: viewWidth,\r\n      height: viewHeight\r\n    });\r\n  }\r\n\r\n  this.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\r\n  this.setCenter(geoModel.get('center'), api);\r\n  this.setZoom(geoModel.get('zoom'));\r\n} // Back compat for ECharts2, where the coord map is set on map series:\r\n// {type: 'map', geoCoord: {'cityA': [116.46,39.92], 'cityA': [119.12,24.61]}},\r\n\r\n\r\nfunction setGeoCoords(geo, model) {\r\n  zrUtil.each(model.get('geoCoord'), function (geoCoord, name) {\r\n    geo.addGeoCoord(name, geoCoord);\r\n  });\r\n}\r\n\r\nvar GeoCreator =\r\n/** @class */\r\nfunction () {\r\n  function GeoCreator() {\r\n    // For deciding which dimensions to use when creating list data\r\n    this.dimensions = geo2DDimensions;\r\n  }\r\n\r\n  GeoCreator.prototype.create = function (ecModel, api) {\r\n    var geoList = [];\r\n\r\n    function getCommonGeoProperties(model) {\r\n      return {\r\n        nameProperty: model.get('nameProperty'),\r\n        aspectScale: model.get('aspectScale'),\r\n        projection: model.get('projection')\r\n      };\r\n    } // FIXME Create each time may be slow\r\n\r\n\r\n    ecModel.eachComponent('geo', function (geoModel, idx) {\r\n      var mapName = geoModel.get('map');\r\n      var geo = new Geo(mapName + idx, mapName, zrUtil.extend({\r\n        nameMap: geoModel.get('nameMap')\r\n      }, getCommonGeoProperties(geoModel)));\r\n      geo.zoomLimit = geoModel.get('scaleLimit');\r\n      geoList.push(geo); // setGeoCoords(geo, geoModel);\r\n\r\n      geoModel.coordinateSystem = geo;\r\n      geo.model = geoModel; // Inject resize method\r\n\r\n      geo.resize = resizeGeo;\r\n      geo.resize(geoModel, api);\r\n    });\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      var coordSys = seriesModel.get('coordinateSystem');\r\n\r\n      if (coordSys === 'geo') {\r\n        var geoIndex = seriesModel.get('geoIndex') || 0;\r\n        seriesModel.coordinateSystem = geoList[geoIndex];\r\n      }\r\n    }); // If has map series\r\n\r\n    var mapModelGroupBySeries = {};\r\n    ecModel.eachSeriesByType('map', function (seriesModel) {\r\n      if (!seriesModel.getHostGeoModel()) {\r\n        var mapType = seriesModel.getMapType();\r\n        mapModelGroupBySeries[mapType] = mapModelGroupBySeries[mapType] || [];\r\n        mapModelGroupBySeries[mapType].push(seriesModel);\r\n      }\r\n    });\r\n    zrUtil.each(mapModelGroupBySeries, function (mapSeries, mapType) {\r\n      var nameMapList = zrUtil.map(mapSeries, function (singleMapSeries) {\r\n        return singleMapSeries.get('nameMap');\r\n      });\r\n      var geo = new Geo(mapType, mapType, zrUtil.extend({\r\n        nameMap: zrUtil.mergeAll(nameMapList)\r\n      }, getCommonGeoProperties(mapSeries[0])));\r\n      geo.zoomLimit = zrUtil.retrieve.apply(null, zrUtil.map(mapSeries, function (singleMapSeries) {\r\n        return singleMapSeries.get('scaleLimit');\r\n      }));\r\n      geoList.push(geo); // Inject resize method\r\n\r\n      geo.resize = resizeGeo;\r\n      geo.resize(mapSeries[0], api);\r\n      zrUtil.each(mapSeries, function (singleMapSeries) {\r\n        singleMapSeries.coordinateSystem = geo;\r\n        setGeoCoords(geo, singleMapSeries);\r\n      });\r\n    });\r\n    return geoList;\r\n  };\r\n  /**\r\n   * Fill given regions array\r\n   */\r\n\r\n\r\n  GeoCreator.prototype.getFilledRegions = function (originRegionArr, mapName, nameMap, nameProperty) {\r\n    // Not use the original\r\n    var regionsArr = (originRegionArr || []).slice();\r\n    var dataNameMap = zrUtil.createHashMap();\r\n\r\n    for (var i = 0; i < regionsArr.length; i++) {\r\n      dataNameMap.set(regionsArr[i].name, regionsArr[i]);\r\n    }\r\n\r\n    var source = geoSourceManager.load(mapName, nameMap, nameProperty);\r\n    zrUtil.each(source.regions, function (region) {\r\n      var name = region.name;\r\n      !dataNameMap.get(name) && regionsArr.push({\r\n        name: name\r\n      });\r\n    });\r\n    return regionsArr;\r\n  };\r\n\r\n  return GeoCreator;\r\n}();\r\n\r\nvar geoCreator = new GeoCreator();\r\nexport default geoCreator;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as modelUtil from '../../util/model.js';\r\nimport ComponentModel from '../../model/Component.js';\r\nimport Model from '../../model/Model.js';\r\nimport geoCreator from './geoCreator.js';\r\nimport geoSourceManager from './geoSourceManager.js';\r\n;\r\n\r\nvar GeoModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(GeoModel, _super);\r\n\r\n  function GeoModel() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = GeoModel.type;\r\n    return _this;\r\n  }\r\n\r\n  GeoModel.prototype.init = function (option, parentModel, ecModel) {\r\n    var source = geoSourceManager.getGeoResource(option.map);\r\n\r\n    if (source && source.type === 'geoJSON') {\r\n      var itemStyle = option.itemStyle = option.itemStyle || {};\r\n\r\n      if (!('color' in itemStyle)) {\r\n        itemStyle.color = '#eee';\r\n      }\r\n    }\r\n\r\n    this.mergeDefaultAndTheme(option, ecModel); // Default label emphasis `show`\r\n\r\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\r\n  };\r\n\r\n  GeoModel.prototype.optionUpdated = function () {\r\n    var _this = this;\r\n\r\n    var option = this.option;\r\n    option.regions = geoCreator.getFilledRegions(option.regions, option.map, option.nameMap, option.nameProperty);\r\n    var selectedMap = {};\r\n    this._optionModelMap = zrUtil.reduce(option.regions || [], function (optionModelMap, regionOpt) {\r\n      var regionName = regionOpt.name;\r\n\r\n      if (regionName) {\r\n        optionModelMap.set(regionName, new Model(regionOpt, _this, _this.ecModel));\r\n\r\n        if (regionOpt.selected) {\r\n          selectedMap[regionName] = true;\r\n        }\r\n      }\r\n\r\n      return optionModelMap;\r\n    }, zrUtil.createHashMap());\r\n\r\n    if (!option.selectedMap) {\r\n      option.selectedMap = selectedMap;\r\n    }\r\n  };\r\n  /**\r\n   * Get model of region.\r\n   */\r\n\r\n\r\n  GeoModel.prototype.getRegionModel = function (name) {\r\n    return this._optionModelMap.get(name) || new Model(null, this, this.ecModel);\r\n  };\r\n  /**\r\n   * Format label\r\n   * @param name Region name\r\n   */\r\n\r\n\r\n  GeoModel.prototype.getFormattedLabel = function (name, status) {\r\n    var regionModel = this.getRegionModel(name);\r\n    var formatter = status === 'normal' ? regionModel.get(['label', 'formatter']) : regionModel.get(['emphasis', 'label', 'formatter']);\r\n    var params = {\r\n      name: name\r\n    };\r\n\r\n    if (zrUtil.isFunction(formatter)) {\r\n      params.status = status;\r\n      return formatter(params);\r\n    } else if (zrUtil.isString(formatter)) {\r\n      return formatter.replace('{a}', name != null ? name : '');\r\n    }\r\n  };\r\n\r\n  GeoModel.prototype.setZoom = function (zoom) {\r\n    this.option.zoom = zoom;\r\n  };\r\n\r\n  GeoModel.prototype.setCenter = function (center) {\r\n    this.option.center = center;\r\n  }; // PENGING If selectedMode is null ?\r\n\r\n\r\n  GeoModel.prototype.select = function (name) {\r\n    var option = this.option;\r\n    var selectedMode = option.selectedMode;\r\n\r\n    if (!selectedMode) {\r\n      return;\r\n    }\r\n\r\n    if (selectedMode !== 'multiple') {\r\n      option.selectedMap = null;\r\n    }\r\n\r\n    var selectedMap = option.selectedMap || (option.selectedMap = {});\r\n    selectedMap[name] = true;\r\n  };\r\n\r\n  GeoModel.prototype.unSelect = function (name) {\r\n    var selectedMap = this.option.selectedMap;\r\n\r\n    if (selectedMap) {\r\n      selectedMap[name] = false;\r\n    }\r\n  };\r\n\r\n  GeoModel.prototype.toggleSelected = function (name) {\r\n    this[this.isSelected(name) ? 'unSelect' : 'select'](name);\r\n  };\r\n\r\n  GeoModel.prototype.isSelected = function (name) {\r\n    var selectedMap = this.option.selectedMap;\r\n    return !!(selectedMap && selectedMap[name]);\r\n  };\r\n\r\n  GeoModel.type = 'geo';\r\n  GeoModel.layoutMode = 'box';\r\n  GeoModel.defaultOption = {\r\n    // zlevel: 0,\r\n    z: 0,\r\n    show: true,\r\n    left: 'center',\r\n    top: 'center',\r\n    // Default value:\r\n    // for geoSVG source: 1,\r\n    // for geoJSON source: 0.75.\r\n    aspectScale: null,\r\n    // /// Layout with center and size\r\n    // If you want to put map in a fixed size box with right aspect ratio\r\n    // This two properties may be more convenient\r\n    // layoutCenter: [50%, 50%]\r\n    // layoutSize: 100\r\n    silent: false,\r\n    // Map type\r\n    map: '',\r\n    // Define left-top, right-bottom coords to control view\r\n    // For example, [ [180, 90], [-180, -90] ]\r\n    boundingCoords: null,\r\n    // Default on center of map\r\n    center: null,\r\n    zoom: 1,\r\n    scaleLimit: null,\r\n    // selectedMode: false\r\n    label: {\r\n      show: false,\r\n      color: '#000'\r\n    },\r\n    itemStyle: {\r\n      borderWidth: 0.5,\r\n      borderColor: '#444' // Default color:\r\n      // + geoJSON: #eee\r\n      // + geoSVG: null (use SVG original `fill`)\r\n      // color: '#eee'\r\n\r\n    },\r\n    emphasis: {\r\n      label: {\r\n        show: true,\r\n        color: 'rgb(100,0,0)'\r\n      },\r\n      itemStyle: {\r\n        color: 'rgba(255,215,0,0.8)'\r\n      }\r\n    },\r\n    select: {\r\n      label: {\r\n        show: true,\r\n        color: 'rgb(100,0,0)'\r\n      },\r\n      itemStyle: {\r\n        color: 'rgba(255,215,0,0.8)'\r\n      }\r\n    },\r\n    regions: [] // tooltip: {\r\n    //     show: false\r\n    // }\r\n\r\n  };\r\n  return GeoModel;\r\n}(ComponentModel);\r\n\r\nexport default GeoModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nfunction getCenterCoord(view, point) {\r\n  // Use projected coord as center because it's linear.\r\n  return view.pointToProjected ? view.pointToProjected(point) : view.pointToData(point);\r\n}\r\n\r\nexport function updateCenterAndZoom(view, payload, zoomLimit, api) {\r\n  var previousZoom = view.getZoom();\r\n  var center = view.getCenter();\r\n  var zoom = payload.zoom;\r\n  var point = view.projectedToPoint ? view.projectedToPoint(center) : view.dataToPoint(center);\r\n\r\n  if (payload.dx != null && payload.dy != null) {\r\n    point[0] -= payload.dx;\r\n    point[1] -= payload.dy;\r\n    view.setCenter(getCenterCoord(view, point), api);\r\n  }\r\n\r\n  if (zoom != null) {\r\n    if (zoomLimit) {\r\n      var zoomMin = zoomLimit.min || 0;\r\n      var zoomMax = zoomLimit.max || Infinity;\r\n      zoom = Math.max(Math.min(previousZoom * zoom, zoomMax), zoomMin) / previousZoom;\r\n    } // Zoom on given point(originX, originY)\r\n\r\n\r\n    view.scaleX *= zoom;\r\n    view.scaleY *= zoom;\r\n    var fixX = (payload.originX - view.x) * (zoom - 1);\r\n    var fixY = (payload.originY - view.y) * (zoom - 1);\r\n    view.x -= fixX;\r\n    view.y -= fixY;\r\n    view.updateTransform(); // Get the new center\r\n\r\n    view.setCenter(getCenterCoord(view, point), api);\r\n    view.setZoom(zoom * previousZoom);\r\n  }\r\n\r\n  return {\r\n    center: view.getCenter(),\r\n    zoom: view.getZoom()\r\n  };\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n// @ts-nocheck\r\nimport * as echarts from '../../core/echarts.js';\r\nimport { noop } from 'zrender/lib/core/util.js';\r\nvar ATTR = '\\0_ec_interaction_mutex';\r\nexport function take(zr, resourceKey, userKey) {\r\n  var store = getStore(zr);\r\n  store[resourceKey] = userKey;\r\n}\r\nexport function release(zr, resourceKey, userKey) {\r\n  var store = getStore(zr);\r\n  var uKey = store[resourceKey];\r\n\r\n  if (uKey === userKey) {\r\n    store[resourceKey] = null;\r\n  }\r\n}\r\nexport function isTaken(zr, resourceKey) {\r\n  return !!getStore(zr)[resourceKey];\r\n}\r\n\r\nfunction getStore(zr) {\r\n  return zr[ATTR] || (zr[ATTR] = {});\r\n}\r\n/**\r\n * payload: {\r\n *     type: 'takeGlobalCursor',\r\n *     key: 'dataZoomSelect', or 'brush', or ...,\r\n *         If no userKey, release global cursor.\r\n * }\r\n */\r\n// TODO: SELF REGISTERED.\r\n\r\n\r\necharts.registerAction({\r\n  type: 'takeGlobalCursor',\r\n  event: 'globalCursorTaken',\r\n  update: 'update'\r\n}, noop);", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport Eventful from 'zrender/lib/core/Eventful.js';\r\nimport * as eventTool from 'zrender/lib/core/event.js';\r\nimport * as interactionMutex from './interactionMutex.js';\r\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util.js';\r\n;\r\n\r\nvar RoamController =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(RoamController, _super);\r\n\r\n  function RoamController(zr) {\r\n    var _this = _super.call(this) || this;\r\n\r\n    _this._zr = zr; // Avoid two roamController bind the same handler\r\n\r\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\r\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\r\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\r\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\r\n    var pinchHandler = bind(_this._pinchHandler, _this);\r\n    /**\r\n     * Notice: only enable needed types. For example, if 'zoom'\r\n     * is not needed, 'zoom' should not be enabled, otherwise\r\n     * default mousewheel behaviour (scroll page) will be disabled.\r\n     */\r\n\r\n    _this.enable = function (controlType, opt) {\r\n      // Disable previous first\r\n      this.disable();\r\n      this._opt = defaults(clone(opt) || {}, {\r\n        zoomOnMouseWheel: true,\r\n        moveOnMouseMove: true,\r\n        // By default, wheel do not trigger move.\r\n        moveOnMouseWheel: false,\r\n        preventDefaultMouseMove: true\r\n      });\r\n\r\n      if (controlType == null) {\r\n        controlType = true;\r\n      }\r\n\r\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\r\n        zr.on('mousedown', mousedownHandler);\r\n        zr.on('mousemove', mousemoveHandler);\r\n        zr.on('mouseup', mouseupHandler);\r\n      }\r\n\r\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\r\n        zr.on('mousewheel', mousewheelHandler);\r\n        zr.on('pinch', pinchHandler);\r\n      }\r\n    };\r\n\r\n    _this.disable = function () {\r\n      zr.off('mousedown', mousedownHandler);\r\n      zr.off('mousemove', mousemoveHandler);\r\n      zr.off('mouseup', mouseupHandler);\r\n      zr.off('mousewheel', mousewheelHandler);\r\n      zr.off('pinch', pinchHandler);\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  RoamController.prototype.isDragging = function () {\r\n    return this._dragging;\r\n  };\r\n\r\n  RoamController.prototype.isPinching = function () {\r\n    return this._pinching;\r\n  };\r\n\r\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\r\n    this.pointerChecker = pointerChecker;\r\n  };\r\n\r\n  RoamController.prototype.dispose = function () {\r\n    this.disable();\r\n  };\r\n\r\n  RoamController.prototype._mousedownHandler = function (e) {\r\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\r\n      return;\r\n    }\r\n\r\n    var el = e.target;\r\n\r\n    while (el) {\r\n      if (el.draggable) {\r\n        return;\r\n      } // check if host is draggable\r\n\r\n\r\n      el = el.__hostTarget || el.parent;\r\n    }\r\n\r\n    var x = e.offsetX;\r\n    var y = e.offsetY; // Only check on mosedown, but not mousemove.\r\n    // Mouse can be out of target when mouse moving.\r\n\r\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\r\n      this._x = x;\r\n      this._y = y;\r\n      this._dragging = true;\r\n    }\r\n  };\r\n\r\n  RoamController.prototype._mousemoveHandler = function (e) {\r\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\r\n      return;\r\n    }\r\n\r\n    var x = e.offsetX;\r\n    var y = e.offsetY;\r\n    var oldX = this._x;\r\n    var oldY = this._y;\r\n    var dx = x - oldX;\r\n    var dy = y - oldY;\r\n    this._x = x;\r\n    this._y = y;\r\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\r\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\r\n      dx: dx,\r\n      dy: dy,\r\n      oldX: oldX,\r\n      oldY: oldY,\r\n      newX: x,\r\n      newY: y,\r\n      isAvailableBehavior: null\r\n    });\r\n  };\r\n\r\n  RoamController.prototype._mouseupHandler = function (e) {\r\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\r\n      this._dragging = false;\r\n    }\r\n  };\r\n\r\n  RoamController.prototype._mousewheelHandler = function (e) {\r\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\r\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\r\n    var wheelDelta = e.wheelDelta;\r\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\r\n    var originX = e.offsetX;\r\n    var originY = e.offsetY; // wheelDelta maybe -0 in chrome mac.\r\n\r\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\r\n      return;\r\n    } // If both `shouldZoom` and `shouldMove` is true, trigger\r\n    // their event both, and the final behavior is determined\r\n    // by event listener themselves.\r\n\r\n\r\n    if (shouldZoom) {\r\n      // Convenience:\r\n      // Mac and VM Windows on Mac: scroll up: zoom out.\r\n      // Windows: scroll up: zoom in.\r\n      // FIXME: Should do more test in different environment.\r\n      // wheelDelta is too complicated in difference nvironment\r\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\r\n      // although it has been normallized by zrender.\r\n      // wheelDelta of mouse wheel is bigger than touch pad.\r\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\r\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\r\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\r\n        scale: scale,\r\n        originX: originX,\r\n        originY: originY,\r\n        isAvailableBehavior: null\r\n      });\r\n    }\r\n\r\n    if (shouldMove) {\r\n      // FIXME: Should do more test in different environment.\r\n      var absDelta = Math.abs(wheelDelta); // wheelDelta of mouse wheel is bigger than touch pad.\r\n\r\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\r\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\r\n        scrollDelta: scrollDelta,\r\n        originX: originX,\r\n        originY: originY,\r\n        isAvailableBehavior: null\r\n      });\r\n    }\r\n  };\r\n\r\n  RoamController.prototype._pinchHandler = function (e) {\r\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\r\n      return;\r\n    }\r\n\r\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\r\n    checkPointerAndTrigger(this, 'zoom', null, e, {\r\n      scale: scale,\r\n      originX: e.pinchX,\r\n      originY: e.pinchY,\r\n      isAvailableBehavior: null\r\n    });\r\n  };\r\n\r\n  return RoamController;\r\n}(Eventful);\r\n\r\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\r\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\r\n    // When mouse is out of roamController rect,\r\n    // default befavoius should not be be disabled, otherwise\r\n    // page sliding is disabled, contrary to expectation.\r\n    eventTool.stop(e.event);\r\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\r\n  }\r\n}\r\n\r\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\r\n  // Also provide behavior checker for event listener, for some case that\r\n  // multiple components share one listener.\r\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e); // TODO should not have type issue.\r\n\r\n  controller.trigger(eventName, contollerEvent);\r\n} // settings: {\r\n//     zoomOnMouseWheel\r\n//     moveOnMouseMove\r\n//     moveOnMouseWheel\r\n// }\r\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\r\n\r\n\r\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\r\n  var setting = settings[behaviorToCheck];\r\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\r\n}\r\n\r\nexport default RoamController;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n/**\r\n * For geo and graph.\r\n */\r\nexport function updateViewOnPan(controllerHost, dx, dy) {\r\n  var target = controllerHost.target;\r\n  target.x += dx;\r\n  target.y += dy;\r\n  target.dirty();\r\n}\r\n/**\r\n * For geo and graph.\r\n */\r\n\r\nexport function updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\r\n  var target = controllerHost.target;\r\n  var zoomLimit = controllerHost.zoomLimit;\r\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\r\n  newZoom *= zoomDelta;\r\n\r\n  if (zoomLimit) {\r\n    var zoomMin = zoomLimit.min || 0;\r\n    var zoomMax = zoomLimit.max || Infinity;\r\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\r\n  }\r\n\r\n  var zoomScale = newZoom / controllerHost.zoom;\r\n  controllerHost.zoom = newZoom; // Keep the mouse center when scaling\r\n\r\n  target.x -= (zoomX - target.x) * (zoomScale - 1);\r\n  target.y -= (zoomY - target.y) * (zoomScale - 1);\r\n  target.scaleX *= zoomScale;\r\n  target.scaleY *= zoomScale;\r\n  target.dirty();\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nvar IRRELEVANT_EXCLUDES = {\r\n  'axisPointer': 1,\r\n  'tooltip': 1,\r\n  'brush': 1\r\n};\r\n/**\r\n * Avoid that: mouse click on a elements that is over geo or graph,\r\n * but roam is triggered.\r\n */\r\n\r\nexport function onIrrelevantElement(e, api, targetCoordSysModel) {\r\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\r\n\r\n  var coordSys = model && model.coordinateSystem;\r\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType) && coordSys && coordSys.model !== targetCoordSysModel;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport RoamController from './RoamController.js';\r\nimport * as roamHelper from '../../component/helper/roamHelper.js';\r\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport { toggleHoverEmphasis, enableComponentHighDownFeatures, setDefaultStateProxy } from '../../util/states.js';\r\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\r\nimport { getUID } from '../../util/component.js';\r\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\r\nimport { getECData } from '../../util/innerStore.js';\r\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\r\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\r\nimport { makeInner } from '../../util/model.js';\r\n/**\r\n * Only these tags enable use `itemStyle` if they are named in SVG.\r\n * Other tags like <text> <tspan> <image> might not suitable for `itemStyle`.\r\n * They will not be considered to be styled until some requirements come.\r\n */\r\n\r\nvar OPTION_STYLE_ENABLED_TAGS = ['rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path'];\r\nvar OPTION_STYLE_ENABLED_TAG_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS);\r\nvar STATE_TRIGGER_TAG_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(['g']));\r\nvar LABEL_HOST_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(['g']));\r\nvar mapLabelRaw = makeInner();\r\n\r\nfunction getFixedItemStyle(model) {\r\n  var itemStyle = model.getItemStyle();\r\n  var areaColor = model.get('areaColor'); // If user want the color not to be changed when hover,\r\n  // they should both set areaColor and color to be null.\r\n\r\n  if (areaColor != null) {\r\n    itemStyle.fill = areaColor;\r\n  }\r\n\r\n  return itemStyle;\r\n} // Only stroke can be used for line.\r\n// Using fill in style if stroke not exits.\r\n// TODO Not sure yet. Perhaps a separate `lineStyle`?\r\n\r\n\r\nfunction fixLineStyle(styleHost) {\r\n  var style = styleHost.style;\r\n\r\n  if (style) {\r\n    style.stroke = style.stroke || style.fill;\r\n    style.fill = null;\r\n  }\r\n}\r\n\r\nvar MapDraw =\r\n/** @class */\r\nfunction () {\r\n  function MapDraw(api) {\r\n    var group = new graphic.Group();\r\n    this.uid = getUID('ec_map_draw');\r\n    this._controller = new RoamController(api.getZr());\r\n    this._controllerHost = {\r\n      target: group\r\n    };\r\n    this.group = group;\r\n    group.add(this._regionsGroup = new graphic.Group());\r\n    group.add(this._svgGroup = new graphic.Group());\r\n  }\r\n\r\n  MapDraw.prototype.draw = function (mapOrGeoModel, ecModel, api, fromView, payload) {\r\n    var isGeo = mapOrGeoModel.mainType === 'geo'; // Map series has data. GEO model that controlled by map series\r\n    // will be assigned with map data. Other GEO model has no data.\r\n\r\n    var data = mapOrGeoModel.getData && mapOrGeoModel.getData();\r\n    isGeo && ecModel.eachComponent({\r\n      mainType: 'series',\r\n      subType: 'map'\r\n    }, function (mapSeries) {\r\n      if (!data && mapSeries.getHostGeoModel() === mapOrGeoModel) {\r\n        data = mapSeries.getData();\r\n      }\r\n    });\r\n    var geo = mapOrGeoModel.coordinateSystem;\r\n    var regionsGroup = this._regionsGroup;\r\n    var group = this.group;\r\n    var transformInfo = geo.getTransformInfo();\r\n    var transformInfoRaw = transformInfo.raw;\r\n    var transformInfoRoam = transformInfo.roam; // No animation when first draw or in action\r\n\r\n    var isFirstDraw = !regionsGroup.childAt(0) || payload;\r\n\r\n    if (isFirstDraw) {\r\n      group.x = transformInfoRoam.x;\r\n      group.y = transformInfoRoam.y;\r\n      group.scaleX = transformInfoRoam.scaleX;\r\n      group.scaleY = transformInfoRoam.scaleY;\r\n      group.dirty();\r\n    } else {\r\n      graphic.updateProps(group, transformInfoRoam, mapOrGeoModel);\r\n    }\r\n\r\n    var isVisualEncodedByVisualMap = data && data.getVisual('visualMeta') && data.getVisual('visualMeta').length > 0;\r\n    var viewBuildCtx = {\r\n      api: api,\r\n      geo: geo,\r\n      mapOrGeoModel: mapOrGeoModel,\r\n      data: data,\r\n      isVisualEncodedByVisualMap: isVisualEncodedByVisualMap,\r\n      isGeo: isGeo,\r\n      transformInfoRaw: transformInfoRaw\r\n    };\r\n\r\n    if (geo.resourceType === 'geoJSON') {\r\n      this._buildGeoJSON(viewBuildCtx);\r\n    } else if (geo.resourceType === 'geoSVG') {\r\n      this._buildSVG(viewBuildCtx);\r\n    }\r\n\r\n    this._updateController(mapOrGeoModel, ecModel, api);\r\n\r\n    this._updateMapSelectHandler(mapOrGeoModel, regionsGroup, api, fromView);\r\n  };\r\n\r\n  MapDraw.prototype._buildGeoJSON = function (viewBuildCtx) {\r\n    var regionsGroupByName = this._regionsGroupByName = zrUtil.createHashMap();\r\n    var regionsInfoByName = zrUtil.createHashMap();\r\n    var regionsGroup = this._regionsGroup;\r\n    var transformInfoRaw = viewBuildCtx.transformInfoRaw;\r\n    var mapOrGeoModel = viewBuildCtx.mapOrGeoModel;\r\n    var data = viewBuildCtx.data;\r\n    var projection = viewBuildCtx.geo.projection;\r\n    var projectionStream = projection && projection.stream;\r\n\r\n    function transformPoint(point, project) {\r\n      if (project) {\r\n        // projection may return null point.\r\n        point = project(point);\r\n      }\r\n\r\n      return point && [point[0] * transformInfoRaw.scaleX + transformInfoRaw.x, point[1] * transformInfoRaw.scaleY + transformInfoRaw.y];\r\n    }\r\n\r\n    ;\r\n\r\n    function transformPolygonPoints(inPoints) {\r\n      var outPoints = []; // If projectionStream is provided. Use it instead of single point project.\r\n\r\n      var project = !projectionStream && projection && projection.project;\r\n\r\n      for (var i = 0; i < inPoints.length; ++i) {\r\n        var newPt = transformPoint(inPoints[i], project);\r\n        newPt && outPoints.push(newPt);\r\n      }\r\n\r\n      return outPoints;\r\n    }\r\n\r\n    function getPolyShape(points) {\r\n      return {\r\n        shape: {\r\n          points: transformPolygonPoints(points)\r\n        }\r\n      };\r\n    }\r\n\r\n    regionsGroup.removeAll(); // Only when the resource is GeoJSON, there is `geo.regions`.\r\n\r\n    zrUtil.each(viewBuildCtx.geo.regions, function (region) {\r\n      var regionName = region.name; // Consider in GeoJson properties.name may be duplicated, for example,\r\n      // there is multiple region named \"United Kindom\" or \"France\" (so many\r\n      // colonies). And it is not appropriate to merge them in geo, which\r\n      // will make them share the same label and bring trouble in label\r\n      // location calculation.\r\n\r\n      var regionGroup = regionsGroupByName.get(regionName);\r\n\r\n      var _a = regionsInfoByName.get(regionName) || {},\r\n          dataIdx = _a.dataIdx,\r\n          regionModel = _a.regionModel;\r\n\r\n      if (!regionGroup) {\r\n        regionGroup = regionsGroupByName.set(regionName, new graphic.Group());\r\n        regionsGroup.add(regionGroup);\r\n        dataIdx = data ? data.indexOfName(regionName) : null;\r\n        regionModel = viewBuildCtx.isGeo ? mapOrGeoModel.getRegionModel(regionName) : data ? data.getItemModel(dataIdx) : null;\r\n        regionsInfoByName.set(regionName, {\r\n          dataIdx: dataIdx,\r\n          regionModel: regionModel\r\n        });\r\n      }\r\n\r\n      var polygonSubpaths = [];\r\n      var polylineSubpaths = [];\r\n      zrUtil.each(region.geometries, function (geometry) {\r\n        // Polygon and MultiPolygon\r\n        if (geometry.type === 'polygon') {\r\n          var polys = [geometry.exterior].concat(geometry.interiors || []);\r\n\r\n          if (projectionStream) {\r\n            polys = projectPolys(polys, projectionStream);\r\n          }\r\n\r\n          zrUtil.each(polys, function (poly) {\r\n            polygonSubpaths.push(new graphic.Polygon(getPolyShape(poly)));\r\n          });\r\n        } // LineString and MultiLineString\r\n        else {\r\n            var points = geometry.points;\r\n\r\n            if (projectionStream) {\r\n              points = projectPolys(points, projectionStream, true);\r\n            }\r\n\r\n            zrUtil.each(points, function (points) {\r\n              polylineSubpaths.push(new graphic.Polyline(getPolyShape(points)));\r\n            });\r\n          }\r\n      });\r\n      var centerPt = transformPoint(region.getCenter(), projection && projection.project);\r\n\r\n      function createCompoundPath(subpaths, isLine) {\r\n        if (!subpaths.length) {\r\n          return;\r\n        }\r\n\r\n        var compoundPath = new graphic.CompoundPath({\r\n          culling: true,\r\n          segmentIgnoreThreshold: 1,\r\n          shape: {\r\n            paths: subpaths\r\n          }\r\n        });\r\n        regionGroup.add(compoundPath);\r\n        applyOptionStyleForRegion(viewBuildCtx, compoundPath, dataIdx, regionModel);\r\n        resetLabelForRegion(viewBuildCtx, compoundPath, regionName, regionModel, mapOrGeoModel, dataIdx, centerPt);\r\n\r\n        if (isLine) {\r\n          fixLineStyle(compoundPath);\r\n          zrUtil.each(compoundPath.states, fixLineStyle);\r\n        }\r\n      }\r\n\r\n      createCompoundPath(polygonSubpaths);\r\n      createCompoundPath(polylineSubpaths, true);\r\n    }); // Ensure children have been added to `regionGroup` before calling them.\r\n\r\n    regionsGroupByName.each(function (regionGroup, regionName) {\r\n      var _a = regionsInfoByName.get(regionName),\r\n          dataIdx = _a.dataIdx,\r\n          regionModel = _a.regionModel;\r\n\r\n      resetEventTriggerForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel, dataIdx);\r\n      resetTooltipForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel);\r\n      resetStateTriggerForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel);\r\n    }, this);\r\n  };\r\n\r\n  MapDraw.prototype._buildSVG = function (viewBuildCtx) {\r\n    var mapName = viewBuildCtx.geo.map;\r\n    var transformInfoRaw = viewBuildCtx.transformInfoRaw;\r\n    this._svgGroup.x = transformInfoRaw.x;\r\n    this._svgGroup.y = transformInfoRaw.y;\r\n    this._svgGroup.scaleX = transformInfoRaw.scaleX;\r\n    this._svgGroup.scaleY = transformInfoRaw.scaleY;\r\n\r\n    if (this._svgResourceChanged(mapName)) {\r\n      this._freeSVG();\r\n\r\n      this._useSVG(mapName);\r\n    }\r\n\r\n    var svgDispatcherMap = this._svgDispatcherMap = zrUtil.createHashMap();\r\n    var focusSelf = false;\r\n    zrUtil.each(this._svgGraphicRecord.named, function (namedItem) {\r\n      // Note that we also allow different elements have the same name.\r\n      // For example, a glyph of a city and the label of the city have\r\n      // the same name and their tooltip info can be defined in a single\r\n      // region option.\r\n      var regionName = namedItem.name;\r\n      var mapOrGeoModel = viewBuildCtx.mapOrGeoModel;\r\n      var data = viewBuildCtx.data;\r\n      var svgNodeTagLower = namedItem.svgNodeTagLower;\r\n      var el = namedItem.el;\r\n      var dataIdx = data ? data.indexOfName(regionName) : null;\r\n      var regionModel = mapOrGeoModel.getRegionModel(regionName);\r\n\r\n      if (OPTION_STYLE_ENABLED_TAG_MAP.get(svgNodeTagLower) != null && el instanceof Displayable) {\r\n        applyOptionStyleForRegion(viewBuildCtx, el, dataIdx, regionModel);\r\n      }\r\n\r\n      if (el instanceof Displayable) {\r\n        el.culling = true;\r\n      } // We do not know how the SVG like so we'd better not to change z2.\r\n      // Otherwise it might bring some unexpected result. For example,\r\n      // an area hovered that make some inner city can not be clicked.\r\n\r\n\r\n      el.z2EmphasisLift = 0; // If self named:\r\n\r\n      if (!namedItem.namedFrom) {\r\n        // label should batter to be displayed based on the center of <g>\r\n        // if it is named rather than displayed on each child.\r\n        if (LABEL_HOST_MAP.get(svgNodeTagLower) != null) {\r\n          resetLabelForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel, dataIdx, null);\r\n        }\r\n\r\n        resetEventTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel, dataIdx);\r\n        resetTooltipForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel);\r\n\r\n        if (STATE_TRIGGER_TAG_MAP.get(svgNodeTagLower) != null) {\r\n          var focus_1 = resetStateTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel);\r\n\r\n          if (focus_1 === 'self') {\r\n            focusSelf = true;\r\n          }\r\n\r\n          var els = svgDispatcherMap.get(regionName) || svgDispatcherMap.set(regionName, []);\r\n          els.push(el);\r\n        }\r\n      }\r\n    }, this);\r\n\r\n    this._enableBlurEntireSVG(focusSelf, viewBuildCtx);\r\n  };\r\n\r\n  MapDraw.prototype._enableBlurEntireSVG = function (focusSelf, viewBuildCtx) {\r\n    // It's a little complicated to support blurring the entire geoSVG in series-map.\r\n    // So do not support it until some requirements come.\r\n    // At present, in series-map, only regions can be blurred.\r\n    if (focusSelf && viewBuildCtx.isGeo) {\r\n      var blurStyle = viewBuildCtx.mapOrGeoModel.getModel(['blur', 'itemStyle']).getItemStyle(); // Only support `opacity` here. Because not sure that other props are suitable for\r\n      // all of the elements generated by SVG (especially for Text/TSpan/Image/... ).\r\n\r\n      var opacity_1 = blurStyle.opacity;\r\n\r\n      this._svgGraphicRecord.root.traverse(function (el) {\r\n        if (!el.isGroup) {\r\n          // PENDING: clear those settings to SVG elements when `_freeSVG`.\r\n          // (Currently it happen not to be needed.)\r\n          setDefaultStateProxy(el);\r\n          var style = el.ensureState('blur').style || {}; // Do not overwrite the region style that already set from region option.\r\n\r\n          if (style.opacity == null && opacity_1 != null) {\r\n            style.opacity = opacity_1;\r\n          } // If `ensureState('blur').style = {}`, there will be default opacity.\r\n          // Enable `stateTransition` (animation).\r\n\r\n\r\n          el.ensureState('emphasis');\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  MapDraw.prototype.remove = function () {\r\n    this._regionsGroup.removeAll();\r\n\r\n    this._regionsGroupByName = null;\r\n\r\n    this._svgGroup.removeAll();\r\n\r\n    this._freeSVG();\r\n\r\n    this._controller.dispose();\r\n\r\n    this._controllerHost = null;\r\n  };\r\n\r\n  MapDraw.prototype.findHighDownDispatchers = function (name, geoModel) {\r\n    if (name == null) {\r\n      return [];\r\n    }\r\n\r\n    var geo = geoModel.coordinateSystem;\r\n\r\n    if (geo.resourceType === 'geoJSON') {\r\n      var regionsGroupByName = this._regionsGroupByName;\r\n\r\n      if (regionsGroupByName) {\r\n        var regionGroup = regionsGroupByName.get(name);\r\n        return regionGroup ? [regionGroup] : [];\r\n      }\r\n    } else if (geo.resourceType === 'geoSVG') {\r\n      return this._svgDispatcherMap && this._svgDispatcherMap.get(name) || [];\r\n    }\r\n  };\r\n\r\n  MapDraw.prototype._svgResourceChanged = function (mapName) {\r\n    return this._svgMapName !== mapName;\r\n  };\r\n\r\n  MapDraw.prototype._useSVG = function (mapName) {\r\n    var resource = geoSourceManager.getGeoResource(mapName);\r\n\r\n    if (resource && resource.type === 'geoSVG') {\r\n      var svgGraphic = resource.useGraphic(this.uid);\r\n\r\n      this._svgGroup.add(svgGraphic.root);\r\n\r\n      this._svgGraphicRecord = svgGraphic;\r\n      this._svgMapName = mapName;\r\n    }\r\n  };\r\n\r\n  MapDraw.prototype._freeSVG = function () {\r\n    var mapName = this._svgMapName;\r\n\r\n    if (mapName == null) {\r\n      return;\r\n    }\r\n\r\n    var resource = geoSourceManager.getGeoResource(mapName);\r\n\r\n    if (resource && resource.type === 'geoSVG') {\r\n      resource.freeGraphic(this.uid);\r\n    }\r\n\r\n    this._svgGraphicRecord = null;\r\n    this._svgDispatcherMap = null;\r\n\r\n    this._svgGroup.removeAll();\r\n\r\n    this._svgMapName = null;\r\n  };\r\n\r\n  MapDraw.prototype._updateController = function (mapOrGeoModel, ecModel, api) {\r\n    var geo = mapOrGeoModel.coordinateSystem;\r\n    var controller = this._controller;\r\n    var controllerHost = this._controllerHost; // @ts-ignore FIXME:TS\r\n\r\n    controllerHost.zoomLimit = mapOrGeoModel.get('scaleLimit');\r\n    controllerHost.zoom = geo.getZoom(); // roamType is will be set default true if it is null\r\n    // @ts-ignore FIXME:TS\r\n\r\n    controller.enable(mapOrGeoModel.get('roam') || false);\r\n    var mainType = mapOrGeoModel.mainType;\r\n\r\n    function makeActionBase() {\r\n      var action = {\r\n        type: 'geoRoam',\r\n        componentType: mainType\r\n      };\r\n      action[mainType + 'Id'] = mapOrGeoModel.id;\r\n      return action;\r\n    }\r\n\r\n    controller.off('pan').on('pan', function (e) {\r\n      this._mouseDownFlag = false;\r\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\r\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\r\n        dx: e.dx,\r\n        dy: e.dy,\r\n        animation: {\r\n          duration: 0\r\n        }\r\n      }));\r\n    }, this);\r\n    controller.off('zoom').on('zoom', function (e) {\r\n      this._mouseDownFlag = false;\r\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\r\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\r\n        zoom: e.scale,\r\n        originX: e.originX,\r\n        originY: e.originY,\r\n        animation: {\r\n          duration: 0\r\n        }\r\n      }));\r\n    }, this);\r\n    controller.setPointerChecker(function (e, x, y) {\r\n      return geo.containPoint([x, y]) && !onIrrelevantElement(e, api, mapOrGeoModel);\r\n    });\r\n  };\r\n  /**\r\n   * FIXME: this is a temporarily workaround.\r\n   * When `geoRoam` the elements need to be reset in `MapView['render']`, because the props like\r\n   * `ignore` might have been modified by `LabelManager`, and `LabelManager#addLabelsOfSeries`\r\n   * will subsequently cache `defaultAttr` like `ignore`. If do not do this reset, the modified\r\n   * props will have no chance to be restored.\r\n   * Note: This reset should be after `clearStates` in `renderSeries` because `useStates` in\r\n   * `renderSeries` will cache the modified `ignore` to `el._normalState`.\r\n   * TODO:\r\n   * Use clone/immutable in `LabelManager`?\r\n   */\r\n\r\n\r\n  MapDraw.prototype.resetForLabelLayout = function () {\r\n    this.group.traverse(function (el) {\r\n      var label = el.getTextContent();\r\n\r\n      if (label) {\r\n        label.ignore = mapLabelRaw(label).ignore;\r\n      }\r\n    });\r\n  };\r\n\r\n  MapDraw.prototype._updateMapSelectHandler = function (mapOrGeoModel, regionsGroup, api, fromView) {\r\n    var mapDraw = this;\r\n    regionsGroup.off('mousedown');\r\n    regionsGroup.off('click'); // @ts-ignore FIXME:TS resolve type conflict\r\n\r\n    if (mapOrGeoModel.get('selectedMode')) {\r\n      regionsGroup.on('mousedown', function () {\r\n        mapDraw._mouseDownFlag = true;\r\n      });\r\n      regionsGroup.on('click', function (e) {\r\n        if (!mapDraw._mouseDownFlag) {\r\n          return;\r\n        }\r\n\r\n        mapDraw._mouseDownFlag = false;\r\n      });\r\n    }\r\n  };\r\n\r\n  return MapDraw;\r\n}();\r\n\r\n;\r\n\r\nfunction applyOptionStyleForRegion(viewBuildCtx, el, dataIndex, regionModel) {\r\n  // All of the path are using `itemStyle`, because\r\n  // (1) Some SVG also use fill on polyline (The different between\r\n  // polyline and polygon is \"open\" or \"close\" but not fill or not).\r\n  // (2) For the common props like opacity, if some use itemStyle\r\n  // and some use `lineStyle`, it might confuse users.\r\n  // (3) Most SVG use <path>, where can not detect whether to draw a \"line\"\r\n  // or a filled shape, so use `itemStyle` for <path>.\r\n  var normalStyleModel = regionModel.getModel('itemStyle');\r\n  var emphasisStyleModel = regionModel.getModel(['emphasis', 'itemStyle']);\r\n  var blurStyleModel = regionModel.getModel(['blur', 'itemStyle']);\r\n  var selectStyleModel = regionModel.getModel(['select', 'itemStyle']); // NOTE: DON'T use 'style' in visual when drawing map.\r\n  // This component is used for drawing underlying map for both geo component and map series.\r\n\r\n  var normalStyle = getFixedItemStyle(normalStyleModel);\r\n  var emphasisStyle = getFixedItemStyle(emphasisStyleModel);\r\n  var selectStyle = getFixedItemStyle(selectStyleModel);\r\n  var blurStyle = getFixedItemStyle(blurStyleModel); // Update the itemStyle if has data visual\r\n\r\n  var data = viewBuildCtx.data;\r\n\r\n  if (data) {\r\n    // Only visual color of each item will be used. It can be encoded by visualMap\r\n    // But visual color of series is used in symbol drawing\r\n    // Visual color for each series is for the symbol draw\r\n    var style = data.getItemVisual(dataIndex, 'style');\r\n    var decal = data.getItemVisual(dataIndex, 'decal');\r\n\r\n    if (viewBuildCtx.isVisualEncodedByVisualMap && style.fill) {\r\n      normalStyle.fill = style.fill;\r\n    }\r\n\r\n    if (decal) {\r\n      normalStyle.decal = createOrUpdatePatternFromDecal(decal, viewBuildCtx.api);\r\n    }\r\n  } // SVG text, tspan and image can be named but not supporeted\r\n  // to be styled by region option yet.\r\n\r\n\r\n  el.setStyle(normalStyle);\r\n  el.style.strokeNoScale = true;\r\n  el.ensureState('emphasis').style = emphasisStyle;\r\n  el.ensureState('select').style = selectStyle;\r\n  el.ensureState('blur').style = blurStyle; // Enable blur\r\n\r\n  setDefaultStateProxy(el);\r\n}\r\n\r\nfunction resetLabelForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel, // Exist only if `viewBuildCtx.data` exists.\r\ndataIdx, // If labelXY not provided, use `textConfig.position: 'inside'`\r\nlabelXY) {\r\n  var data = viewBuildCtx.data;\r\n  var isGeo = viewBuildCtx.isGeo;\r\n  var isDataNaN = data && isNaN(data.get(data.mapDimension('value'), dataIdx));\r\n  var itemLayout = data && data.getItemLayout(dataIdx); // In the following cases label will be drawn\r\n  // 1. In map series and data value is NaN\r\n  // 2. In geo component\r\n  // 3. Region has no series legendIcon, which will be add a showLabel flag in mapSymbolLayout\r\n\r\n  if (isGeo || isDataNaN || itemLayout && itemLayout.showLabel) {\r\n    var query = !isGeo ? dataIdx : regionName;\r\n    var labelFetcher = void 0; // Consider dataIdx not found.\r\n\r\n    if (!data || dataIdx >= 0) {\r\n      labelFetcher = mapOrGeoModel;\r\n    }\r\n\r\n    var specifiedTextOpt = labelXY ? {\r\n      normal: {\r\n        align: 'center',\r\n        verticalAlign: 'middle'\r\n      }\r\n    } : null; // Caveat: must be called after `setDefaultStateProxy(el);` called.\r\n    // because textContent will be assign with `el.stateProxy` inside.\r\n\r\n    setLabelStyle(el, getLabelStatesModels(regionModel), {\r\n      labelFetcher: labelFetcher,\r\n      labelDataIndex: query,\r\n      defaultText: regionName\r\n    }, specifiedTextOpt);\r\n    var textEl = el.getTextContent();\r\n\r\n    if (textEl) {\r\n      mapLabelRaw(textEl).ignore = textEl.ignore;\r\n\r\n      if (el.textConfig && labelXY) {\r\n        // Compute a relative offset based on the el bounding rect.\r\n        var rect = el.getBoundingRect().clone(); // Need to make sure the percent position base on the same rect in normal and\r\n        // emphasis state. Otherwise if using boundingRect of el, but the emphasis state\r\n        // has borderWidth (even 0.5px), the text position will be changed obviously\r\n        // if the position is very big like ['1234%', '1345%'].\r\n\r\n        el.textConfig.layoutRect = rect;\r\n        el.textConfig.position = [(labelXY[0] - rect.x) / rect.width * 100 + '%', (labelXY[1] - rect.y) / rect.height * 100 + '%'];\r\n      }\r\n    } // PENDING:\r\n    // If labelLayout is enabled (test/label-layout.html), el.dataIndex should be specified.\r\n    // But el.dataIndex is also used to determine whether user event should be triggered,\r\n    // where el.seriesIndex or el.dataModel must be specified. At present for a single el\r\n    // there is not case that \"only label layout enabled but user event disabled\", so here\r\n    // we depends `resetEventTriggerForRegion` to do the job of setting `el.dataIndex`.\r\n\r\n\r\n    el.disableLabelAnimation = true;\r\n  } else {\r\n    el.removeTextContent();\r\n    el.removeTextConfig();\r\n    el.disableLabelAnimation = null;\r\n  }\r\n}\r\n\r\nfunction resetEventTriggerForRegion(viewBuildCtx, eventTrigger, regionName, regionModel, mapOrGeoModel, // Exist only if `viewBuildCtx.data` exists.\r\ndataIdx) {\r\n  // setItemGraphicEl, setHoverStyle after all polygons and labels\r\n  // are added to the regionGroup\r\n  if (viewBuildCtx.data) {\r\n    // FIXME: when series-map use a SVG map, and there are duplicated name specified\r\n    // on different SVG elements, after `data.setItemGraphicEl(...)`:\r\n    // (1) all of them will be mounted with `dataIndex`, `seriesIndex`, so that tooltip\r\n    // can be triggered only mouse hover. That's correct.\r\n    // (2) only the last element will be kept in `data`, so that if trigger tooltip\r\n    // by `dispatchAction`, only the last one can be found and triggered. That might be\r\n    // not correct. We will fix it in future if anyone demanding that.\r\n    viewBuildCtx.data.setItemGraphicEl(dataIdx, eventTrigger);\r\n  } // series-map will not trigger \"geoselectchange\" no matter it is\r\n  // based on a declared geo component. Because series-map will\r\n  // trigger \"selectchange\". If it trigger both the two events,\r\n  // If users call `chart.dispatchAction({type: 'toggleSelect'})`,\r\n  // it not easy to also fire event \"geoselectchanged\".\r\n  else {\r\n      // Package custom mouse event for geo component\r\n      getECData(eventTrigger).eventData = {\r\n        componentType: 'geo',\r\n        componentIndex: mapOrGeoModel.componentIndex,\r\n        geoIndex: mapOrGeoModel.componentIndex,\r\n        name: regionName,\r\n        region: regionModel && regionModel.option || {}\r\n      };\r\n    }\r\n}\r\n\r\nfunction resetTooltipForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel) {\r\n  if (!viewBuildCtx.data) {\r\n    graphic.setTooltipConfig({\r\n      el: el,\r\n      componentModel: mapOrGeoModel,\r\n      itemName: regionName,\r\n      // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\r\n      itemTooltipOption: regionModel.get('tooltip')\r\n    });\r\n  }\r\n}\r\n\r\nfunction resetStateTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel) {\r\n  // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\r\n  el.highDownSilentOnTouch = !!mapOrGeoModel.get('selectedMode'); // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\r\n\r\n  var emphasisModel = regionModel.getModel('emphasis');\r\n  var focus = emphasisModel.get('focus');\r\n  toggleHoverEmphasis(el, focus, emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\r\n\r\n  if (viewBuildCtx.isGeo) {\r\n    enableComponentHighDownFeatures(el, mapOrGeoModel, regionName);\r\n  }\r\n\r\n  return focus;\r\n}\r\n\r\nfunction projectPolys(rings, // Polygons include exterior and interiors. Or polylines.\r\ncreateStream, isLine) {\r\n  var polygons = [];\r\n  var curPoly;\r\n\r\n  function startPolygon() {\r\n    curPoly = [];\r\n  }\r\n\r\n  function endPolygon() {\r\n    if (curPoly.length) {\r\n      polygons.push(curPoly);\r\n      curPoly = [];\r\n    }\r\n  }\r\n\r\n  var stream = createStream({\r\n    polygonStart: startPolygon,\r\n    polygonEnd: endPolygon,\r\n    lineStart: startPolygon,\r\n    lineEnd: endPolygon,\r\n    point: function (x, y) {\r\n      // May have NaN values from stream.\r\n      if (isFinite(x) && isFinite(y)) {\r\n        curPoly.push([x, y]);\r\n      }\r\n    },\r\n    sphere: function () {}\r\n  });\r\n  !isLine && stream.polygonStart();\r\n  zrUtil.each(rings, function (ring) {\r\n    stream.lineStart();\r\n\r\n    for (var i = 0; i < ring.length; i++) {\r\n      stream.point(ring[i][0], ring[i][1]);\r\n    }\r\n\r\n    stream.lineEnd();\r\n  });\r\n  !isLine && stream.polygonEnd();\r\n  return polygons;\r\n}\r\n\r\nexport default MapDraw; // @ts-ignore FIXME:TS fix the \"compatible with each other\"?", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport MapDraw from '../helper/MapDraw.js';\r\nimport ComponentView from '../../view/Component.js';\r\nimport { getECData } from '../../util/innerStore.js';\r\nimport { findEventDispatcher } from '../../util/event.js';\r\n\r\nvar GeoView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(GeoView, _super);\r\n\r\n  function GeoView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = GeoView.type;\r\n    _this.focusBlurEnabled = true;\r\n    return _this;\r\n  }\r\n\r\n  GeoView.prototype.init = function (ecModel, api) {\r\n    this._api = api;\r\n  };\r\n\r\n  GeoView.prototype.render = function (geoModel, ecModel, api, payload) {\r\n    this._model = geoModel;\r\n\r\n    if (!geoModel.get('show')) {\r\n      this._mapDraw && this._mapDraw.remove();\r\n      this._mapDraw = null;\r\n      return;\r\n    }\r\n\r\n    if (!this._mapDraw) {\r\n      this._mapDraw = new MapDraw(api);\r\n    }\r\n\r\n    var mapDraw = this._mapDraw;\r\n    mapDraw.draw(geoModel, ecModel, api, this, payload);\r\n    mapDraw.group.on('click', this._handleRegionClick, this);\r\n    mapDraw.group.silent = geoModel.get('silent');\r\n    this.group.add(mapDraw.group);\r\n    this.updateSelectStatus(geoModel, ecModel, api);\r\n  };\r\n\r\n  GeoView.prototype._handleRegionClick = function (e) {\r\n    var eventData;\r\n    findEventDispatcher(e.target, function (current) {\r\n      return (eventData = getECData(current).eventData) != null;\r\n    }, true);\r\n\r\n    if (eventData) {\r\n      this._api.dispatchAction({\r\n        type: 'geoToggleSelect',\r\n        geoId: this._model.id,\r\n        name: eventData.name\r\n      });\r\n    }\r\n  };\r\n\r\n  GeoView.prototype.updateSelectStatus = function (model, ecModel, api) {\r\n    var _this = this;\r\n\r\n    this._mapDraw.group.traverse(function (node) {\r\n      var eventData = getECData(node).eventData;\r\n\r\n      if (eventData) {\r\n        _this._model.isSelected(eventData.name) ? api.enterSelect(node) : api.leaveSelect(node); // No need to traverse children.\r\n\r\n        return true;\r\n      }\r\n    });\r\n  };\r\n\r\n  GeoView.prototype.findHighDownDispatchers = function (name) {\r\n    return this._mapDraw && this._mapDraw.findHighDownDispatchers(name, this._model);\r\n  };\r\n\r\n  GeoView.prototype.dispose = function () {\r\n    this._mapDraw && this._mapDraw.remove();\r\n  };\r\n\r\n  GeoView.type = 'geo';\r\n  return GeoView;\r\n}(ComponentView);\r\n\r\nexport default GeoView;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport GeoModel from '../../coord/geo/GeoModel.js';\r\nimport geoCreator from '../../coord/geo/geoCreator.js';\r\nimport { each } from 'zrender/lib/core/util.js';\r\nimport { updateCenterAndZoom } from '../../action/roamHelper.js';\r\nimport GeoView from './GeoView.js';\r\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\r\n\r\nfunction registerMap(mapName, geoJson, specialAreas) {\r\n  geoSourceManager.registerMap(mapName, geoJson, specialAreas);\r\n}\r\n\r\nexport function install(registers) {\r\n  registers.registerCoordinateSystem('geo', geoCreator);\r\n  registers.registerComponentModel(GeoModel);\r\n  registers.registerComponentView(GeoView);\r\n  registers.registerImpl('registerMap', registerMap);\r\n  registers.registerImpl('getMap', function (mapName) {\r\n    return geoSourceManager.getMapForUser(mapName);\r\n  });\r\n\r\n  function makeAction(method, actionInfo) {\r\n    actionInfo.update = 'geo:updateSelectStatus';\r\n    registers.registerAction(actionInfo, function (payload, ecModel) {\r\n      var selected = {};\r\n      var allSelected = [];\r\n      ecModel.eachComponent({\r\n        mainType: 'geo',\r\n        query: payload\r\n      }, function (geoModel) {\r\n        geoModel[method](payload.name);\r\n        var geo = geoModel.coordinateSystem;\r\n        each(geo.regions, function (region) {\r\n          selected[region.name] = geoModel.isSelected(region.name) || false;\r\n        }); // Notice: there might be duplicated name in different regions.\r\n\r\n        var names = [];\r\n        each(selected, function (v, name) {\r\n          selected[name] && names.push(name);\r\n        });\r\n        allSelected.push({\r\n          geoIndex: geoModel.componentIndex,\r\n          // Use singular, the same naming convention as the event `selectchanged`.\r\n          name: names\r\n        });\r\n      });\r\n      return {\r\n        selected: selected,\r\n        allSelected: allSelected,\r\n        name: payload.name\r\n      };\r\n    });\r\n  }\r\n\r\n  makeAction('toggleSelected', {\r\n    type: 'geoToggleSelect',\r\n    event: 'geoselectchanged'\r\n  });\r\n  makeAction('select', {\r\n    type: 'geoSelect',\r\n    event: 'geoselected'\r\n  });\r\n  makeAction('unSelect', {\r\n    type: 'geoUnSelect',\r\n    event: 'geounselected'\r\n  });\r\n  /**\r\n   * @payload\r\n   * @property {string} [componentType=series]\r\n   * @property {number} [dx]\r\n   * @property {number} [dy]\r\n   * @property {number} [zoom]\r\n   * @property {number} [originX]\r\n   * @property {number} [originY]\r\n   */\r\n\r\n  registers.registerAction({\r\n    type: 'geoRoam',\r\n    event: 'geoRoam',\r\n    update: 'updateTransform'\r\n  }, function (payload, ecModel, api) {\r\n    var componentType = payload.componentType || 'series';\r\n    ecModel.eachComponent({\r\n      mainType: componentType,\r\n      query: payload\r\n    }, function (componentModel) {\r\n      var geo = componentModel.coordinateSystem;\r\n\r\n      if (geo.type !== 'geo') {\r\n        return;\r\n      }\r\n\r\n      var res = updateCenterAndZoom(geo, payload, componentModel.get('scaleLimit'), api);\r\n      componentModel.setCenter && componentModel.setCenter(res.center);\r\n      componentModel.setZoom && componentModel.setZoom(res.zoom); // All map series with same `map` use the same geo coordinate system\r\n      // So the center and zoom must be in sync. Include the series not selected by legend\r\n\r\n      if (componentType === 'series') {\r\n        each(componentModel.seriesGroup, function (seriesModel) {\r\n          seriesModel.setCenter(res.center);\r\n          seriesModel.setZoom(res.zoom);\r\n        });\r\n      }\r\n    });\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as modelUtil from '../../util/model.js';\r\nexport default function parallelPreprocessor(option) {\r\n  createParallelIfNeeded(option);\r\n  mergeAxisOptionFromParallel(option);\r\n}\r\n/**\r\n * Create a parallel coordinate if not exists.\r\n * @inner\r\n */\r\n\r\nfunction createParallelIfNeeded(option) {\r\n  if (option.parallel) {\r\n    return;\r\n  }\r\n\r\n  var hasParallelSeries = false;\r\n  zrUtil.each(option.series, function (seriesOpt) {\r\n    if (seriesOpt && seriesOpt.type === 'parallel') {\r\n      hasParallelSeries = true;\r\n    }\r\n  });\r\n\r\n  if (hasParallelSeries) {\r\n    option.parallel = [{}];\r\n  }\r\n}\r\n/**\r\n * Merge aixs definition from parallel option (if exists) to axis option.\r\n * @inner\r\n */\r\n\r\n\r\nfunction mergeAxisOptionFromParallel(option) {\r\n  var axes = modelUtil.normalizeToArray(option.parallelAxis);\r\n  zrUtil.each(axes, function (axisOption) {\r\n    if (!zrUtil.isObject(axisOption)) {\r\n      return;\r\n    }\r\n\r\n    var parallelIndex = axisOption.parallelIndex || 0;\r\n    var parallelOption = modelUtil.normalizeToArray(option.parallel)[parallelIndex];\r\n\r\n    if (parallelOption && parallelOption.parallelAxisDefault) {\r\n      zrUtil.merge(axisOption, parallelOption.parallelAxisDefault, false);\r\n    }\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport ComponentView from '../../view/Component.js';\r\nimport { each, bind, extend } from 'zrender/lib/core/util.js';\r\nimport { createOrUpdate, clear } from '../../util/throttle.js';\r\nvar CLICK_THRESHOLD = 5; // > 4\r\n\r\nvar ParallelView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(ParallelView, _super);\r\n\r\n  function ParallelView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = ParallelView.type;\r\n    return _this;\r\n  }\r\n\r\n  ParallelView.prototype.render = function (parallelModel, ecModel, api) {\r\n    this._model = parallelModel;\r\n    this._api = api;\r\n\r\n    if (!this._handlers) {\r\n      this._handlers = {};\r\n      each(handlers, function (handler, eventName) {\r\n        api.getZr().on(eventName, this._handlers[eventName] = bind(handler, this));\r\n      }, this);\r\n    }\r\n\r\n    createOrUpdate(this, '_throttledDispatchExpand', parallelModel.get('axisExpandRate'), 'fixRate');\r\n  };\r\n\r\n  ParallelView.prototype.dispose = function (ecModel, api) {\r\n    clear(this, '_throttledDispatchExpand');\r\n    each(this._handlers, function (handler, eventName) {\r\n      api.getZr().off(eventName, handler);\r\n    });\r\n    this._handlers = null;\r\n  };\r\n  /**\r\n   * @internal\r\n   * @param {Object} [opt] If null, cancel the last action triggering for debounce.\r\n   */\r\n\r\n\r\n  ParallelView.prototype._throttledDispatchExpand = function (opt) {\r\n    this._dispatchExpand(opt);\r\n  };\r\n  /**\r\n   * @internal\r\n   */\r\n\r\n\r\n  ParallelView.prototype._dispatchExpand = function (opt) {\r\n    opt && this._api.dispatchAction(extend({\r\n      type: 'parallelAxisExpand'\r\n    }, opt));\r\n  };\r\n\r\n  ParallelView.type = 'parallel';\r\n  return ParallelView;\r\n}(ComponentView);\r\n\r\nvar handlers = {\r\n  mousedown: function (e) {\r\n    if (checkTrigger(this, 'click')) {\r\n      this._mouseDownPoint = [e.offsetX, e.offsetY];\r\n    }\r\n  },\r\n  mouseup: function (e) {\r\n    var mouseDownPoint = this._mouseDownPoint;\r\n\r\n    if (checkTrigger(this, 'click') && mouseDownPoint) {\r\n      var point = [e.offsetX, e.offsetY];\r\n      var dist = Math.pow(mouseDownPoint[0] - point[0], 2) + Math.pow(mouseDownPoint[1] - point[1], 2);\r\n\r\n      if (dist > CLICK_THRESHOLD) {\r\n        return;\r\n      }\r\n\r\n      var result = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\r\n\r\n      result.behavior !== 'none' && this._dispatchExpand({\r\n        axisExpandWindow: result.axisExpandWindow\r\n      });\r\n    }\r\n\r\n    this._mouseDownPoint = null;\r\n  },\r\n  mousemove: function (e) {\r\n    // Should do nothing when brushing.\r\n    if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\r\n      return;\r\n    }\r\n\r\n    var model = this._model;\r\n    var result = model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\r\n    var behavior = result.behavior;\r\n    behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\r\n\r\n    this._throttledDispatchExpand(behavior === 'none' ? null // Cancel the last trigger, in case that mouse slide out of the area quickly.\r\n    : {\r\n      axisExpandWindow: result.axisExpandWindow,\r\n      // Jumping uses animation, and sliding suppresses animation.\r\n      animation: behavior === 'jump' ? null : {\r\n        duration: 0 // Disable animation.\r\n\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nfunction checkTrigger(view, triggerOn) {\r\n  var model = view._model;\r\n  return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\r\n}\r\n\r\nexport default ParallelView;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport ComponentModel from '../../model/Component.js';\r\n\r\nvar ParallelModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(ParallelModel, _super);\r\n\r\n  function ParallelModel() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = ParallelModel.type;\r\n    return _this;\r\n  }\r\n\r\n  ParallelModel.prototype.init = function () {\r\n    _super.prototype.init.apply(this, arguments);\r\n\r\n    this.mergeOption({});\r\n  };\r\n\r\n  ParallelModel.prototype.mergeOption = function (newOption) {\r\n    var thisOption = this.option;\r\n    newOption && zrUtil.merge(thisOption, newOption, true);\r\n\r\n    this._initDimensions();\r\n  };\r\n  /**\r\n   * Whether series or axis is in this coordinate system.\r\n   */\r\n\r\n\r\n  ParallelModel.prototype.contains = function (model, ecModel) {\r\n    var parallelIndex = model.get('parallelIndex');\r\n    return parallelIndex != null && ecModel.getComponent('parallel', parallelIndex) === this;\r\n  };\r\n\r\n  ParallelModel.prototype.setAxisExpand = function (opt) {\r\n    zrUtil.each(['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'], function (name) {\r\n      if (opt.hasOwnProperty(name)) {\r\n        // @ts-ignore FIXME: why \"never\" inferred in this.option[name]?\r\n        this.option[name] = opt[name];\r\n      }\r\n    }, this);\r\n  };\r\n\r\n  ParallelModel.prototype._initDimensions = function () {\r\n    var dimensions = this.dimensions = [];\r\n    var parallelAxisIndex = this.parallelAxisIndex = [];\r\n    var axisModels = zrUtil.filter(this.ecModel.queryComponents({\r\n      mainType: 'parallelAxis'\r\n    }), function (axisModel) {\r\n      // Can not use this.contains here, because\r\n      // initialization has not been completed yet.\r\n      return (axisModel.get('parallelIndex') || 0) === this.componentIndex;\r\n    }, this);\r\n    zrUtil.each(axisModels, function (axisModel) {\r\n      dimensions.push('dim' + axisModel.get('dim'));\r\n      parallelAxisIndex.push(axisModel.componentIndex);\r\n    });\r\n  };\r\n\r\n  ParallelModel.type = 'parallel';\r\n  ParallelModel.dependencies = ['parallelAxis'];\r\n  ParallelModel.layoutMode = 'box';\r\n  ParallelModel.defaultOption = {\r\n    // zlevel: 0,\r\n    z: 0,\r\n    left: 80,\r\n    top: 60,\r\n    right: 80,\r\n    bottom: 60,\r\n    // width: {totalWidth} - left - right,\r\n    // height: {totalHeight} - top - bottom,\r\n    layout: 'horizontal',\r\n    // FIXME\r\n    // naming?\r\n    axisExpandable: false,\r\n    axisExpandCenter: null,\r\n    axisExpandCount: 0,\r\n    axisExpandWidth: 50,\r\n    axisExpandRate: 17,\r\n    axisExpandDebounce: 50,\r\n    // [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.\r\n    // Do not doc to user until necessary.\r\n    axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],\r\n    axisExpandTriggerOn: 'click',\r\n    parallelAxisDefault: null\r\n  };\r\n  return ParallelModel;\r\n}(ComponentModel);\r\n\r\nexport default ParallelModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport Axis from '../Axis.js';\r\n\r\nvar ParallelAxis =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(ParallelAxis, _super);\r\n\r\n  function ParallelAxis(dim, scale, coordExtent, axisType, axisIndex) {\r\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\r\n\r\n    _this.type = axisType || 'value';\r\n    _this.axisIndex = axisIndex;\r\n    return _this;\r\n  }\r\n\r\n  ParallelAxis.prototype.isHorizontal = function () {\r\n    return this.coordinateSystem.getModel().get('layout') !== 'horizontal';\r\n  };\r\n\r\n  return ParallelAxis;\r\n}(Axis);\r\n\r\nexport default ParallelAxis;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n/**\r\n * Calculate slider move result.\r\n * Usage:\r\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\r\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\r\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\r\n *\r\n * @param delta Move length.\r\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\r\n *              handleEnds will be modified in this method.\r\n * @param extent handleEnds is restricted by extent.\r\n *              extent[0] should less or equals than extent[1].\r\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\r\n * @param minSpan The range of dataZoom can not be smaller than that.\r\n *              If not set, handle0 and cross handle1. If set as a non-negative\r\n *              number (including `0`), handles will push each other when reaching\r\n *              the minSpan.\r\n * @param maxSpan The range of dataZoom can not be larger than that.\r\n * @return The input handleEnds.\r\n */\r\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\r\n  delta = delta || 0;\r\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\r\n\r\n  if (minSpan != null) {\r\n    minSpan = restrict(minSpan, [0, extentSpan]);\r\n  }\r\n\r\n  if (maxSpan != null) {\r\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\r\n  }\r\n\r\n  if (handleIndex === 'all') {\r\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\r\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\r\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\r\n    handleIndex = 0;\r\n  }\r\n\r\n  handleEnds[0] = restrict(handleEnds[0], extent);\r\n  handleEnds[1] = restrict(handleEnds[1], extent);\r\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\r\n  handleEnds[handleIndex] += delta; // Restrict in extent.\r\n\r\n  var extentMinSpan = minSpan || 0;\r\n  var realExtent = extent.slice();\r\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\r\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\r\n\r\n  var currDistSign;\r\n  currDistSign = getSpanSign(handleEnds, handleIndex);\r\n\r\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\r\n    // If minSpan exists, 'cross' is forbidden.\r\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\r\n  } // Shrink span.\r\n\r\n\r\n  currDistSign = getSpanSign(handleEnds, handleIndex);\r\n\r\n  if (maxSpan != null && currDistSign.span > maxSpan) {\r\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\r\n  }\r\n\r\n  return handleEnds;\r\n}\r\n\r\nfunction getSpanSign(handleEnds, handleIndex) {\r\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\r\n  // is at left of handleEnds[1] for non-cross case.\r\n\r\n  return {\r\n    span: Math.abs(dist),\r\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\r\n  };\r\n}\r\n\r\nfunction restrict(value, extend) {\r\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n/**\r\n * Parallel Coordinates\r\n * <https://en.wikipedia.org/wiki/Parallel_coordinates>\r\n */\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as matrix from 'zrender/lib/core/matrix.js';\r\nimport * as layoutUtil from '../../util/layout.js';\r\nimport * as axisHelper from '../../coord/axisHelper.js';\r\nimport ParallelAxis from './ParallelAxis.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport * as numberUtil from '../../util/number.js';\r\nimport sliderMove from '../../component/helper/sliderMove.js';\r\nvar each = zrUtil.each;\r\nvar mathMin = Math.min;\r\nvar mathMax = Math.max;\r\nvar mathFloor = Math.floor;\r\nvar mathCeil = Math.ceil;\r\nvar round = numberUtil.round;\r\nvar PI = Math.PI;\r\n\r\nvar Parallel =\r\n/** @class */\r\nfunction () {\r\n  function Parallel(parallelModel, ecModel, api) {\r\n    this.type = 'parallel';\r\n    /**\r\n     * key: dimension\r\n     */\r\n\r\n    this._axesMap = zrUtil.createHashMap();\r\n    /**\r\n     * key: dimension\r\n     * value: {position: [], rotation, }\r\n     */\r\n\r\n    this._axesLayout = {};\r\n    this.dimensions = parallelModel.dimensions;\r\n    this._model = parallelModel;\r\n\r\n    this._init(parallelModel, ecModel, api);\r\n  }\r\n\r\n  Parallel.prototype._init = function (parallelModel, ecModel, api) {\r\n    var dimensions = parallelModel.dimensions;\r\n    var parallelAxisIndex = parallelModel.parallelAxisIndex;\r\n    each(dimensions, function (dim, idx) {\r\n      var axisIndex = parallelAxisIndex[idx];\r\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\r\n\r\n      var axis = this._axesMap.set(dim, new ParallelAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisIndex));\r\n\r\n      var isCategory = axis.type === 'category';\r\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\r\n      axis.inverse = axisModel.get('inverse'); // Injection\r\n\r\n      axisModel.axis = axis;\r\n      axis.model = axisModel;\r\n      axis.coordinateSystem = axisModel.coordinateSystem = this;\r\n    }, this);\r\n  };\r\n  /**\r\n   * Update axis scale after data processed\r\n   */\r\n\r\n\r\n  Parallel.prototype.update = function (ecModel, api) {\r\n    this._updateAxesFromSeries(this._model, ecModel);\r\n  };\r\n\r\n  Parallel.prototype.containPoint = function (point) {\r\n    var layoutInfo = this._makeLayoutInfo();\r\n\r\n    var axisBase = layoutInfo.axisBase;\r\n    var layoutBase = layoutInfo.layoutBase;\r\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\r\n    var pAxis = point[1 - pixelDimIndex];\r\n    var pLayout = point[pixelDimIndex];\r\n    return pAxis >= axisBase && pAxis <= axisBase + layoutInfo.axisLength && pLayout >= layoutBase && pLayout <= layoutBase + layoutInfo.layoutLength;\r\n  };\r\n\r\n  Parallel.prototype.getModel = function () {\r\n    return this._model;\r\n  };\r\n  /**\r\n   * Update properties from series\r\n   */\r\n\r\n\r\n  Parallel.prototype._updateAxesFromSeries = function (parallelModel, ecModel) {\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      if (!parallelModel.contains(seriesModel, ecModel)) {\r\n        return;\r\n      }\r\n\r\n      var data = seriesModel.getData();\r\n      each(this.dimensions, function (dim) {\r\n        var axis = this._axesMap.get(dim);\r\n\r\n        axis.scale.unionExtentFromData(data, data.mapDimension(dim));\r\n        axisHelper.niceScaleExtent(axis.scale, axis.model);\r\n      }, this);\r\n    }, this);\r\n  };\r\n  /**\r\n   * Resize the parallel coordinate system.\r\n   */\r\n\r\n\r\n  Parallel.prototype.resize = function (parallelModel, api) {\r\n    this._rect = layoutUtil.getLayoutRect(parallelModel.getBoxLayoutParams(), {\r\n      width: api.getWidth(),\r\n      height: api.getHeight()\r\n    });\r\n\r\n    this._layoutAxes();\r\n  };\r\n\r\n  Parallel.prototype.getRect = function () {\r\n    return this._rect;\r\n  };\r\n\r\n  Parallel.prototype._makeLayoutInfo = function () {\r\n    var parallelModel = this._model;\r\n    var rect = this._rect;\r\n    var xy = ['x', 'y'];\r\n    var wh = ['width', 'height'];\r\n    var layout = parallelModel.get('layout');\r\n    var pixelDimIndex = layout === 'horizontal' ? 0 : 1;\r\n    var layoutLength = rect[wh[pixelDimIndex]];\r\n    var layoutExtent = [0, layoutLength];\r\n    var axisCount = this.dimensions.length;\r\n    var axisExpandWidth = restrict(parallelModel.get('axisExpandWidth'), layoutExtent);\r\n    var axisExpandCount = restrict(parallelModel.get('axisExpandCount') || 0, [0, axisCount]);\r\n    var axisExpandable = parallelModel.get('axisExpandable') && axisCount > 3 && axisCount > axisExpandCount && axisExpandCount > 1 && axisExpandWidth > 0 && layoutLength > 0; // `axisExpandWindow` is According to the coordinates of [0, axisExpandLength],\r\n    // for sake of consider the case that axisCollapseWidth is 0 (when screen is narrow),\r\n    // where collapsed axes should be overlapped.\r\n\r\n    var axisExpandWindow = parallelModel.get('axisExpandWindow');\r\n    var winSize;\r\n\r\n    if (!axisExpandWindow) {\r\n      winSize = restrict(axisExpandWidth * (axisExpandCount - 1), layoutExtent);\r\n      var axisExpandCenter = parallelModel.get('axisExpandCenter') || mathFloor(axisCount / 2);\r\n      axisExpandWindow = [axisExpandWidth * axisExpandCenter - winSize / 2];\r\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\r\n    } else {\r\n      winSize = restrict(axisExpandWindow[1] - axisExpandWindow[0], layoutExtent);\r\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\r\n    }\r\n\r\n    var axisCollapseWidth = (layoutLength - winSize) / (axisCount - axisExpandCount); // Avoid axisCollapseWidth is too small.\r\n\r\n    axisCollapseWidth < 3 && (axisCollapseWidth = 0); // Find the first and last indices > ewin[0] and < ewin[1].\r\n\r\n    var winInnerIndices = [mathFloor(round(axisExpandWindow[0] / axisExpandWidth, 1)) + 1, mathCeil(round(axisExpandWindow[1] / axisExpandWidth, 1)) - 1]; // Pos in ec coordinates.\r\n\r\n    var axisExpandWindow0Pos = axisCollapseWidth / axisExpandWidth * axisExpandWindow[0];\r\n    return {\r\n      layout: layout,\r\n      pixelDimIndex: pixelDimIndex,\r\n      layoutBase: rect[xy[pixelDimIndex]],\r\n      layoutLength: layoutLength,\r\n      axisBase: rect[xy[1 - pixelDimIndex]],\r\n      axisLength: rect[wh[1 - pixelDimIndex]],\r\n      axisExpandable: axisExpandable,\r\n      axisExpandWidth: axisExpandWidth,\r\n      axisCollapseWidth: axisCollapseWidth,\r\n      axisExpandWindow: axisExpandWindow,\r\n      axisCount: axisCount,\r\n      winInnerIndices: winInnerIndices,\r\n      axisExpandWindow0Pos: axisExpandWindow0Pos\r\n    };\r\n  };\r\n\r\n  Parallel.prototype._layoutAxes = function () {\r\n    var rect = this._rect;\r\n    var axes = this._axesMap;\r\n    var dimensions = this.dimensions;\r\n\r\n    var layoutInfo = this._makeLayoutInfo();\r\n\r\n    var layout = layoutInfo.layout;\r\n    axes.each(function (axis) {\r\n      var axisExtent = [0, layoutInfo.axisLength];\r\n      var idx = axis.inverse ? 1 : 0;\r\n      axis.setExtent(axisExtent[idx], axisExtent[1 - idx]);\r\n    });\r\n    each(dimensions, function (dim, idx) {\r\n      var posInfo = (layoutInfo.axisExpandable ? layoutAxisWithExpand : layoutAxisWithoutExpand)(idx, layoutInfo);\r\n      var positionTable = {\r\n        horizontal: {\r\n          x: posInfo.position,\r\n          y: layoutInfo.axisLength\r\n        },\r\n        vertical: {\r\n          x: 0,\r\n          y: posInfo.position\r\n        }\r\n      };\r\n      var rotationTable = {\r\n        horizontal: PI / 2,\r\n        vertical: 0\r\n      };\r\n      var position = [positionTable[layout].x + rect.x, positionTable[layout].y + rect.y];\r\n      var rotation = rotationTable[layout];\r\n      var transform = matrix.create();\r\n      matrix.rotate(transform, transform, rotation);\r\n      matrix.translate(transform, transform, position); // TODO\r\n      // tick layout info\r\n      // TODO\r\n      // update dimensions info based on axis order.\r\n\r\n      this._axesLayout[dim] = {\r\n        position: position,\r\n        rotation: rotation,\r\n        transform: transform,\r\n        axisNameAvailableWidth: posInfo.axisNameAvailableWidth,\r\n        axisLabelShow: posInfo.axisLabelShow,\r\n        nameTruncateMaxWidth: posInfo.nameTruncateMaxWidth,\r\n        tickDirection: 1,\r\n        labelDirection: 1\r\n      };\r\n    }, this);\r\n  };\r\n  /**\r\n   * Get axis by dim.\r\n   */\r\n\r\n\r\n  Parallel.prototype.getAxis = function (dim) {\r\n    return this._axesMap.get(dim);\r\n  };\r\n  /**\r\n   * Convert a dim value of a single item of series data to Point.\r\n   */\r\n\r\n\r\n  Parallel.prototype.dataToPoint = function (value, dim) {\r\n    return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value), dim);\r\n  };\r\n  /**\r\n   * Travel data for one time, get activeState of each data item.\r\n   * @param start the start dataIndex that travel from.\r\n   * @param end the next dataIndex of the last dataIndex will be travel.\r\n   */\r\n\r\n\r\n  Parallel.prototype.eachActiveState = function (data, callback, start, end) {\r\n    start == null && (start = 0);\r\n    end == null && (end = data.count());\r\n    var axesMap = this._axesMap;\r\n    var dimensions = this.dimensions;\r\n    var dataDimensions = [];\r\n    var axisModels = [];\r\n    zrUtil.each(dimensions, function (axisDim) {\r\n      dataDimensions.push(data.mapDimension(axisDim));\r\n      axisModels.push(axesMap.get(axisDim).model);\r\n    });\r\n    var hasActiveSet = this.hasAxisBrushed();\r\n\r\n    for (var dataIndex = start; dataIndex < end; dataIndex++) {\r\n      var activeState = void 0;\r\n\r\n      if (!hasActiveSet) {\r\n        activeState = 'normal';\r\n      } else {\r\n        activeState = 'active';\r\n        var values = data.getValues(dataDimensions, dataIndex);\r\n\r\n        for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\r\n          var state = axisModels[j].getActiveState(values[j]);\r\n\r\n          if (state === 'inactive') {\r\n            activeState = 'inactive';\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      callback(activeState, dataIndex);\r\n    }\r\n  };\r\n  /**\r\n   * Whether has any activeSet.\r\n   */\r\n\r\n\r\n  Parallel.prototype.hasAxisBrushed = function () {\r\n    var dimensions = this.dimensions;\r\n    var axesMap = this._axesMap;\r\n    var hasActiveSet = false;\r\n\r\n    for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\r\n      if (axesMap.get(dimensions[j]).model.getActiveState() !== 'normal') {\r\n        hasActiveSet = true;\r\n      }\r\n    }\r\n\r\n    return hasActiveSet;\r\n  };\r\n  /**\r\n   * Convert coords of each axis to Point.\r\n   *  Return point. For example: [10, 20]\r\n   */\r\n\r\n\r\n  Parallel.prototype.axisCoordToPoint = function (coord, dim) {\r\n    var axisLayout = this._axesLayout[dim];\r\n    return graphic.applyTransform([coord, 0], axisLayout.transform);\r\n  };\r\n  /**\r\n   * Get axis layout.\r\n   */\r\n\r\n\r\n  Parallel.prototype.getAxisLayout = function (dim) {\r\n    return zrUtil.clone(this._axesLayout[dim]);\r\n  };\r\n  /**\r\n   * @return {Object} {axisExpandWindow, delta, behavior: 'jump' | 'slide' | 'none'}.\r\n   */\r\n\r\n\r\n  Parallel.prototype.getSlidedAxisExpandWindow = function (point) {\r\n    var layoutInfo = this._makeLayoutInfo();\r\n\r\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\r\n    var axisExpandWindow = layoutInfo.axisExpandWindow.slice();\r\n    var winSize = axisExpandWindow[1] - axisExpandWindow[0];\r\n    var extent = [0, layoutInfo.axisExpandWidth * (layoutInfo.axisCount - 1)]; // Out of the area of coordinate system.\r\n\r\n    if (!this.containPoint(point)) {\r\n      return {\r\n        behavior: 'none',\r\n        axisExpandWindow: axisExpandWindow\r\n      };\r\n    } // Convert the point from global to expand coordinates.\r\n\r\n\r\n    var pointCoord = point[pixelDimIndex] - layoutInfo.layoutBase - layoutInfo.axisExpandWindow0Pos; // For dragging operation convenience, the window should not be\r\n    // slided when mouse is the center area of the window.\r\n\r\n    var delta;\r\n    var behavior = 'slide';\r\n    var axisCollapseWidth = layoutInfo.axisCollapseWidth;\r\n\r\n    var triggerArea = this._model.get('axisExpandSlideTriggerArea'); // But consider touch device, jump is necessary.\r\n\r\n\r\n    var useJump = triggerArea[0] != null;\r\n\r\n    if (axisCollapseWidth) {\r\n      if (useJump && axisCollapseWidth && pointCoord < winSize * triggerArea[0]) {\r\n        behavior = 'jump';\r\n        delta = pointCoord - winSize * triggerArea[2];\r\n      } else if (useJump && axisCollapseWidth && pointCoord > winSize * (1 - triggerArea[0])) {\r\n        behavior = 'jump';\r\n        delta = pointCoord - winSize * (1 - triggerArea[2]);\r\n      } else {\r\n        (delta = pointCoord - winSize * triggerArea[1]) >= 0 && (delta = pointCoord - winSize * (1 - triggerArea[1])) <= 0 && (delta = 0);\r\n      }\r\n\r\n      delta *= layoutInfo.axisExpandWidth / axisCollapseWidth;\r\n      delta ? sliderMove(delta, axisExpandWindow, extent, 'all') // Avoid nonsense triger on mousemove.\r\n      : behavior = 'none';\r\n    } // When screen is too narrow, make it visible and slidable, although it is hard to interact.\r\n    else {\r\n        var winSize2 = axisExpandWindow[1] - axisExpandWindow[0];\r\n        var pos = extent[1] * pointCoord / winSize2;\r\n        axisExpandWindow = [mathMax(0, pos - winSize2 / 2)];\r\n        axisExpandWindow[1] = mathMin(extent[1], axisExpandWindow[0] + winSize2);\r\n        axisExpandWindow[0] = axisExpandWindow[1] - winSize2;\r\n      }\r\n\r\n    return {\r\n      axisExpandWindow: axisExpandWindow,\r\n      behavior: behavior\r\n    };\r\n  };\r\n\r\n  return Parallel;\r\n}();\r\n\r\nfunction restrict(len, extent) {\r\n  return mathMin(mathMax(len, extent[0]), extent[1]);\r\n}\r\n\r\nfunction layoutAxisWithoutExpand(axisIndex, layoutInfo) {\r\n  var step = layoutInfo.layoutLength / (layoutInfo.axisCount - 1);\r\n  return {\r\n    position: step * axisIndex,\r\n    axisNameAvailableWidth: step,\r\n    axisLabelShow: true\r\n  };\r\n}\r\n\r\nfunction layoutAxisWithExpand(axisIndex, layoutInfo) {\r\n  var layoutLength = layoutInfo.layoutLength;\r\n  var axisExpandWidth = layoutInfo.axisExpandWidth;\r\n  var axisCount = layoutInfo.axisCount;\r\n  var axisCollapseWidth = layoutInfo.axisCollapseWidth;\r\n  var winInnerIndices = layoutInfo.winInnerIndices;\r\n  var position;\r\n  var axisNameAvailableWidth = axisCollapseWidth;\r\n  var axisLabelShow = false;\r\n  var nameTruncateMaxWidth;\r\n\r\n  if (axisIndex < winInnerIndices[0]) {\r\n    position = axisIndex * axisCollapseWidth;\r\n    nameTruncateMaxWidth = axisCollapseWidth;\r\n  } else if (axisIndex <= winInnerIndices[1]) {\r\n    position = layoutInfo.axisExpandWindow0Pos + axisIndex * axisExpandWidth - layoutInfo.axisExpandWindow[0];\r\n    axisNameAvailableWidth = axisExpandWidth;\r\n    axisLabelShow = true;\r\n  } else {\r\n    position = layoutLength - (axisCount - 1 - axisIndex) * axisCollapseWidth;\r\n    nameTruncateMaxWidth = axisCollapseWidth;\r\n  }\r\n\r\n  return {\r\n    position: position,\r\n    axisNameAvailableWidth: axisNameAvailableWidth,\r\n    axisLabelShow: axisLabelShow,\r\n    nameTruncateMaxWidth: nameTruncateMaxWidth\r\n  };\r\n}\r\n\r\nexport default Parallel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n/**\r\n * Parallel coordinate system creater.\r\n */\r\nimport Parallel from './Parallel.js';\r\nimport { SINGLE_REFERRING } from '../../util/model.js';\r\n\r\nfunction createParallelCoordSys(ecModel, api) {\r\n  var coordSysList = [];\r\n  ecModel.eachComponent('parallel', function (parallelModel, idx) {\r\n    var coordSys = new Parallel(parallelModel, ecModel, api);\r\n    coordSys.name = 'parallel_' + idx;\r\n    coordSys.resize(parallelModel, api);\r\n    parallelModel.coordinateSystem = coordSys;\r\n    coordSys.model = parallelModel;\r\n    coordSysList.push(coordSys);\r\n  }); // Inject the coordinateSystems into seriesModel\r\n\r\n  ecModel.eachSeries(function (seriesModel) {\r\n    if (seriesModel.get('coordinateSystem') === 'parallel') {\r\n      var parallelModel = seriesModel.getReferringComponents('parallel', SINGLE_REFERRING).models[0];\r\n      seriesModel.coordinateSystem = parallelModel.coordinateSystem;\r\n    }\r\n  });\r\n  return coordSysList;\r\n}\r\n\r\nvar parallelCoordSysCreator = {\r\n  create: createParallelCoordSys\r\n};\r\nexport default parallelCoordSysCreator;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport ComponentModel from '../../model/Component.js';\r\nimport makeStyleMapper from '../../model/mixin/makeStyleMapper.js';\r\nimport * as numberUtil from '../../util/number.js';\r\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\r\n\r\nvar ParallelAxisModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(ParallelAxisModel, _super);\r\n\r\n  function ParallelAxisModel() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = ParallelAxisModel.type;\r\n    /**\r\n     * @readOnly\r\n     */\r\n\r\n    _this.activeIntervals = [];\r\n    return _this;\r\n  }\r\n\r\n  ParallelAxisModel.prototype.getAreaSelectStyle = function () {\r\n    return makeStyleMapper([['fill', 'color'], ['lineWidth', 'borderWidth'], ['stroke', 'borderColor'], ['width', 'width'], ['opacity', 'opacity'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\r\n    // So do not transfer decal directly.\r\n    ])(this.getModel('areaSelectStyle'));\r\n  };\r\n  /**\r\n   * The code of this feature is put on AxisModel but not ParallelAxis,\r\n   * because axisModel can be alive after echarts updating but instance of\r\n   * ParallelAxis having been disposed. this._activeInterval should be kept\r\n   * when action dispatched (i.e. legend click).\r\n   *\r\n   * @param intervals `interval.length === 0` means set all active.\r\n   */\r\n\r\n\r\n  ParallelAxisModel.prototype.setActiveIntervals = function (intervals) {\r\n    var activeIntervals = this.activeIntervals = zrUtil.clone(intervals); // Normalize\r\n\r\n    if (activeIntervals) {\r\n      for (var i = activeIntervals.length - 1; i >= 0; i--) {\r\n        numberUtil.asc(activeIntervals[i]);\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * @param value When only attempting detect whether 'no activeIntervals set',\r\n   *        `value` is not needed to be input.\r\n   */\r\n\r\n\r\n  ParallelAxisModel.prototype.getActiveState = function (value) {\r\n    var activeIntervals = this.activeIntervals;\r\n\r\n    if (!activeIntervals.length) {\r\n      return 'normal';\r\n    }\r\n\r\n    if (value == null || isNaN(+value)) {\r\n      return 'inactive';\r\n    } // Simple optimization\r\n\r\n\r\n    if (activeIntervals.length === 1) {\r\n      var interval = activeIntervals[0];\r\n\r\n      if (interval[0] <= value && value <= interval[1]) {\r\n        return 'active';\r\n      }\r\n    } else {\r\n      for (var i = 0, len = activeIntervals.length; i < len; i++) {\r\n        if (activeIntervals[i][0] <= value && value <= activeIntervals[i][1]) {\r\n          return 'active';\r\n        }\r\n      }\r\n    }\r\n\r\n    return 'inactive';\r\n  };\r\n\r\n  return ParallelAxisModel;\r\n}(ComponentModel);\r\n\r\nzrUtil.mixin(ParallelAxisModel, AxisModelCommonMixin);\r\nexport default ParallelAxisModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport { curry, each, map, bind, merge, clone, defaults, assert } from 'zrender/lib/core/util.js';\r\nimport Eventful from 'zrender/lib/core/Eventful.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport * as interactionMutex from './interactionMutex.js';\r\nimport DataDiffer from '../../data/DataDiffer.js';\r\nvar BRUSH_PANEL_GLOBAL = true;\r\nvar mathMin = Math.min;\r\nvar mathMax = Math.max;\r\nvar mathPow = Math.pow;\r\nvar COVER_Z = 10000;\r\nvar UNSELECT_THRESHOLD = 6;\r\nvar MIN_RESIZE_LINE_WIDTH = 6;\r\nvar MUTEX_RESOURCE_KEY = 'globalPan';\r\nvar DIRECTION_MAP = {\r\n  w: [0, 0],\r\n  e: [0, 1],\r\n  n: [1, 0],\r\n  s: [1, 1]\r\n};\r\nvar CURSOR_MAP = {\r\n  w: 'ew',\r\n  e: 'ew',\r\n  n: 'ns',\r\n  s: 'ns',\r\n  ne: 'nesw',\r\n  sw: 'nesw',\r\n  nw: 'nwse',\r\n  se: 'nwse'\r\n};\r\nvar DEFAULT_BRUSH_OPT = {\r\n  brushStyle: {\r\n    lineWidth: 2,\r\n    stroke: 'rgba(210,219,238,0.3)',\r\n    fill: '#D2DBEE'\r\n  },\r\n  transformable: true,\r\n  brushMode: 'single',\r\n  removeOnClick: false\r\n};\r\nvar baseUID = 0;\r\n/**\r\n * params:\r\n *     areas: Array.<Array>, coord relates to container group,\r\n *                             If no container specified, to global.\r\n *     opt {\r\n *         isEnd: boolean,\r\n *         removeOnClick: boolean\r\n *     }\r\n */\r\n\r\nvar BrushController =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(BrushController, _super);\r\n\r\n  function BrushController(zr) {\r\n    var _this = _super.call(this) || this;\r\n    /**\r\n     * @internal\r\n     */\r\n\r\n\r\n    _this._track = [];\r\n    /**\r\n     * @internal\r\n     */\r\n\r\n    _this._covers = [];\r\n    _this._handlers = {};\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(zr);\r\n    }\r\n\r\n    _this._zr = zr;\r\n    _this.group = new graphic.Group();\r\n    _this._uid = 'brushController_' + baseUID++;\r\n    each(pointerHandlers, function (handler, eventName) {\r\n      this._handlers[eventName] = bind(handler, this);\r\n    }, _this);\r\n    return _this;\r\n  }\r\n  /**\r\n   * If set to `false`, select disabled.\r\n   */\r\n\r\n\r\n  BrushController.prototype.enableBrush = function (brushOption) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(this._mounted);\r\n    }\r\n\r\n    this._brushType && this._doDisableBrush();\r\n    brushOption.brushType && this._doEnableBrush(brushOption);\r\n    return this;\r\n  };\r\n\r\n  BrushController.prototype._doEnableBrush = function (brushOption) {\r\n    var zr = this._zr; // Consider roam, which takes globalPan too.\r\n\r\n    if (!this._enableGlobalPan) {\r\n      interactionMutex.take(zr, MUTEX_RESOURCE_KEY, this._uid);\r\n    }\r\n\r\n    each(this._handlers, function (handler, eventName) {\r\n      zr.on(eventName, handler);\r\n    });\r\n    this._brushType = brushOption.brushType;\r\n    this._brushOption = merge(clone(DEFAULT_BRUSH_OPT), brushOption, true);\r\n  };\r\n\r\n  BrushController.prototype._doDisableBrush = function () {\r\n    var zr = this._zr;\r\n    interactionMutex.release(zr, MUTEX_RESOURCE_KEY, this._uid);\r\n    each(this._handlers, function (handler, eventName) {\r\n      zr.off(eventName, handler);\r\n    });\r\n    this._brushType = this._brushOption = null;\r\n  };\r\n  /**\r\n   * @param panelOpts If not pass, it is global brush.\r\n   */\r\n\r\n\r\n  BrushController.prototype.setPanels = function (panelOpts) {\r\n    if (panelOpts && panelOpts.length) {\r\n      var panels_1 = this._panels = {};\r\n      each(panelOpts, function (panelOpts) {\r\n        panels_1[panelOpts.panelId] = clone(panelOpts);\r\n      });\r\n    } else {\r\n      this._panels = null;\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  BrushController.prototype.mount = function (opt) {\r\n    opt = opt || {};\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      this._mounted = true; // should be at first.\r\n    }\r\n\r\n    this._enableGlobalPan = opt.enableGlobalPan;\r\n    var thisGroup = this.group;\r\n\r\n    this._zr.add(thisGroup);\r\n\r\n    thisGroup.attr({\r\n      x: opt.x || 0,\r\n      y: opt.y || 0,\r\n      rotation: opt.rotation || 0,\r\n      scaleX: opt.scaleX || 1,\r\n      scaleY: opt.scaleY || 1\r\n    });\r\n    this._transform = thisGroup.getLocalTransform();\r\n    return this;\r\n  }; // eachCover(cb, context): void {\r\n  //     each(this._covers, cb, context);\r\n  // }\r\n\r\n  /**\r\n   * Update covers.\r\n   * @param coverConfigList\r\n   *        If coverConfigList is null/undefined, all covers removed.\r\n   */\r\n\r\n\r\n  BrushController.prototype.updateCovers = function (coverConfigList) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(this._mounted);\r\n    }\r\n\r\n    coverConfigList = map(coverConfigList, function (coverConfig) {\r\n      return merge(clone(DEFAULT_BRUSH_OPT), coverConfig, true);\r\n    });\r\n    var tmpIdPrefix = '\\0-brush-index-';\r\n    var oldCovers = this._covers;\r\n    var newCovers = this._covers = [];\r\n    var controller = this;\r\n    var creatingCover = this._creatingCover;\r\n    new DataDiffer(oldCovers, coverConfigList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\r\n    return this;\r\n\r\n    function getKey(brushOption, index) {\r\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\r\n    }\r\n\r\n    function oldGetKey(cover, index) {\r\n      return getKey(cover.__brushOption, index);\r\n    }\r\n\r\n    function addOrUpdate(newIndex, oldIndex) {\r\n      var newBrushInternal = coverConfigList[newIndex]; // Consider setOption in event listener of brushSelect,\r\n      // where updating cover when creating should be forbidden.\r\n\r\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\r\n        newCovers[newIndex] = oldCovers[oldIndex];\r\n      } else {\r\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushInternal, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushInternal));\r\n        updateCoverAfterCreation(controller, cover);\r\n      }\r\n    }\r\n\r\n    function remove(oldIndex) {\r\n      if (oldCovers[oldIndex] !== creatingCover) {\r\n        controller.group.remove(oldCovers[oldIndex]);\r\n      }\r\n    }\r\n  };\r\n\r\n  BrushController.prototype.unmount = function () {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (!this._mounted) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.enableBrush(false); // container may 'removeAll' outside.\r\n\r\n    clearCovers(this);\r\n\r\n    this._zr.remove(this.group);\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      this._mounted = false; // should be at last.\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  BrushController.prototype.dispose = function () {\r\n    this.unmount();\r\n    this.off();\r\n  };\r\n\r\n  return BrushController;\r\n}(Eventful);\r\n\r\nfunction createCover(controller, brushOption) {\r\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\r\n  cover.__brushOption = brushOption;\r\n  updateZ(cover, brushOption);\r\n  controller.group.add(cover);\r\n  return cover;\r\n}\r\n\r\nfunction endCreating(controller, creatingCover) {\r\n  var coverRenderer = getCoverRenderer(creatingCover);\r\n\r\n  if (coverRenderer.endCreating) {\r\n    coverRenderer.endCreating(controller, creatingCover);\r\n    updateZ(creatingCover, creatingCover.__brushOption);\r\n  }\r\n\r\n  return creatingCover;\r\n}\r\n\r\nfunction updateCoverShape(controller, cover) {\r\n  var brushOption = cover.__brushOption;\r\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\r\n}\r\n\r\nfunction updateZ(cover, brushOption) {\r\n  var z = brushOption.z;\r\n  z == null && (z = COVER_Z);\r\n  cover.traverse(function (el) {\r\n    el.z = z;\r\n    el.z2 = z; // Consider in given container.\r\n  });\r\n}\r\n\r\nfunction updateCoverAfterCreation(controller, cover) {\r\n  getCoverRenderer(cover).updateCommon(controller, cover);\r\n  updateCoverShape(controller, cover);\r\n}\r\n\r\nfunction getCoverRenderer(cover) {\r\n  return coverRenderers[cover.__brushOption.brushType];\r\n} // return target panel or `true` (means global panel)\r\n\r\n\r\nfunction getPanelByPoint(controller, e, localCursorPoint) {\r\n  var panels = controller._panels;\r\n\r\n  if (!panels) {\r\n    return BRUSH_PANEL_GLOBAL; // Global panel\r\n  }\r\n\r\n  var panel;\r\n  var transform = controller._transform;\r\n  each(panels, function (pn) {\r\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\r\n  });\r\n  return panel;\r\n} // Return a panel or true\r\n\r\n\r\nfunction getPanelByCover(controller, cover) {\r\n  var panels = controller._panels;\r\n\r\n  if (!panels) {\r\n    return BRUSH_PANEL_GLOBAL; // Global panel\r\n  }\r\n\r\n  var panelId = cover.__brushOption.panelId; // User may give cover without coord sys info,\r\n  // which is then treated as global panel.\r\n\r\n  return panelId != null ? panels[panelId] : BRUSH_PANEL_GLOBAL;\r\n}\r\n\r\nfunction clearCovers(controller) {\r\n  var covers = controller._covers;\r\n  var originalLength = covers.length;\r\n  each(covers, function (cover) {\r\n    controller.group.remove(cover);\r\n  }, controller);\r\n  covers.length = 0;\r\n  return !!originalLength;\r\n}\r\n\r\nfunction trigger(controller, opt) {\r\n  var areas = map(controller._covers, function (cover) {\r\n    var brushOption = cover.__brushOption;\r\n    var range = clone(brushOption.range);\r\n    return {\r\n      brushType: brushOption.brushType,\r\n      panelId: brushOption.panelId,\r\n      range: range\r\n    };\r\n  });\r\n  controller.trigger('brush', {\r\n    areas: areas,\r\n    isEnd: !!opt.isEnd,\r\n    removeOnClick: !!opt.removeOnClick\r\n  });\r\n}\r\n\r\nfunction shouldShowCover(controller) {\r\n  var track = controller._track;\r\n\r\n  if (!track.length) {\r\n    return false;\r\n  }\r\n\r\n  var p2 = track[track.length - 1];\r\n  var p1 = track[0];\r\n  var dx = p2[0] - p1[0];\r\n  var dy = p2[1] - p1[1];\r\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\r\n  return dist > UNSELECT_THRESHOLD;\r\n}\r\n\r\nfunction getTrackEnds(track) {\r\n  var tail = track.length - 1;\r\n  tail < 0 && (tail = 0);\r\n  return [track[0], track[tail]];\r\n}\r\n\r\n;\r\n\r\nfunction createBaseRectCover(rectRangeConverter, controller, brushOption, edgeNameSequences) {\r\n  var cover = new graphic.Group();\r\n  cover.add(new graphic.Rect({\r\n    name: 'main',\r\n    style: makeStyle(brushOption),\r\n    silent: true,\r\n    draggable: true,\r\n    cursor: 'move',\r\n    drift: curry(driftRect, rectRangeConverter, controller, cover, ['n', 's', 'w', 'e']),\r\n    ondragend: curry(trigger, controller, {\r\n      isEnd: true\r\n    })\r\n  }));\r\n  each(edgeNameSequences, function (nameSequence) {\r\n    cover.add(new graphic.Rect({\r\n      name: nameSequence.join(''),\r\n      style: {\r\n        opacity: 0\r\n      },\r\n      draggable: true,\r\n      silent: true,\r\n      invisible: true,\r\n      drift: curry(driftRect, rectRangeConverter, controller, cover, nameSequence),\r\n      ondragend: curry(trigger, controller, {\r\n        isEnd: true\r\n      })\r\n    }));\r\n  });\r\n  return cover;\r\n}\r\n\r\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\r\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\r\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\r\n  var x = localRange[0][0];\r\n  var y = localRange[1][0];\r\n  var xa = x - lineWidth / 2;\r\n  var ya = y - lineWidth / 2;\r\n  var x2 = localRange[0][1];\r\n  var y2 = localRange[1][1];\r\n  var x2a = x2 - handleSize + lineWidth / 2;\r\n  var y2a = y2 - handleSize + lineWidth / 2;\r\n  var width = x2 - x;\r\n  var height = y2 - y;\r\n  var widtha = width + lineWidth;\r\n  var heighta = height + lineWidth;\r\n  updateRectShape(controller, cover, 'main', x, y, width, height);\r\n\r\n  if (brushOption.transformable) {\r\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\r\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\r\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\r\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\r\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\r\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\r\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\r\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\r\n  }\r\n}\r\n\r\nfunction updateCommon(controller, cover) {\r\n  var brushOption = cover.__brushOption;\r\n  var transformable = brushOption.transformable;\r\n  var mainEl = cover.childAt(0);\r\n  mainEl.useStyle(makeStyle(brushOption));\r\n  mainEl.attr({\r\n    silent: !transformable,\r\n    cursor: transformable ? 'move' : 'default'\r\n  });\r\n  each([['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']], function (nameSequence) {\r\n    var el = cover.childOfName(nameSequence.join(''));\r\n    var globalDir = nameSequence.length === 1 ? getGlobalDirection1(controller, nameSequence[0]) : getGlobalDirection2(controller, nameSequence);\r\n    el && el.attr({\r\n      silent: !transformable,\r\n      invisible: !transformable,\r\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\r\n    });\r\n  });\r\n}\r\n\r\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\r\n  var el = cover.childOfName(name);\r\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\r\n}\r\n\r\nfunction makeStyle(brushOption) {\r\n  return defaults({\r\n    strokeNoScale: true\r\n  }, brushOption.brushStyle);\r\n}\r\n\r\nfunction formatRectRange(x, y, x2, y2) {\r\n  var min = [mathMin(x, x2), mathMin(y, y2)];\r\n  var max = [mathMax(x, x2), mathMax(y, y2)];\r\n  return [[min[0], max[0]], [min[1], max[1]] // y range\r\n  ];\r\n}\r\n\r\nfunction getTransform(controller) {\r\n  return graphic.getTransform(controller.group);\r\n}\r\n\r\nfunction getGlobalDirection1(controller, localDirName) {\r\n  var map = {\r\n    w: 'left',\r\n    e: 'right',\r\n    n: 'top',\r\n    s: 'bottom'\r\n  };\r\n  var inverseMap = {\r\n    left: 'w',\r\n    right: 'e',\r\n    top: 'n',\r\n    bottom: 's'\r\n  };\r\n  var dir = graphic.transformDirection(map[localDirName], getTransform(controller));\r\n  return inverseMap[dir];\r\n}\r\n\r\nfunction getGlobalDirection2(controller, localDirNameSeq) {\r\n  var globalDir = [getGlobalDirection1(controller, localDirNameSeq[0]), getGlobalDirection1(controller, localDirNameSeq[1])];\r\n  (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\r\n  return globalDir.join('');\r\n}\r\n\r\nfunction driftRect(rectRangeConverter, controller, cover, dirNameSequence, dx, dy) {\r\n  var brushOption = cover.__brushOption;\r\n  var rectRange = rectRangeConverter.toRectRange(brushOption.range);\r\n  var localDelta = toLocalDelta(controller, dx, dy);\r\n  each(dirNameSequence, function (dirName) {\r\n    var ind = DIRECTION_MAP[dirName];\r\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\r\n  });\r\n  brushOption.range = rectRangeConverter.fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\r\n  updateCoverAfterCreation(controller, cover);\r\n  trigger(controller, {\r\n    isEnd: false\r\n  });\r\n}\r\n\r\nfunction driftPolygon(controller, cover, dx, dy) {\r\n  var range = cover.__brushOption.range;\r\n  var localDelta = toLocalDelta(controller, dx, dy);\r\n  each(range, function (point) {\r\n    point[0] += localDelta[0];\r\n    point[1] += localDelta[1];\r\n  });\r\n  updateCoverAfterCreation(controller, cover);\r\n  trigger(controller, {\r\n    isEnd: false\r\n  });\r\n}\r\n\r\nfunction toLocalDelta(controller, dx, dy) {\r\n  var thisGroup = controller.group;\r\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\r\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\r\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\r\n}\r\n\r\nfunction clipByPanel(controller, cover, data) {\r\n  var panel = getPanelByCover(controller, cover);\r\n  return panel && panel !== BRUSH_PANEL_GLOBAL ? panel.clipPath(data, controller._transform) : clone(data);\r\n}\r\n\r\nfunction pointsToRect(points) {\r\n  var xmin = mathMin(points[0][0], points[1][0]);\r\n  var ymin = mathMin(points[0][1], points[1][1]);\r\n  var xmax = mathMax(points[0][0], points[1][0]);\r\n  var ymax = mathMax(points[0][1], points[1][1]);\r\n  return {\r\n    x: xmin,\r\n    y: ymin,\r\n    width: xmax - xmin,\r\n    height: ymax - ymin\r\n  };\r\n}\r\n\r\nfunction resetCursor(controller, e, localCursorPoint) {\r\n  if ( // Check active\r\n  !controller._brushType // resetCursor should be always called when mouse is in zr area,\r\n  // but not called when mouse is out of zr area to avoid bad influence\r\n  // if `mousemove`, `mouseup` are triggered from `document` event.\r\n  || isOutsideZrArea(controller, e.offsetX, e.offsetY)) {\r\n    return;\r\n  }\r\n\r\n  var zr = controller._zr;\r\n  var covers = controller._covers;\r\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint); // Check whether in covers.\r\n\r\n  if (!controller._dragging) {\r\n    for (var i = 0; i < covers.length; i++) {\r\n      var brushOption = covers[i].__brushOption;\r\n\r\n      if (currPanel && (currPanel === BRUSH_PANEL_GLOBAL || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\r\n        // Use cursor style set on cover.\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  currPanel && zr.setCursorStyle('crosshair');\r\n}\r\n\r\nfunction preventDefault(e) {\r\n  var rawE = e.event;\r\n  rawE.preventDefault && rawE.preventDefault();\r\n}\r\n\r\nfunction mainShapeContain(cover, x, y) {\r\n  return cover.childOfName('main').contain(x, y);\r\n}\r\n\r\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\r\n  var creatingCover = controller._creatingCover;\r\n  var panel = controller._creatingPanel;\r\n  var thisBrushOption = controller._brushOption;\r\n  var eventParams;\r\n\r\n  controller._track.push(localCursorPoint.slice());\r\n\r\n  if (shouldShowCover(controller) || creatingCover) {\r\n    if (panel && !creatingCover) {\r\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\r\n      var brushOption = clone(thisBrushOption);\r\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\r\n      brushOption.panelId = panel === BRUSH_PANEL_GLOBAL ? null : panel.panelId;\r\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\r\n\r\n      controller._covers.push(creatingCover);\r\n    }\r\n\r\n    if (creatingCover) {\r\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\r\n      var coverBrushOption = creatingCover.__brushOption;\r\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\r\n\r\n      if (isEnd) {\r\n        endCreating(controller, creatingCover);\r\n        coverRenderer.updateCommon(controller, creatingCover);\r\n      }\r\n\r\n      updateCoverShape(controller, creatingCover);\r\n      eventParams = {\r\n        isEnd: isEnd\r\n      };\r\n    }\r\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\r\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\r\n    // But a single click do not clear covers, because user may have casual\r\n    // clicks (for example, click on other component and do not expect covers\r\n    // disappear).\r\n    // Only some cover removed, trigger action, but not every click trigger action.\r\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\r\n      eventParams = {\r\n        isEnd: isEnd,\r\n        removeOnClick: true\r\n      };\r\n    }\r\n  }\r\n\r\n  return eventParams;\r\n}\r\n\r\nfunction determineBrushType(brushType, panel) {\r\n  if (brushType === 'auto') {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(panel && panel.defaultBrushType, 'MUST have defaultBrushType when brushType is \"atuo\"');\r\n    }\r\n\r\n    return panel.defaultBrushType;\r\n  }\r\n\r\n  return brushType;\r\n}\r\n\r\nvar pointerHandlers = {\r\n  mousedown: function (e) {\r\n    if (this._dragging) {\r\n      // In case some browser do not support globalOut,\r\n      // and release mouse out side the browser.\r\n      handleDragEnd(this, e);\r\n    } else if (!e.target || !e.target.draggable) {\r\n      preventDefault(e);\r\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\r\n      this._creatingCover = null;\r\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\r\n\r\n      if (panel) {\r\n        this._dragging = true;\r\n        this._track = [localCursorPoint.slice()];\r\n      }\r\n    }\r\n  },\r\n  mousemove: function (e) {\r\n    var x = e.offsetX;\r\n    var y = e.offsetY;\r\n    var localCursorPoint = this.group.transformCoordToLocal(x, y);\r\n    resetCursor(this, e, localCursorPoint);\r\n\r\n    if (this._dragging) {\r\n      preventDefault(e);\r\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\r\n      eventParams && trigger(this, eventParams);\r\n    }\r\n  },\r\n  mouseup: function (e) {\r\n    handleDragEnd(this, e);\r\n  }\r\n};\r\n\r\nfunction handleDragEnd(controller, e) {\r\n  if (controller._dragging) {\r\n    preventDefault(e);\r\n    var x = e.offsetX;\r\n    var y = e.offsetY;\r\n    var localCursorPoint = controller.group.transformCoordToLocal(x, y);\r\n    var eventParams = updateCoverByMouse(controller, e, localCursorPoint, true);\r\n    controller._dragging = false;\r\n    controller._track = [];\r\n    controller._creatingCover = null; // trigger event should be at final, after procedure will be nested.\r\n\r\n    eventParams && trigger(controller, eventParams);\r\n  }\r\n}\r\n\r\nfunction isOutsideZrArea(controller, x, y) {\r\n  var zr = controller._zr;\r\n  return x < 0 || x > zr.getWidth() || y < 0 || y > zr.getHeight();\r\n}\r\n/**\r\n * key: brushType\r\n */\r\n\r\n\r\nvar coverRenderers = {\r\n  lineX: getLineRenderer(0),\r\n  lineY: getLineRenderer(1),\r\n  rect: {\r\n    createCover: function (controller, brushOption) {\r\n      function returnInput(range) {\r\n        return range;\r\n      }\r\n\r\n      return createBaseRectCover({\r\n        toRectRange: returnInput,\r\n        fromRectRange: returnInput\r\n      }, controller, brushOption, [['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']]);\r\n    },\r\n    getCreatingRange: function (localTrack) {\r\n      var ends = getTrackEnds(localTrack);\r\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\r\n    },\r\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\r\n      updateBaseRect(controller, cover, localRange, brushOption);\r\n    },\r\n    updateCommon: updateCommon,\r\n    contain: mainShapeContain\r\n  },\r\n  polygon: {\r\n    createCover: function (controller, brushOption) {\r\n      var cover = new graphic.Group(); // Do not use graphic.Polygon because graphic.Polyline do not close the\r\n      // border of the shape when drawing, which is a better experience for user.\r\n\r\n      cover.add(new graphic.Polyline({\r\n        name: 'main',\r\n        style: makeStyle(brushOption),\r\n        silent: true\r\n      }));\r\n      return cover;\r\n    },\r\n    getCreatingRange: function (localTrack) {\r\n      return localTrack;\r\n    },\r\n    endCreating: function (controller, cover) {\r\n      cover.remove(cover.childAt(0)); // Use graphic.Polygon close the shape.\r\n\r\n      cover.add(new graphic.Polygon({\r\n        name: 'main',\r\n        draggable: true,\r\n        drift: curry(driftPolygon, controller, cover),\r\n        ondragend: curry(trigger, controller, {\r\n          isEnd: true\r\n        })\r\n      }));\r\n    },\r\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\r\n      cover.childAt(0).setShape({\r\n        points: clipByPanel(controller, cover, localRange)\r\n      });\r\n    },\r\n    updateCommon: updateCommon,\r\n    contain: mainShapeContain\r\n  }\r\n};\r\n\r\nfunction getLineRenderer(xyIndex) {\r\n  return {\r\n    createCover: function (controller, brushOption) {\r\n      return createBaseRectCover({\r\n        toRectRange: function (range) {\r\n          var rectRange = [range, [0, 100]];\r\n          xyIndex && rectRange.reverse();\r\n          return rectRange;\r\n        },\r\n        fromRectRange: function (rectRange) {\r\n          return rectRange[xyIndex];\r\n        }\r\n      }, controller, brushOption, [[['w'], ['e']], [['n'], ['s']]][xyIndex]);\r\n    },\r\n    getCreatingRange: function (localTrack) {\r\n      var ends = getTrackEnds(localTrack);\r\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\r\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\r\n      return [min, max];\r\n    },\r\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\r\n      var otherExtent; // If brushWidth not specified, fit the panel.\r\n\r\n      var panel = getPanelByCover(controller, cover);\r\n\r\n      if (panel !== BRUSH_PANEL_GLOBAL && panel.getLinearBrushOtherExtent) {\r\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex);\r\n      } else {\r\n        var zr = controller._zr;\r\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\r\n      }\r\n\r\n      var rectRange = [localRange, otherExtent];\r\n      xyIndex && rectRange.reverse();\r\n      updateBaseRect(controller, cover, rectRange, brushOption);\r\n    },\r\n    updateCommon: updateCommon,\r\n    contain: mainShapeContain\r\n  };\r\n}\r\n\r\nexport default BrushController;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nimport { onIrrelevantElement } from './cursorHelper.js';\r\nimport * as graphicUtil from '../../util/graphic.js';\r\nexport function makeRectPanelClipPath(rect) {\r\n  rect = normalizeRect(rect);\r\n  return function (localPoints) {\r\n    return graphicUtil.clipPointsByRect(localPoints, rect);\r\n  };\r\n}\r\nexport function makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\r\n  rect = normalizeRect(rect);\r\n  return function (xyIndex) {\r\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\r\n    var brushWidth = idx ? rect.width : rect.height;\r\n    var base = idx ? rect.x : rect.y;\r\n    return [base, base + (brushWidth || 0)];\r\n  };\r\n}\r\nexport function makeRectIsTargetByCursor(rect, api, targetModel) {\r\n  var boundingRect = normalizeRect(rect);\r\n  return function (e, localCursorPoint) {\r\n    return boundingRect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\r\n  };\r\n} // Consider width/height is negative.\r\n\r\nfunction normalizeRect(rect) {\r\n  return BoundingRect.create(rect);\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport AxisBuilder from './AxisBuilder.js';\r\nimport BrushController from '../helper/BrushController.js';\r\nimport * as brushHelper from '../helper/brushHelper.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport ComponentView from '../../view/Component.js';\r\nvar elementList = ['axisLine', 'axisTickLabel', 'axisName'];\r\n\r\nvar ParallelAxisView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(ParallelAxisView, _super);\r\n\r\n  function ParallelAxisView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = ParallelAxisView.type;\r\n    return _this;\r\n  }\r\n\r\n  ParallelAxisView.prototype.init = function (ecModel, api) {\r\n    _super.prototype.init.apply(this, arguments);\r\n\r\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this));\r\n  };\r\n\r\n  ParallelAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\r\n    if (fromAxisAreaSelect(axisModel, ecModel, payload)) {\r\n      return;\r\n    }\r\n\r\n    this.axisModel = axisModel;\r\n    this.api = api;\r\n    this.group.removeAll();\r\n    var oldAxisGroup = this._axisGroup;\r\n    this._axisGroup = new graphic.Group();\r\n    this.group.add(this._axisGroup);\r\n\r\n    if (!axisModel.get('show')) {\r\n      return;\r\n    }\r\n\r\n    var coordSysModel = getCoordSysModel(axisModel, ecModel);\r\n    var coordSys = coordSysModel.coordinateSystem;\r\n    var areaSelectStyle = axisModel.getAreaSelectStyle();\r\n    var areaWidth = areaSelectStyle.width;\r\n    var dim = axisModel.axis.dim;\r\n    var axisLayout = coordSys.getAxisLayout(dim);\r\n    var builderOpt = zrUtil.extend({\r\n      strokeContainThreshold: areaWidth\r\n    }, axisLayout);\r\n    var axisBuilder = new AxisBuilder(axisModel, builderOpt);\r\n    zrUtil.each(elementList, axisBuilder.add, axisBuilder);\r\n\r\n    this._axisGroup.add(axisBuilder.getGroup());\r\n\r\n    this._refreshBrushController(builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api);\r\n\r\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\r\n  }; // /**\r\n  //  * @override\r\n  //  */\r\n  // updateVisual(axisModel, ecModel, api, payload) {\r\n  //     this._brushController && this._brushController\r\n  //         .updateCovers(getCoverInfoList(axisModel));\r\n  // }\r\n\r\n\r\n  ParallelAxisView.prototype._refreshBrushController = function (builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api) {\r\n    // After filtering, axis may change, select area needs to be update.\r\n    var extent = axisModel.axis.getExtent();\r\n    var extentLen = extent[1] - extent[0];\r\n    var extra = Math.min(30, Math.abs(extentLen) * 0.1); // Arbitrary value.\r\n    // width/height might be negative, which will be\r\n    // normalized in BoundingRect.\r\n\r\n    var rect = graphic.BoundingRect.create({\r\n      x: extent[0],\r\n      y: -areaWidth / 2,\r\n      width: extentLen,\r\n      height: areaWidth\r\n    });\r\n    rect.x -= extra;\r\n    rect.width += 2 * extra;\r\n\r\n    this._brushController.mount({\r\n      enableGlobalPan: true,\r\n      rotation: builderOpt.rotation,\r\n      x: builderOpt.position[0],\r\n      y: builderOpt.position[1]\r\n    }).setPanels([{\r\n      panelId: 'pl',\r\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\r\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, coordSysModel),\r\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect, 0)\r\n    }]).enableBrush({\r\n      brushType: 'lineX',\r\n      brushStyle: areaSelectStyle,\r\n      removeOnClick: true\r\n    }).updateCovers(getCoverInfoList(axisModel));\r\n  };\r\n\r\n  ParallelAxisView.prototype._onBrush = function (eventParam) {\r\n    var coverInfoList = eventParam.areas; // Do not cache these object, because the mey be changed.\r\n\r\n    var axisModel = this.axisModel;\r\n    var axis = axisModel.axis;\r\n    var intervals = zrUtil.map(coverInfoList, function (coverInfo) {\r\n      return [axis.coordToData(coverInfo.range[0], true), axis.coordToData(coverInfo.range[1], true)];\r\n    }); // If realtime is true, action is not dispatched on drag end, because\r\n    // the drag end emits the same params with the last drag move event,\r\n    // and may have some delay when using touch pad.\r\n\r\n    if (!axisModel.option.realtime === eventParam.isEnd || eventParam.removeOnClick) {\r\n      // jshint ignore:line\r\n      this.api.dispatchAction({\r\n        type: 'axisAreaSelect',\r\n        parallelAxisId: axisModel.id,\r\n        intervals: intervals\r\n      });\r\n    }\r\n  };\r\n\r\n  ParallelAxisView.prototype.dispose = function () {\r\n    this._brushController.dispose();\r\n  };\r\n\r\n  ParallelAxisView.type = 'parallelAxis';\r\n  return ParallelAxisView;\r\n}(ComponentView);\r\n\r\nfunction fromAxisAreaSelect(axisModel, ecModel, payload) {\r\n  return payload && payload.type === 'axisAreaSelect' && ecModel.findComponents({\r\n    mainType: 'parallelAxis',\r\n    query: payload\r\n  })[0] === axisModel;\r\n}\r\n\r\nfunction getCoverInfoList(axisModel) {\r\n  var axis = axisModel.axis;\r\n  return zrUtil.map(axisModel.activeIntervals, function (interval) {\r\n    return {\r\n      brushType: 'lineX',\r\n      panelId: 'pl',\r\n      range: [axis.dataToCoord(interval[0], true), axis.dataToCoord(interval[1], true)]\r\n    };\r\n  });\r\n}\r\n\r\nfunction getCoordSysModel(axisModel, ecModel) {\r\n  return ecModel.getComponent('parallel', axisModel.get('parallelIndex'));\r\n}\r\n\r\nexport default ParallelAxisView;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nvar actionInfo = {\r\n  type: 'axisAreaSelect',\r\n  event: 'axisAreaSelected' // update: 'updateVisual'\r\n\r\n};\r\nexport function installParallelActions(registers) {\r\n  registers.registerAction(actionInfo, function (payload, ecModel) {\r\n    ecModel.eachComponent({\r\n      mainType: 'parallelAxis',\r\n      query: payload\r\n    }, function (parallelAxisModel) {\r\n      parallelAxisModel.axis.model.setActiveIntervals(payload.intervals);\r\n    });\r\n  });\r\n  /**\r\n   * @payload\r\n   */\r\n\r\n  registers.registerAction('parallelAxisExpand', function (payload, ecModel) {\r\n    ecModel.eachComponent({\r\n      mainType: 'parallel',\r\n      query: payload\r\n    }, function (parallelModel) {\r\n      parallelModel.setAxisExpand(payload);\r\n    });\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport parallelPreprocessor from '../../coord/parallel/parallelPreprocessor.js';\r\nimport ParallelView from './ParallelView.js';\r\nimport ParallelModel from '../../coord/parallel/ParallelModel.js';\r\nimport parallelCoordSysCreator from '../../coord/parallel/parallelCreator.js';\r\nimport axisModelCreator from '../../coord/axisModelCreator.js';\r\nimport ParallelAxisModel from '../../coord/parallel/AxisModel.js';\r\nimport ParallelAxisView from '../axis/ParallelAxisView.js';\r\nimport { installParallelActions } from '../axis/parallelAxisAction.js';\r\nvar defaultAxisOption = {\r\n  type: 'value',\r\n  areaSelectStyle: {\r\n    width: 20,\r\n    borderWidth: 1,\r\n    borderColor: 'rgba(160,197,232)',\r\n    color: 'rgba(160,197,232)',\r\n    opacity: 0.3\r\n  },\r\n  realtime: true,\r\n  z: 10\r\n};\r\nexport function install(registers) {\r\n  registers.registerComponentView(ParallelView);\r\n  registers.registerComponentModel(ParallelModel);\r\n  registers.registerCoordinateSystem('parallel', parallelCoordSysCreator);\r\n  registers.registerPreprocessor(parallelPreprocessor);\r\n  registers.registerComponentModel(ParallelAxisModel);\r\n  registers.registerComponentView(ParallelAxisView);\r\n  axisModelCreator(registers, 'parallel', ParallelAxisModel, defaultAxisOption);\r\n  installParallelActions(registers);\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\r\nimport { isArray } from 'zrender/lib/core/util.js';\r\n/**\r\n * @return label string. Not null/undefined\r\n */\r\n\r\nexport function getDefaultLabel(data, dataIndex) {\r\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\r\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\r\n\r\n  if (len === 1) {\r\n    var rawVal = retrieveRawValue(data, dataIndex, labelDims[0]);\r\n    return rawVal != null ? rawVal + '' : null;\r\n  } else if (len) {\r\n    var vals = [];\r\n\r\n    for (var i = 0; i < labelDims.length; i++) {\r\n      vals.push(retrieveRawValue(data, dataIndex, labelDims[i]));\r\n    }\r\n\r\n    return vals.join(' ');\r\n  }\r\n}\r\nexport function getDefaultInterpolatedLabel(data, interpolatedValue) {\r\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\r\n\r\n  if (!isArray(interpolatedValue)) {\r\n    return interpolatedValue + '';\r\n  }\r\n\r\n  var vals = [];\r\n\r\n  for (var i = 0; i < labelDims.length; i++) {\r\n    var dimIndex = data.getDimensionIndex(labelDims[i]);\r\n\r\n    if (dimIndex >= 0) {\r\n      vals.push(interpolatedValue[dimIndex]);\r\n    }\r\n  }\r\n\r\n  return vals.join(' ');\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport { getECData } from '../../util/innerStore.js';\r\nimport { enterEmphasis, leaveEmphasis, toggleHoverEmphasis } from '../../util/states.js';\r\nimport { getDefaultLabel } from './labelHelper.js';\r\nimport { extend } from 'zrender/lib/core/util.js';\r\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\r\nimport ZRImage from 'zrender/lib/graphic/Image.js';\r\nimport { saveOldStyle } from '../../animation/basicTransition.js';\r\n\r\nvar Symbol =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(Symbol, _super);\r\n\r\n  function Symbol(data, idx, seriesScope, opts) {\r\n    var _this = _super.call(this) || this;\r\n\r\n    _this.updateData(data, idx, seriesScope, opts);\r\n\r\n    return _this;\r\n  }\r\n\r\n  Symbol.prototype._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\r\n    // Remove paths created before\r\n    this.removeAll(); // let symbolPath = createSymbol(\r\n    //     symbolType, -0.5, -0.5, 1, 1, color\r\n    // );\r\n    // If width/height are set too small (e.g., set to 1) on ios10\r\n    // and macOS Sierra, a circle stroke become a rect, no matter what\r\n    // the scale is set. So we set width/height as 2. See #4150.\r\n\r\n    var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);\r\n    symbolPath.attr({\r\n      z2: 100,\r\n      culling: true,\r\n      scaleX: symbolSize[0] / 2,\r\n      scaleY: symbolSize[1] / 2\r\n    }); // Rewrite drift method\r\n\r\n    symbolPath.drift = driftSymbol;\r\n    this._symbolType = symbolType;\r\n    this.add(symbolPath);\r\n  };\r\n  /**\r\n   * Stop animation\r\n   * @param {boolean} toLastFrame\r\n   */\r\n\r\n\r\n  Symbol.prototype.stopSymbolAnimation = function (toLastFrame) {\r\n    this.childAt(0).stopAnimation(null, toLastFrame);\r\n  };\r\n\r\n  Symbol.prototype.getSymbolType = function () {\r\n    return this._symbolType;\r\n  };\r\n  /**\r\n   * FIXME:\r\n   * Caution: This method breaks the encapsulation of this module,\r\n   * but it indeed brings convenience. So do not use the method\r\n   * unless you detailedly know all the implements of `Symbol`,\r\n   * especially animation.\r\n   *\r\n   * Get symbol path element.\r\n   */\r\n\r\n\r\n  Symbol.prototype.getSymbolPath = function () {\r\n    return this.childAt(0);\r\n  };\r\n  /**\r\n   * Highlight symbol\r\n   */\r\n\r\n\r\n  Symbol.prototype.highlight = function () {\r\n    enterEmphasis(this.childAt(0));\r\n  };\r\n  /**\r\n   * Downplay symbol\r\n   */\r\n\r\n\r\n  Symbol.prototype.downplay = function () {\r\n    leaveEmphasis(this.childAt(0));\r\n  };\r\n  /**\r\n   * @param {number} zlevel\r\n   * @param {number} z\r\n   */\r\n\r\n\r\n  Symbol.prototype.setZ = function (zlevel, z) {\r\n    var symbolPath = this.childAt(0);\r\n    symbolPath.zlevel = zlevel;\r\n    symbolPath.z = z;\r\n  };\r\n\r\n  Symbol.prototype.setDraggable = function (draggable, hasCursorOption) {\r\n    var symbolPath = this.childAt(0);\r\n    symbolPath.draggable = draggable;\r\n    symbolPath.cursor = !hasCursorOption && draggable ? 'move' : symbolPath.cursor;\r\n  };\r\n  /**\r\n   * Update symbol properties\r\n   */\r\n\r\n\r\n  Symbol.prototype.updateData = function (data, idx, seriesScope, opts) {\r\n    this.silent = false;\r\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\r\n    var seriesModel = data.hostModel;\r\n    var symbolSize = Symbol.getSymbolSize(data, idx);\r\n    var isInit = symbolType !== this._symbolType;\r\n    var disableAnimation = opts && opts.disableAnimation;\r\n\r\n    if (isInit) {\r\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\r\n\r\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\r\n    } else {\r\n      var symbolPath = this.childAt(0);\r\n      symbolPath.silent = false;\r\n      var target = {\r\n        scaleX: symbolSize[0] / 2,\r\n        scaleY: symbolSize[1] / 2\r\n      };\r\n      disableAnimation ? symbolPath.attr(target) : graphic.updateProps(symbolPath, target, seriesModel, idx);\r\n      saveOldStyle(symbolPath);\r\n    }\r\n\r\n    this._updateCommon(data, idx, symbolSize, seriesScope, opts);\r\n\r\n    if (isInit) {\r\n      var symbolPath = this.childAt(0);\r\n\r\n      if (!disableAnimation) {\r\n        var target = {\r\n          scaleX: this._sizeX,\r\n          scaleY: this._sizeY,\r\n          style: {\r\n            // Always fadeIn. Because it has fadeOut animation when symbol is removed..\r\n            opacity: symbolPath.style.opacity\r\n          }\r\n        };\r\n        symbolPath.scaleX = symbolPath.scaleY = 0;\r\n        symbolPath.style.opacity = 0;\r\n        graphic.initProps(symbolPath, target, seriesModel, idx);\r\n      }\r\n    }\r\n\r\n    if (disableAnimation) {\r\n      // Must stop leave transition manually if don't call initProps or updateProps.\r\n      this.childAt(0).stopAnimation('leave');\r\n    }\r\n  };\r\n\r\n  Symbol.prototype._updateCommon = function (data, idx, symbolSize, seriesScope, opts) {\r\n    var symbolPath = this.childAt(0);\r\n    var seriesModel = data.hostModel;\r\n    var emphasisItemStyle;\r\n    var blurItemStyle;\r\n    var selectItemStyle;\r\n    var focus;\r\n    var blurScope;\r\n    var emphasisDisabled;\r\n    var labelStatesModels;\r\n    var hoverScale;\r\n    var cursorStyle;\r\n\r\n    if (seriesScope) {\r\n      emphasisItemStyle = seriesScope.emphasisItemStyle;\r\n      blurItemStyle = seriesScope.blurItemStyle;\r\n      selectItemStyle = seriesScope.selectItemStyle;\r\n      focus = seriesScope.focus;\r\n      blurScope = seriesScope.blurScope;\r\n      labelStatesModels = seriesScope.labelStatesModels;\r\n      hoverScale = seriesScope.hoverScale;\r\n      cursorStyle = seriesScope.cursorStyle;\r\n      emphasisDisabled = seriesScope.emphasisDisabled;\r\n    }\r\n\r\n    if (!seriesScope || data.hasItemOption) {\r\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);\r\n      var emphasisModel = itemModel.getModel('emphasis');\r\n      emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\r\n      selectItemStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\r\n      blurItemStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\r\n      focus = emphasisModel.get('focus');\r\n      blurScope = emphasisModel.get('blurScope');\r\n      emphasisDisabled = emphasisModel.get('disabled');\r\n      labelStatesModels = getLabelStatesModels(itemModel);\r\n      hoverScale = emphasisModel.getShallow('scale');\r\n      cursorStyle = itemModel.getShallow('cursor');\r\n    }\r\n\r\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\r\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\r\n    var symbolOffset = normalizeSymbolOffset(data.getItemVisual(idx, 'symbolOffset'), symbolSize);\r\n\r\n    if (symbolOffset) {\r\n      symbolPath.x = symbolOffset[0];\r\n      symbolPath.y = symbolOffset[1];\r\n    }\r\n\r\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\r\n    var symbolStyle = data.getItemVisual(idx, 'style');\r\n    var visualColor = symbolStyle.fill;\r\n\r\n    if (symbolPath instanceof ZRImage) {\r\n      var pathStyle = symbolPath.style;\r\n      symbolPath.useStyle(extend({\r\n        // TODO other properties like x, y ?\r\n        image: pathStyle.image,\r\n        x: pathStyle.x,\r\n        y: pathStyle.y,\r\n        width: pathStyle.width,\r\n        height: pathStyle.height\r\n      }, symbolStyle));\r\n    } else {\r\n      if (symbolPath.__isEmptyBrush) {\r\n        // fill and stroke will be swapped if it's empty.\r\n        // So we cloned a new style to avoid it affecting the original style in visual storage.\r\n        // TODO Better implementation. No empty logic!\r\n        symbolPath.useStyle(extend({}, symbolStyle));\r\n      } else {\r\n        symbolPath.useStyle(symbolStyle);\r\n      } // Disable decal because symbol scale will been applied on the decal.\r\n\r\n\r\n      symbolPath.style.decal = null;\r\n      symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);\r\n      symbolPath.style.strokeNoScale = true;\r\n    }\r\n\r\n    var liftZ = data.getItemVisual(idx, 'liftZ');\r\n    var z2Origin = this._z2;\r\n\r\n    if (liftZ != null) {\r\n      if (z2Origin == null) {\r\n        this._z2 = symbolPath.z2;\r\n        symbolPath.z2 += liftZ;\r\n      }\r\n    } else if (z2Origin != null) {\r\n      symbolPath.z2 = z2Origin;\r\n      this._z2 = null;\r\n    }\r\n\r\n    var useNameLabel = opts && opts.useNameLabel;\r\n    setLabelStyle(symbolPath, labelStatesModels, {\r\n      labelFetcher: seriesModel,\r\n      labelDataIndex: idx,\r\n      defaultText: getLabelDefaultText,\r\n      inheritColor: visualColor,\r\n      defaultOpacity: symbolStyle.opacity\r\n    }); // Do not execute util needed.\r\n\r\n    function getLabelDefaultText(idx) {\r\n      return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\r\n    }\r\n\r\n    this._sizeX = symbolSize[0] / 2;\r\n    this._sizeY = symbolSize[1] / 2;\r\n    var emphasisState = symbolPath.ensureState('emphasis');\r\n    emphasisState.style = emphasisItemStyle;\r\n    symbolPath.ensureState('select').style = selectItemStyle;\r\n    symbolPath.ensureState('blur').style = blurItemStyle; // null / undefined / true means to use default strategy.\r\n    // 0 / false / negative number / NaN / Infinity means no scale.\r\n\r\n    var scaleRatio = hoverScale == null || hoverScale === true ? Math.max(1.1, 3 / this._sizeY) // PENDING: restrict hoverScale > 1? It seems unreasonable to scale down\r\n    : isFinite(hoverScale) && hoverScale > 0 ? +hoverScale : 1; // always set scale to allow resetting\r\n\r\n    emphasisState.scaleX = this._sizeX * scaleRatio;\r\n    emphasisState.scaleY = this._sizeY * scaleRatio;\r\n    this.setSymbolScale(1);\r\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\r\n  };\r\n\r\n  Symbol.prototype.setSymbolScale = function (scale) {\r\n    this.scaleX = this.scaleY = scale;\r\n  };\r\n\r\n  Symbol.prototype.fadeOut = function (cb, seriesModel, opt) {\r\n    var symbolPath = this.childAt(0);\r\n    var dataIndex = getECData(this).dataIndex;\r\n    var animationOpt = opt && opt.animation; // Avoid mistaken hover when fading out\r\n\r\n    this.silent = symbolPath.silent = true; // Not show text when animating\r\n\r\n    if (opt && opt.fadeLabel) {\r\n      var textContent = symbolPath.getTextContent();\r\n\r\n      if (textContent) {\r\n        graphic.removeElement(textContent, {\r\n          style: {\r\n            opacity: 0\r\n          }\r\n        }, seriesModel, {\r\n          dataIndex: dataIndex,\r\n          removeOpt: animationOpt,\r\n          cb: function () {\r\n            symbolPath.removeTextContent();\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      symbolPath.removeTextContent();\r\n    }\r\n\r\n    graphic.removeElement(symbolPath, {\r\n      style: {\r\n        opacity: 0\r\n      },\r\n      scaleX: 0,\r\n      scaleY: 0\r\n    }, seriesModel, {\r\n      dataIndex: dataIndex,\r\n      cb: cb,\r\n      removeOpt: animationOpt\r\n    });\r\n  };\r\n\r\n  Symbol.getSymbolSize = function (data, idx) {\r\n    return normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\r\n  };\r\n\r\n  return Symbol;\r\n}(graphic.Group);\r\n\r\nfunction driftSymbol(dx, dy) {\r\n  this.parent.drift(dx, dy);\r\n}\r\n\r\nexport default Symbol;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as graphic from '../../util/graphic.js';\r\nimport SymbolClz from './Symbol.js';\r\nimport { isObject } from 'zrender/lib/core/util.js';\r\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\r\n\r\nfunction symbolNeedsDraw(data, point, idx, opt) {\r\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\r\n  // the symbol element shape. We use the same clip shape here as\r\n  // the line clip.\r\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\r\n}\r\n\r\nfunction normalizeUpdateOpt(opt) {\r\n  if (opt != null && !isObject(opt)) {\r\n    opt = {\r\n      isIgnore: opt\r\n    };\r\n  }\r\n\r\n  return opt || {};\r\n}\r\n\r\nfunction makeSeriesScope(data) {\r\n  var seriesModel = data.hostModel;\r\n  var emphasisModel = seriesModel.getModel('emphasis');\r\n  return {\r\n    emphasisItemStyle: emphasisModel.getModel('itemStyle').getItemStyle(),\r\n    blurItemStyle: seriesModel.getModel(['blur', 'itemStyle']).getItemStyle(),\r\n    selectItemStyle: seriesModel.getModel(['select', 'itemStyle']).getItemStyle(),\r\n    focus: emphasisModel.get('focus'),\r\n    blurScope: emphasisModel.get('blurScope'),\r\n    emphasisDisabled: emphasisModel.get('disabled'),\r\n    hoverScale: emphasisModel.get('scale'),\r\n    labelStatesModels: getLabelStatesModels(seriesModel),\r\n    cursorStyle: seriesModel.get('cursor')\r\n  };\r\n}\r\n\r\nvar SymbolDraw =\r\n/** @class */\r\nfunction () {\r\n  function SymbolDraw(SymbolCtor) {\r\n    this.group = new graphic.Group();\r\n    this._SymbolCtor = SymbolCtor || SymbolClz;\r\n  }\r\n  /**\r\n   * Update symbols draw by new data\r\n   */\r\n\r\n\r\n  SymbolDraw.prototype.updateData = function (data, opt) {\r\n    // Remove progressive els.\r\n    this._progressiveEls = null;\r\n    opt = normalizeUpdateOpt(opt);\r\n    var group = this.group;\r\n    var seriesModel = data.hostModel;\r\n    var oldData = this._data;\r\n    var SymbolCtor = this._SymbolCtor;\r\n    var disableAnimation = opt.disableAnimation;\r\n    var seriesScope = makeSeriesScope(data);\r\n    var symbolUpdateOpt = {\r\n      disableAnimation: disableAnimation\r\n    };\r\n\r\n    var getSymbolPoint = opt.getSymbolPoint || function (idx) {\r\n      return data.getItemLayout(idx);\r\n    }; // There is no oldLineData only when first rendering or switching from\r\n    // stream mode to normal mode, where previous elements should be removed.\r\n\r\n\r\n    if (!oldData) {\r\n      group.removeAll();\r\n    }\r\n\r\n    data.diff(oldData).add(function (newIdx) {\r\n      var point = getSymbolPoint(newIdx);\r\n\r\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\r\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\r\n        symbolEl.setPosition(point);\r\n        data.setItemGraphicEl(newIdx, symbolEl);\r\n        group.add(symbolEl);\r\n      }\r\n    }).update(function (newIdx, oldIdx) {\r\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\r\n      var point = getSymbolPoint(newIdx);\r\n\r\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\r\n        group.remove(symbolEl);\r\n        return;\r\n      }\r\n\r\n      var newSymbolType = data.getItemVisual(newIdx, 'symbol') || 'circle';\r\n      var oldSymbolType = symbolEl && symbolEl.getSymbolType && symbolEl.getSymbolType();\r\n\r\n      if (!symbolEl // Create a new if symbol type changed.\r\n      || oldSymbolType && oldSymbolType !== newSymbolType) {\r\n        group.remove(symbolEl);\r\n        symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\r\n        symbolEl.setPosition(point);\r\n      } else {\r\n        symbolEl.updateData(data, newIdx, seriesScope, symbolUpdateOpt);\r\n        var target = {\r\n          x: point[0],\r\n          y: point[1]\r\n        };\r\n        disableAnimation ? symbolEl.attr(target) : graphic.updateProps(symbolEl, target, seriesModel);\r\n      } // Add back\r\n\r\n\r\n      group.add(symbolEl);\r\n      data.setItemGraphicEl(newIdx, symbolEl);\r\n    }).remove(function (oldIdx) {\r\n      var el = oldData.getItemGraphicEl(oldIdx);\r\n      el && el.fadeOut(function () {\r\n        group.remove(el);\r\n      }, seriesModel);\r\n    }).execute();\r\n    this._getSymbolPoint = getSymbolPoint;\r\n    this._data = data;\r\n  };\r\n\r\n  ;\r\n\r\n  SymbolDraw.prototype.updateLayout = function () {\r\n    var _this = this;\r\n\r\n    var data = this._data;\r\n\r\n    if (data) {\r\n      // Not use animation\r\n      data.eachItemGraphicEl(function (el, idx) {\r\n        var point = _this._getSymbolPoint(idx);\r\n\r\n        el.setPosition(point);\r\n        el.markRedraw();\r\n      });\r\n    }\r\n  };\r\n\r\n  ;\r\n\r\n  SymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\r\n    this._seriesScope = makeSeriesScope(data);\r\n    this._data = null;\r\n    this.group.removeAll();\r\n  };\r\n\r\n  ;\r\n  /**\r\n   * Update symbols draw by new data\r\n   */\r\n\r\n  SymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\r\n    // Clear\r\n    this._progressiveEls = [];\r\n    opt = normalizeUpdateOpt(opt);\r\n\r\n    function updateIncrementalAndHover(el) {\r\n      if (!el.isGroup) {\r\n        el.incremental = true;\r\n        el.ensureState('emphasis').hoverLayer = true;\r\n      }\r\n    }\r\n\r\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\r\n      var point = data.getItemLayout(idx);\r\n\r\n      if (symbolNeedsDraw(data, point, idx, opt)) {\r\n        var el = new this._SymbolCtor(data, idx, this._seriesScope);\r\n        el.traverse(updateIncrementalAndHover);\r\n        el.setPosition(point);\r\n        this.group.add(el);\r\n        data.setItemGraphicEl(idx, el);\r\n\r\n        this._progressiveEls.push(el);\r\n      }\r\n    }\r\n  };\r\n\r\n  ;\r\n\r\n  SymbolDraw.prototype.eachRendered = function (cb) {\r\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\r\n  };\r\n\r\n  SymbolDraw.prototype.remove = function (enableAnimation) {\r\n    var group = this.group;\r\n    var data = this._data; // Incremental model do not have this._data.\r\n\r\n    if (data && enableAnimation) {\r\n      data.eachItemGraphicEl(function (el) {\r\n        el.fadeOut(function () {\r\n          group.remove(el);\r\n        }, data.hostModel);\r\n      });\r\n    } else {\r\n      group.removeAll();\r\n    }\r\n  };\r\n\r\n  ;\r\n  return SymbolDraw;\r\n}();\r\n\r\nexport default SymbolDraw;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nexport function isCoordinateSystemType(coordSys, type) {\r\n  return coordSys.type === type;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as zrColor from 'zrender/lib/tool/color.js';\r\nimport { linearMap } from '../util/number.js';\r\nimport { warn } from '../util/log.js';\r\nvar each = zrUtil.each;\r\nvar isObject = zrUtil.isObject;\r\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\r\n\r\nvar VisualMapping =\r\n/** @class */\r\nfunction () {\r\n  function VisualMapping(option) {\r\n    var mappingMethod = option.mappingMethod;\r\n    var visualType = option.type;\r\n    var thisOption = this.option = zrUtil.clone(option);\r\n    this.type = visualType;\r\n    this.mappingMethod = mappingMethod;\r\n    this._normalizeData = normalizers[mappingMethod];\r\n    var visualHandler = VisualMapping.visualHandlers[visualType];\r\n    this.applyVisual = visualHandler.applyVisual;\r\n    this.getColorMapper = visualHandler.getColorMapper;\r\n    this._normalizedToVisual = visualHandler._normalizedToVisual[mappingMethod];\r\n\r\n    if (mappingMethod === 'piecewise') {\r\n      normalizeVisualRange(thisOption);\r\n      preprocessForPiecewise(thisOption);\r\n    } else if (mappingMethod === 'category') {\r\n      thisOption.categories ? preprocessForSpecifiedCategory(thisOption) // categories is ordinal when thisOption.categories not specified,\r\n      // which need no more preprocess except normalize visual.\r\n      : normalizeVisualRange(thisOption, true);\r\n    } else {\r\n      // mappingMethod === 'linear' or 'fixed'\r\n      zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\r\n      normalizeVisualRange(thisOption);\r\n    }\r\n  }\r\n\r\n  VisualMapping.prototype.mapValueToVisual = function (value) {\r\n    var normalized = this._normalizeData(value);\r\n\r\n    return this._normalizedToVisual(normalized, value);\r\n  };\r\n\r\n  VisualMapping.prototype.getNormalizer = function () {\r\n    return zrUtil.bind(this._normalizeData, this);\r\n  };\r\n  /**\r\n   * List available visual types.\r\n   *\r\n   * @public\r\n   * @return {Array.<string>}\r\n   */\r\n\r\n\r\n  VisualMapping.listVisualTypes = function () {\r\n    return zrUtil.keys(VisualMapping.visualHandlers);\r\n  }; // /**\r\n  //  * @public\r\n  //  */\r\n  // static addVisualHandler(name, handler) {\r\n  //     visualHandlers[name] = handler;\r\n  // }\r\n\r\n  /**\r\n   * @public\r\n   */\r\n\r\n\r\n  VisualMapping.isValidType = function (visualType) {\r\n    return VisualMapping.visualHandlers.hasOwnProperty(visualType);\r\n  };\r\n  /**\r\n   * Convenient method.\r\n   * Visual can be Object or Array or primary type.\r\n   */\r\n\r\n\r\n  VisualMapping.eachVisual = function (visual, callback, context) {\r\n    if (zrUtil.isObject(visual)) {\r\n      zrUtil.each(visual, callback, context);\r\n    } else {\r\n      callback.call(context, visual);\r\n    }\r\n  };\r\n\r\n  VisualMapping.mapVisual = function (visual, callback, context) {\r\n    var isPrimary;\r\n    var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\r\n    VisualMapping.eachVisual(visual, function (v, key) {\r\n      var newVal = callback.call(context, v, key);\r\n      isPrimary ? newVisual = newVal : newVisual[key] = newVal;\r\n    });\r\n    return newVisual;\r\n  };\r\n  /**\r\n   * Retrieve visual properties from given object.\r\n   */\r\n\r\n\r\n  VisualMapping.retrieveVisuals = function (obj) {\r\n    var ret = {};\r\n    var hasVisual;\r\n    obj && each(VisualMapping.visualHandlers, function (h, visualType) {\r\n      if (obj.hasOwnProperty(visualType)) {\r\n        ret[visualType] = obj[visualType];\r\n        hasVisual = true;\r\n      }\r\n    });\r\n    return hasVisual ? ret : null;\r\n  };\r\n  /**\r\n   * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\r\n   *\r\n   * @public\r\n   * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\r\n   *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\r\n   * @return {Array.<string>} Sorted visual types.\r\n   */\r\n\r\n\r\n  VisualMapping.prepareVisualTypes = function (visualTypes) {\r\n    if (zrUtil.isArray(visualTypes)) {\r\n      visualTypes = visualTypes.slice();\r\n    } else if (isObject(visualTypes)) {\r\n      var types_1 = [];\r\n      each(visualTypes, function (item, type) {\r\n        types_1.push(type);\r\n      });\r\n      visualTypes = types_1;\r\n    } else {\r\n      return [];\r\n    }\r\n\r\n    visualTypes.sort(function (type1, type2) {\r\n      // color should be front of colorSaturation, colorAlpha, ...\r\n      // symbol and symbolSize do not matter.\r\n      return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\r\n    });\r\n    return visualTypes;\r\n  };\r\n  /**\r\n   * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\r\n   * Other visuals are only depends on themself.\r\n   */\r\n\r\n\r\n  VisualMapping.dependsOn = function (visualType1, visualType2) {\r\n    return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\r\n  };\r\n  /**\r\n   * @param value\r\n   * @param pieceList [{value: ..., interval: [min, max]}, ...]\r\n   *                         Always from small to big.\r\n   * @param findClosestWhenOutside Default to be false\r\n   * @return index\r\n   */\r\n\r\n\r\n  VisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\r\n    var possibleI;\r\n    var abs = Infinity; // value has the higher priority.\r\n\r\n    for (var i = 0, len = pieceList.length; i < len; i++) {\r\n      var pieceValue = pieceList[i].value;\r\n\r\n      if (pieceValue != null) {\r\n        if (pieceValue === value // FIXME\r\n        // It is supposed to compare value according to value type of dimension,\r\n        // but currently value type can exactly be string or number.\r\n        // Compromise for numeric-like string (like '12'), especially\r\n        // in the case that visualMap.categories is ['22', '33'].\r\n        || zrUtil.isString(pieceValue) && pieceValue === value + '') {\r\n          return i;\r\n        }\r\n\r\n        findClosestWhenOutside && updatePossible(pieceValue, i);\r\n      }\r\n    }\r\n\r\n    for (var i = 0, len = pieceList.length; i < len; i++) {\r\n      var piece = pieceList[i];\r\n      var interval = piece.interval;\r\n      var close_1 = piece.close;\r\n\r\n      if (interval) {\r\n        if (interval[0] === -Infinity) {\r\n          if (littleThan(close_1[1], value, interval[1])) {\r\n            return i;\r\n          }\r\n        } else if (interval[1] === Infinity) {\r\n          if (littleThan(close_1[0], interval[0], value)) {\r\n            return i;\r\n          }\r\n        } else if (littleThan(close_1[0], interval[0], value) && littleThan(close_1[1], value, interval[1])) {\r\n          return i;\r\n        }\r\n\r\n        findClosestWhenOutside && updatePossible(interval[0], i);\r\n        findClosestWhenOutside && updatePossible(interval[1], i);\r\n      }\r\n    }\r\n\r\n    if (findClosestWhenOutside) {\r\n      return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\r\n    }\r\n\r\n    function updatePossible(val, index) {\r\n      var newAbs = Math.abs(val - value);\r\n\r\n      if (newAbs < abs) {\r\n        abs = newAbs;\r\n        possibleI = index;\r\n      }\r\n    }\r\n  };\r\n\r\n  VisualMapping.visualHandlers = {\r\n    color: {\r\n      applyVisual: makeApplyVisual('color'),\r\n      getColorMapper: function () {\r\n        var thisOption = this.option;\r\n        return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\r\n          !isNormalized && (value = this._normalizeData(value));\r\n          return doMapCategory.call(this, value);\r\n        } : function (value, isNormalized, out) {\r\n          // If output rgb array\r\n          // which will be much faster and useful in pixel manipulation\r\n          var returnRGBArray = !!out;\r\n          !isNormalized && (value = this._normalizeData(value));\r\n          out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\r\n          return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\r\n        }, this);\r\n      },\r\n      _normalizedToVisual: {\r\n        linear: function (normalized) {\r\n          return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\r\n        },\r\n        category: doMapCategory,\r\n        piecewise: function (normalized, value) {\r\n          var result = getSpecifiedVisual.call(this, value);\r\n\r\n          if (result == null) {\r\n            result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\r\n          }\r\n\r\n          return result;\r\n        },\r\n        fixed: doMapFixed\r\n      }\r\n    },\r\n    colorHue: makePartialColorVisualHandler(function (color, value) {\r\n      return zrColor.modifyHSL(color, value);\r\n    }),\r\n    colorSaturation: makePartialColorVisualHandler(function (color, value) {\r\n      return zrColor.modifyHSL(color, null, value);\r\n    }),\r\n    colorLightness: makePartialColorVisualHandler(function (color, value) {\r\n      return zrColor.modifyHSL(color, null, null, value);\r\n    }),\r\n    colorAlpha: makePartialColorVisualHandler(function (color, value) {\r\n      return zrColor.modifyAlpha(color, value);\r\n    }),\r\n    decal: {\r\n      applyVisual: makeApplyVisual('decal'),\r\n      _normalizedToVisual: {\r\n        linear: null,\r\n        category: doMapCategory,\r\n        piecewise: null,\r\n        fixed: null\r\n      }\r\n    },\r\n    opacity: {\r\n      applyVisual: makeApplyVisual('opacity'),\r\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\r\n    },\r\n    liftZ: {\r\n      applyVisual: makeApplyVisual('liftZ'),\r\n      _normalizedToVisual: {\r\n        linear: doMapFixed,\r\n        category: doMapFixed,\r\n        piecewise: doMapFixed,\r\n        fixed: doMapFixed\r\n      }\r\n    },\r\n    symbol: {\r\n      applyVisual: function (value, getter, setter) {\r\n        var symbolCfg = this.mapValueToVisual(value);\r\n        setter('symbol', symbolCfg);\r\n      },\r\n      _normalizedToVisual: {\r\n        linear: doMapToArray,\r\n        category: doMapCategory,\r\n        piecewise: function (normalized, value) {\r\n          var result = getSpecifiedVisual.call(this, value);\r\n\r\n          if (result == null) {\r\n            result = doMapToArray.call(this, normalized);\r\n          }\r\n\r\n          return result;\r\n        },\r\n        fixed: doMapFixed\r\n      }\r\n    },\r\n    symbolSize: {\r\n      applyVisual: makeApplyVisual('symbolSize'),\r\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\r\n    }\r\n  };\r\n  return VisualMapping;\r\n}();\r\n\r\nfunction preprocessForPiecewise(thisOption) {\r\n  var pieceList = thisOption.pieceList;\r\n  thisOption.hasSpecialVisual = false;\r\n  zrUtil.each(pieceList, function (piece, index) {\r\n    piece.originIndex = index; // piece.visual is \"result visual value\" but not\r\n    // a visual range, so it does not need to be normalized.\r\n\r\n    if (piece.visual != null) {\r\n      thisOption.hasSpecialVisual = true;\r\n    }\r\n  });\r\n}\r\n\r\nfunction preprocessForSpecifiedCategory(thisOption) {\r\n  // Hash categories.\r\n  var categories = thisOption.categories;\r\n  var categoryMap = thisOption.categoryMap = {};\r\n  var visual = thisOption.visual;\r\n  each(categories, function (cate, index) {\r\n    categoryMap[cate] = index;\r\n  }); // Process visual map input.\r\n\r\n  if (!zrUtil.isArray(visual)) {\r\n    var visualArr_1 = [];\r\n\r\n    if (zrUtil.isObject(visual)) {\r\n      each(visual, function (v, cate) {\r\n        var index = categoryMap[cate];\r\n        visualArr_1[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\r\n      });\r\n    } else {\r\n      // Is primary type, represents default visual.\r\n      visualArr_1[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\r\n    }\r\n\r\n    visual = setVisualToOption(thisOption, visualArr_1);\r\n  } // Remove categories that has no visual,\r\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\r\n\r\n\r\n  for (var i = categories.length - 1; i >= 0; i--) {\r\n    if (visual[i] == null) {\r\n      delete categoryMap[categories[i]];\r\n      categories.pop();\r\n    }\r\n  }\r\n}\r\n\r\nfunction normalizeVisualRange(thisOption, isCategory) {\r\n  var visual = thisOption.visual;\r\n  var visualArr = [];\r\n\r\n  if (zrUtil.isObject(visual)) {\r\n    each(visual, function (v) {\r\n      visualArr.push(v);\r\n    });\r\n  } else if (visual != null) {\r\n    visualArr.push(visual);\r\n  }\r\n\r\n  var doNotNeedPair = {\r\n    color: 1,\r\n    symbol: 1\r\n  };\r\n\r\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\r\n    // Do not care visualArr.length === 0, which is illegal.\r\n    visualArr[1] = visualArr[0];\r\n  }\r\n\r\n  setVisualToOption(thisOption, visualArr);\r\n}\r\n\r\nfunction makePartialColorVisualHandler(applyValue) {\r\n  return {\r\n    applyVisual: function (value, getter, setter) {\r\n      // Only used in HSL\r\n      var colorChannel = this.mapValueToVisual(value); // Must not be array value\r\n\r\n      setter('color', applyValue(getter('color'), colorChannel));\r\n    },\r\n    _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\r\n  };\r\n}\r\n\r\nfunction doMapToArray(normalized) {\r\n  var visual = this.option.visual;\r\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {}; // TODO {}?\r\n}\r\n\r\nfunction makeApplyVisual(visualType) {\r\n  return function (value, getter, setter) {\r\n    setter(visualType, this.mapValueToVisual(value));\r\n  };\r\n}\r\n\r\nfunction doMapCategory(normalized) {\r\n  var visual = this.option.visual;\r\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\r\n}\r\n\r\nfunction doMapFixed() {\r\n  // visual will be convert to array.\r\n  return this.option.visual[0];\r\n}\r\n/**\r\n * Create mapped to numeric visual\r\n */\r\n\r\n\r\nfunction createNormalizedToNumericVisual(sourceExtent) {\r\n  return {\r\n    linear: function (normalized) {\r\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\r\n    },\r\n    category: doMapCategory,\r\n    piecewise: function (normalized, value) {\r\n      var result = getSpecifiedVisual.call(this, value);\r\n\r\n      if (result == null) {\r\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\r\n      }\r\n\r\n      return result;\r\n    },\r\n    fixed: doMapFixed\r\n  };\r\n}\r\n\r\nfunction getSpecifiedVisual(value) {\r\n  var thisOption = this.option;\r\n  var pieceList = thisOption.pieceList;\r\n\r\n  if (thisOption.hasSpecialVisual) {\r\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\r\n    var piece = pieceList[pieceIndex];\r\n\r\n    if (piece && piece.visual) {\r\n      return piece.visual[this.type];\r\n    }\r\n  }\r\n}\r\n\r\nfunction setVisualToOption(thisOption, visualArr) {\r\n  thisOption.visual = visualArr;\r\n\r\n  if (thisOption.type === 'color') {\r\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\r\n      var color = zrColor.parse(item);\r\n\r\n      if (!color && process.env.NODE_ENV !== 'production') {\r\n        warn(\"'\" + item + \"' is an illegal color, fallback to '#000000'\", true);\r\n      }\r\n\r\n      return color || [0, 0, 0, 1];\r\n    });\r\n  }\r\n\r\n  return visualArr;\r\n}\r\n/**\r\n * Normalizers by mapping methods.\r\n */\r\n\r\n\r\nvar normalizers = {\r\n  linear: function (value) {\r\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\r\n  },\r\n  piecewise: function (value) {\r\n    var pieceList = this.option.pieceList;\r\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\r\n\r\n    if (pieceIndex != null) {\r\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\r\n    }\r\n  },\r\n  category: function (value) {\r\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal value\r\n\r\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\r\n  },\r\n  fixed: zrUtil.noop\r\n};\r\n\r\nfunction littleThan(close, a, b) {\r\n  return close ? a <= b : a < b;\r\n}\r\n\r\nexport default VisualMapping;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * Line path for bezier and straight line draw\r\n */\r\n\r\nimport * as graphic from '../../util/graphic.js';\r\nimport * as vec2 from 'zrender/lib/core/vector.js';\r\nvar straightLineProto = graphic.Line.prototype;\r\nvar bezierCurveProto = graphic.BezierCurve.prototype;\r\n\r\nvar StraightLineShape =\r\n/** @class */\r\nfunction () {\r\n  function StraightLineShape() {\r\n    // Start point\r\n    this.x1 = 0;\r\n    this.y1 = 0; // End point\r\n\r\n    this.x2 = 0;\r\n    this.y2 = 0;\r\n    this.percent = 1;\r\n  }\r\n\r\n  return StraightLineShape;\r\n}();\r\n\r\nvar CurveShape =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(CurveShape, _super);\r\n\r\n  function CurveShape() {\r\n    return _super !== null && _super.apply(this, arguments) || this;\r\n  }\r\n\r\n  return CurveShape;\r\n}(StraightLineShape);\r\n\r\nfunction isStraightLine(shape) {\r\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\r\n}\r\n\r\nvar ECLinePath =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(ECLinePath, _super);\r\n\r\n  function ECLinePath(opts) {\r\n    var _this = _super.call(this, opts) || this;\r\n\r\n    _this.type = 'ec-line';\r\n    return _this;\r\n  }\r\n\r\n  ECLinePath.prototype.getDefaultStyle = function () {\r\n    return {\r\n      stroke: '#000',\r\n      fill: null\r\n    };\r\n  };\r\n\r\n  ECLinePath.prototype.getDefaultShape = function () {\r\n    return new StraightLineShape();\r\n  };\r\n\r\n  ECLinePath.prototype.buildPath = function (ctx, shape) {\r\n    if (isStraightLine(shape)) {\r\n      straightLineProto.buildPath.call(this, ctx, shape);\r\n    } else {\r\n      bezierCurveProto.buildPath.call(this, ctx, shape);\r\n    }\r\n  };\r\n\r\n  ECLinePath.prototype.pointAt = function (t) {\r\n    if (isStraightLine(this.shape)) {\r\n      return straightLineProto.pointAt.call(this, t);\r\n    } else {\r\n      return bezierCurveProto.pointAt.call(this, t);\r\n    }\r\n  };\r\n\r\n  ECLinePath.prototype.tangentAt = function (t) {\r\n    var shape = this.shape;\r\n    var p = isStraightLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : bezierCurveProto.tangentAt.call(this, t);\r\n    return vec2.normalize(p, p);\r\n  };\r\n\r\n  return ECLinePath;\r\n}(graphic.Path);\r\n\r\nexport default ECLinePath;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport { isArray, each } from 'zrender/lib/core/util.js';\r\nimport * as vector from 'zrender/lib/core/vector.js';\r\nimport * as symbolUtil from '../../util/symbol.js';\r\nimport ECLinePath from './LinePath.js';\r\nimport * as graphic from '../../util/graphic.js';\r\nimport { toggleHoverEmphasis, enterEmphasis, leaveEmphasis, SPECIAL_STATES } from '../../util/states.js';\r\nimport { getLabelStatesModels, setLabelStyle } from '../../label/labelStyle.js';\r\nimport { round } from '../../util/number.js';\r\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\r\n\r\nfunction makeSymbolTypeKey(symbolCategory) {\r\n  return '_' + symbolCategory + 'Type';\r\n}\r\n/**\r\n * @inner\r\n */\r\n\r\n\r\nfunction createSymbol(name, lineData, idx) {\r\n  var symbolType = lineData.getItemVisual(idx, name);\r\n\r\n  if (!symbolType || symbolType === 'none') {\r\n    return;\r\n  }\r\n\r\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\r\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\r\n  var symbolOffset = lineData.getItemVisual(idx, name + 'Offset');\r\n  var symbolKeepAspect = lineData.getItemVisual(idx, name + 'KeepAspect');\r\n  var symbolSizeArr = symbolUtil.normalizeSymbolSize(symbolSize);\r\n  var symbolOffsetArr = symbolUtil.normalizeSymbolOffset(symbolOffset || 0, symbolSizeArr);\r\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSizeArr[0] / 2 + symbolOffsetArr[0], -symbolSizeArr[1] / 2 + symbolOffsetArr[1], symbolSizeArr[0], symbolSizeArr[1], null, symbolKeepAspect);\r\n  symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\r\n  symbolPath.name = name;\r\n  return symbolPath;\r\n}\r\n\r\nfunction createLine(points) {\r\n  var line = new ECLinePath({\r\n    name: 'line',\r\n    subPixelOptimize: true\r\n  });\r\n  setLinePoints(line.shape, points);\r\n  return line;\r\n}\r\n\r\nfunction setLinePoints(targetShape, points) {\r\n  targetShape.x1 = points[0][0];\r\n  targetShape.y1 = points[0][1];\r\n  targetShape.x2 = points[1][0];\r\n  targetShape.y2 = points[1][1];\r\n  targetShape.percent = 1;\r\n  var cp1 = points[2];\r\n\r\n  if (cp1) {\r\n    targetShape.cpx1 = cp1[0];\r\n    targetShape.cpy1 = cp1[1];\r\n  } else {\r\n    targetShape.cpx1 = NaN;\r\n    targetShape.cpy1 = NaN;\r\n  }\r\n}\r\n\r\nvar Line =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(Line, _super);\r\n\r\n  function Line(lineData, idx, seriesScope) {\r\n    var _this = _super.call(this) || this;\r\n\r\n    _this._createLine(lineData, idx, seriesScope);\r\n\r\n    return _this;\r\n  }\r\n\r\n  Line.prototype._createLine = function (lineData, idx, seriesScope) {\r\n    var seriesModel = lineData.hostModel;\r\n    var linePoints = lineData.getItemLayout(idx);\r\n    var line = createLine(linePoints);\r\n    line.shape.percent = 0;\r\n    graphic.initProps(line, {\r\n      shape: {\r\n        percent: 1\r\n      }\r\n    }, seriesModel, idx);\r\n    this.add(line);\r\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\r\n      var symbol = createSymbol(symbolCategory, lineData, idx); // symbols must added after line to make sure\r\n      // it will be updated after line#update.\r\n      // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\r\n\r\n      this.add(symbol);\r\n      this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\r\n    }, this);\r\n\r\n    this._updateCommonStl(lineData, idx, seriesScope);\r\n  }; // TODO More strict on the List type in parameters?\r\n\r\n\r\n  Line.prototype.updateData = function (lineData, idx, seriesScope) {\r\n    var seriesModel = lineData.hostModel;\r\n    var line = this.childOfName('line');\r\n    var linePoints = lineData.getItemLayout(idx);\r\n    var target = {\r\n      shape: {}\r\n    };\r\n    setLinePoints(target.shape, linePoints);\r\n    graphic.updateProps(line, target, seriesModel, idx);\r\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\r\n      var symbolType = lineData.getItemVisual(idx, symbolCategory);\r\n      var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\r\n\r\n      if (this[key] !== symbolType) {\r\n        this.remove(this.childOfName(symbolCategory));\r\n        var symbol = createSymbol(symbolCategory, lineData, idx);\r\n        this.add(symbol);\r\n      }\r\n\r\n      this[key] = symbolType;\r\n    }, this);\r\n\r\n    this._updateCommonStl(lineData, idx, seriesScope);\r\n  };\r\n\r\n  ;\r\n\r\n  Line.prototype.getLinePath = function () {\r\n    return this.childAt(0);\r\n  };\r\n\r\n  Line.prototype._updateCommonStl = function (lineData, idx, seriesScope) {\r\n    var seriesModel = lineData.hostModel;\r\n    var line = this.childOfName('line');\r\n    var emphasisLineStyle = seriesScope && seriesScope.emphasisLineStyle;\r\n    var blurLineStyle = seriesScope && seriesScope.blurLineStyle;\r\n    var selectLineStyle = seriesScope && seriesScope.selectLineStyle;\r\n    var labelStatesModels = seriesScope && seriesScope.labelStatesModels;\r\n    var emphasisDisabled = seriesScope && seriesScope.emphasisDisabled;\r\n    var focus = seriesScope && seriesScope.focus;\r\n    var blurScope = seriesScope && seriesScope.blurScope; // Optimization for large dataset\r\n\r\n    if (!seriesScope || lineData.hasItemOption) {\r\n      var itemModel = lineData.getItemModel(idx);\r\n      var emphasisModel = itemModel.getModel('emphasis');\r\n      emphasisLineStyle = emphasisModel.getModel('lineStyle').getLineStyle();\r\n      blurLineStyle = itemModel.getModel(['blur', 'lineStyle']).getLineStyle();\r\n      selectLineStyle = itemModel.getModel(['select', 'lineStyle']).getLineStyle();\r\n      emphasisDisabled = emphasisModel.get('disabled');\r\n      focus = emphasisModel.get('focus');\r\n      blurScope = emphasisModel.get('blurScope');\r\n      labelStatesModels = getLabelStatesModels(itemModel);\r\n    }\r\n\r\n    var lineStyle = lineData.getItemVisual(idx, 'style');\r\n    var visualColor = lineStyle.stroke;\r\n    line.useStyle(lineStyle);\r\n    line.style.fill = null;\r\n    line.style.strokeNoScale = true;\r\n    line.ensureState('emphasis').style = emphasisLineStyle;\r\n    line.ensureState('blur').style = blurLineStyle;\r\n    line.ensureState('select').style = selectLineStyle; // Update symbol\r\n\r\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\r\n      var symbol = this.childOfName(symbolCategory);\r\n\r\n      if (symbol) {\r\n        // Share opacity and color with line.\r\n        symbol.setColor(visualColor);\r\n        symbol.style.opacity = lineStyle.opacity;\r\n\r\n        for (var i = 0; i < SPECIAL_STATES.length; i++) {\r\n          var stateName = SPECIAL_STATES[i];\r\n          var lineState = line.getState(stateName);\r\n\r\n          if (lineState) {\r\n            var lineStateStyle = lineState.style || {};\r\n            var state = symbol.ensureState(stateName);\r\n            var stateStyle = state.style || (state.style = {});\r\n\r\n            if (lineStateStyle.stroke != null) {\r\n              stateStyle[symbol.__isEmptyBrush ? 'stroke' : 'fill'] = lineStateStyle.stroke;\r\n            }\r\n\r\n            if (lineStateStyle.opacity != null) {\r\n              stateStyle.opacity = lineStateStyle.opacity;\r\n            }\r\n          }\r\n        }\r\n\r\n        symbol.markRedraw();\r\n      }\r\n    }, this);\r\n    var rawVal = seriesModel.getRawValue(idx);\r\n    setLabelStyle(this, labelStatesModels, {\r\n      labelDataIndex: idx,\r\n      labelFetcher: {\r\n        getFormattedLabel: function (dataIndex, stateName) {\r\n          return seriesModel.getFormattedLabel(dataIndex, stateName, lineData.dataType);\r\n        }\r\n      },\r\n      inheritColor: visualColor || '#000',\r\n      defaultOpacity: lineStyle.opacity,\r\n      defaultText: (rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal) + ''\r\n    });\r\n    var label = this.getTextContent(); // Always set `textStyle` even if `normalStyle.text` is null, because default\r\n    // values have to be set on `normalStyle`.\r\n\r\n    if (label) {\r\n      var labelNormalModel = labelStatesModels.normal;\r\n      label.__align = label.style.align;\r\n      label.__verticalAlign = label.style.verticalAlign; // 'start', 'middle', 'end'\r\n\r\n      label.__position = labelNormalModel.get('position') || 'middle';\r\n      var distance = labelNormalModel.get('distance');\r\n\r\n      if (!isArray(distance)) {\r\n        distance = [distance, distance];\r\n      }\r\n\r\n      label.__labelDistance = distance;\r\n    }\r\n\r\n    this.setTextConfig({\r\n      position: null,\r\n      local: true,\r\n      inside: false // Can't be inside for stroke element.\r\n\r\n    });\r\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\r\n  };\r\n\r\n  Line.prototype.highlight = function () {\r\n    enterEmphasis(this);\r\n  };\r\n\r\n  Line.prototype.downplay = function () {\r\n    leaveEmphasis(this);\r\n  };\r\n\r\n  Line.prototype.updateLayout = function (lineData, idx) {\r\n    this.setLinePoints(lineData.getItemLayout(idx));\r\n  };\r\n\r\n  Line.prototype.setLinePoints = function (points) {\r\n    var linePath = this.childOfName('line');\r\n    setLinePoints(linePath.shape, points);\r\n    linePath.dirty();\r\n  };\r\n\r\n  Line.prototype.beforeUpdate = function () {\r\n    var lineGroup = this;\r\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\r\n    var symbolTo = lineGroup.childOfName('toSymbol');\r\n    var label = lineGroup.getTextContent(); // Quick reject\r\n\r\n    if (!symbolFrom && !symbolTo && (!label || label.ignore)) {\r\n      return;\r\n    }\r\n\r\n    var invScale = 1;\r\n    var parentNode = this.parent;\r\n\r\n    while (parentNode) {\r\n      if (parentNode.scaleX) {\r\n        invScale /= parentNode.scaleX;\r\n      }\r\n\r\n      parentNode = parentNode.parent;\r\n    }\r\n\r\n    var line = lineGroup.childOfName('line'); // If line not changed\r\n    // FIXME Parent scale changed\r\n\r\n    if (!this.__dirty && !line.__dirty) {\r\n      return;\r\n    }\r\n\r\n    var percent = line.shape.percent;\r\n    var fromPos = line.pointAt(0);\r\n    var toPos = line.pointAt(percent);\r\n    var d = vector.sub([], toPos, fromPos);\r\n    vector.normalize(d, d);\r\n\r\n    function setSymbolRotation(symbol, percent) {\r\n      // Fix #12388\r\n      // when symbol is set to be 'arrow' in markLine,\r\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\r\n      // rotate by default if symbol rotation is not specified\r\n      var specifiedRotation = symbol.__specifiedRotation;\r\n\r\n      if (specifiedRotation == null) {\r\n        var tangent = line.tangentAt(percent);\r\n        symbol.attr('rotation', (percent === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\r\n      } else {\r\n        symbol.attr('rotation', specifiedRotation);\r\n      }\r\n    }\r\n\r\n    if (symbolFrom) {\r\n      symbolFrom.setPosition(fromPos);\r\n      setSymbolRotation(symbolFrom, 0);\r\n      symbolFrom.scaleX = symbolFrom.scaleY = invScale * percent;\r\n      symbolFrom.markRedraw();\r\n    }\r\n\r\n    if (symbolTo) {\r\n      symbolTo.setPosition(toPos);\r\n      setSymbolRotation(symbolTo, 1);\r\n      symbolTo.scaleX = symbolTo.scaleY = invScale * percent;\r\n      symbolTo.markRedraw();\r\n    }\r\n\r\n    if (label && !label.ignore) {\r\n      label.x = label.y = 0;\r\n      label.originX = label.originY = 0;\r\n      var textAlign = void 0;\r\n      var textVerticalAlign = void 0;\r\n      var distance = label.__labelDistance;\r\n      var distanceX = distance[0] * invScale;\r\n      var distanceY = distance[1] * invScale;\r\n      var halfPercent = percent / 2;\r\n      var tangent = line.tangentAt(halfPercent);\r\n      var n = [tangent[1], -tangent[0]];\r\n      var cp = line.pointAt(halfPercent);\r\n\r\n      if (n[1] > 0) {\r\n        n[0] = -n[0];\r\n        n[1] = -n[1];\r\n      }\r\n\r\n      var dir = tangent[0] < 0 ? -1 : 1;\r\n\r\n      if (label.__position !== 'start' && label.__position !== 'end') {\r\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\r\n\r\n        if (toPos[0] < fromPos[0]) {\r\n          rotation = Math.PI + rotation;\r\n        }\r\n\r\n        label.rotation = rotation;\r\n      }\r\n\r\n      var dy = void 0;\r\n\r\n      switch (label.__position) {\r\n        case 'insideStartTop':\r\n        case 'insideMiddleTop':\r\n        case 'insideEndTop':\r\n        case 'middle':\r\n          dy = -distanceY;\r\n          textVerticalAlign = 'bottom';\r\n          break;\r\n\r\n        case 'insideStartBottom':\r\n        case 'insideMiddleBottom':\r\n        case 'insideEndBottom':\r\n          dy = distanceY;\r\n          textVerticalAlign = 'top';\r\n          break;\r\n\r\n        default:\r\n          dy = 0;\r\n          textVerticalAlign = 'middle';\r\n      }\r\n\r\n      switch (label.__position) {\r\n        case 'end':\r\n          label.x = d[0] * distanceX + toPos[0];\r\n          label.y = d[1] * distanceY + toPos[1];\r\n          textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\r\n          textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\r\n          break;\r\n\r\n        case 'start':\r\n          label.x = -d[0] * distanceX + fromPos[0];\r\n          label.y = -d[1] * distanceY + fromPos[1];\r\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\r\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\r\n          break;\r\n\r\n        case 'insideStartTop':\r\n        case 'insideStart':\r\n        case 'insideStartBottom':\r\n          label.x = distanceX * dir + fromPos[0];\r\n          label.y = fromPos[1] + dy;\r\n          textAlign = tangent[0] < 0 ? 'right' : 'left';\r\n          label.originX = -distanceX * dir;\r\n          label.originY = -dy;\r\n          break;\r\n\r\n        case 'insideMiddleTop':\r\n        case 'insideMiddle':\r\n        case 'insideMiddleBottom':\r\n        case 'middle':\r\n          label.x = cp[0];\r\n          label.y = cp[1] + dy;\r\n          textAlign = 'center';\r\n          label.originY = -dy;\r\n          break;\r\n\r\n        case 'insideEndTop':\r\n        case 'insideEnd':\r\n        case 'insideEndBottom':\r\n          label.x = -distanceX * dir + toPos[0];\r\n          label.y = toPos[1] + dy;\r\n          textAlign = tangent[0] >= 0 ? 'right' : 'left';\r\n          label.originX = distanceX * dir;\r\n          label.originY = -dy;\r\n          break;\r\n      }\r\n\r\n      label.scaleX = label.scaleY = invScale;\r\n      label.setStyle({\r\n        // Use the user specified text align and baseline first\r\n        verticalAlign: label.__verticalAlign || textVerticalAlign,\r\n        align: label.__align || textAlign\r\n      });\r\n    }\r\n  };\r\n\r\n  return Line;\r\n}(graphic.Group);\r\n\r\nexport default Line;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as graphic from '../../util/graphic.js';\r\nimport LineGroup from './Line.js';\r\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\r\n\r\nvar LineDraw =\r\n/** @class */\r\nfunction () {\r\n  function LineDraw(LineCtor) {\r\n    this.group = new graphic.Group();\r\n    this._LineCtor = LineCtor || LineGroup;\r\n  }\r\n\r\n  LineDraw.prototype.updateData = function (lineData) {\r\n    var _this = this; // Remove progressive els.\r\n\r\n\r\n    this._progressiveEls = null;\r\n    var lineDraw = this;\r\n    var group = lineDraw.group;\r\n    var oldLineData = lineDraw._lineData;\r\n    lineDraw._lineData = lineData; // There is no oldLineData only when first rendering or switching from\r\n    // stream mode to normal mode, where previous elements should be removed.\r\n\r\n    if (!oldLineData) {\r\n      group.removeAll();\r\n    }\r\n\r\n    var seriesScope = makeSeriesScope(lineData);\r\n    lineData.diff(oldLineData).add(function (idx) {\r\n      _this._doAdd(lineData, idx, seriesScope);\r\n    }).update(function (newIdx, oldIdx) {\r\n      _this._doUpdate(oldLineData, lineData, oldIdx, newIdx, seriesScope);\r\n    }).remove(function (idx) {\r\n      group.remove(oldLineData.getItemGraphicEl(idx));\r\n    }).execute();\r\n  };\r\n\r\n  ;\r\n\r\n  LineDraw.prototype.updateLayout = function () {\r\n    var lineData = this._lineData; // Do not support update layout in incremental mode.\r\n\r\n    if (!lineData) {\r\n      return;\r\n    }\r\n\r\n    lineData.eachItemGraphicEl(function (el, idx) {\r\n      el.updateLayout(lineData, idx);\r\n    }, this);\r\n  };\r\n\r\n  ;\r\n\r\n  LineDraw.prototype.incrementalPrepareUpdate = function (lineData) {\r\n    this._seriesScope = makeSeriesScope(lineData);\r\n    this._lineData = null;\r\n    this.group.removeAll();\r\n  };\r\n\r\n  ;\r\n\r\n  LineDraw.prototype.incrementalUpdate = function (taskParams, lineData) {\r\n    this._progressiveEls = [];\r\n\r\n    function updateIncrementalAndHover(el) {\r\n      if (!el.isGroup && !isEffectObject(el)) {\r\n        el.incremental = true;\r\n        el.ensureState('emphasis').hoverLayer = true;\r\n      }\r\n    }\r\n\r\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\r\n      var itemLayout = lineData.getItemLayout(idx);\r\n\r\n      if (lineNeedsDraw(itemLayout)) {\r\n        var el = new this._LineCtor(lineData, idx, this._seriesScope);\r\n        el.traverse(updateIncrementalAndHover);\r\n        this.group.add(el);\r\n        lineData.setItemGraphicEl(idx, el);\r\n\r\n        this._progressiveEls.push(el);\r\n      }\r\n    }\r\n  };\r\n\r\n  ;\r\n\r\n  LineDraw.prototype.remove = function () {\r\n    this.group.removeAll();\r\n  };\r\n\r\n  ;\r\n\r\n  LineDraw.prototype.eachRendered = function (cb) {\r\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\r\n  };\r\n\r\n  LineDraw.prototype._doAdd = function (lineData, idx, seriesScope) {\r\n    var itemLayout = lineData.getItemLayout(idx);\r\n\r\n    if (!lineNeedsDraw(itemLayout)) {\r\n      return;\r\n    }\r\n\r\n    var el = new this._LineCtor(lineData, idx, seriesScope);\r\n    lineData.setItemGraphicEl(idx, el);\r\n    this.group.add(el);\r\n  };\r\n\r\n  LineDraw.prototype._doUpdate = function (oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\r\n    var itemEl = oldLineData.getItemGraphicEl(oldIdx);\r\n\r\n    if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\r\n      this.group.remove(itemEl);\r\n      return;\r\n    }\r\n\r\n    if (!itemEl) {\r\n      itemEl = new this._LineCtor(newLineData, newIdx, seriesScope);\r\n    } else {\r\n      itemEl.updateData(newLineData, newIdx, seriesScope);\r\n    }\r\n\r\n    newLineData.setItemGraphicEl(newIdx, itemEl);\r\n    this.group.add(itemEl);\r\n  };\r\n\r\n  return LineDraw;\r\n}();\r\n\r\nfunction isEffectObject(el) {\r\n  return el.animators && el.animators.length > 0;\r\n}\r\n\r\nfunction makeSeriesScope(lineData) {\r\n  var hostModel = lineData.hostModel;\r\n  var emphasisModel = hostModel.getModel('emphasis');\r\n  return {\r\n    lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\r\n    emphasisLineStyle: emphasisModel.getModel(['lineStyle']).getLineStyle(),\r\n    blurLineStyle: hostModel.getModel(['blur', 'lineStyle']).getLineStyle(),\r\n    selectLineStyle: hostModel.getModel(['select', 'lineStyle']).getLineStyle(),\r\n    emphasisDisabled: emphasisModel.get('disabled'),\r\n    blurScope: emphasisModel.get('blurScope'),\r\n    focus: emphasisModel.get('focus'),\r\n    labelStatesModels: getLabelStatesModels(hostModel)\r\n  };\r\n}\r\n\r\nfunction isPointNaN(pt) {\r\n  return isNaN(pt[0]) || isNaN(pt[1]);\r\n}\r\n\r\nfunction lineNeedsDraw(pts) {\r\n  return pts && !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\r\n}\r\n\r\nexport default LineDraw;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { each, hasOwn } from 'zrender/lib/core/util.js';\r\nvar deprecatedLogs = {};\r\n/**\r\n * Whether need to call `convertEC4CompatibleStyle`.\r\n */\r\n\r\nexport function isEC4CompatibleStyle(style, elType, hasOwnTextContentOption, hasOwnTextConfig) {\r\n  // Since echarts5, `RectText` is separated from its host element and style.text\r\n  // does not exist any more. The compat work brings some extra burden on performance.\r\n  // So we provide:\r\n  // `legacy: true` force make compat.\r\n  // `legacy: false`, force do not compat.\r\n  // `legacy` not set: auto detect whether legacy.\r\n  //     But in this case we do not compat (difficult to detect and rare case):\r\n  //     Becuse custom series and graphic component support \"merge\", users may firstly\r\n  //     only set `textStrokeWidth` style or secondly only set `text`.\r\n  return style && (style.legacy || style.legacy !== false && !hasOwnTextContentOption && !hasOwnTextConfig && elType !== 'tspan' // Difficult to detect whether legacy for a \"text\" el.\r\n  && (elType === 'text' || hasOwn(style, 'text')));\r\n}\r\n/**\r\n * `EC4CompatibleStyle` is style that might be in echarts4 format or echarts5 format.\r\n * @param hostStyle The properties might be modified.\r\n * @return If be text el, `textContentStyle` and `textConfig` will not be returned.\r\n *         Otherwise a `textContentStyle` and `textConfig` will be created, whose props area\r\n *         retried from the `hostStyle`.\r\n */\r\n\r\nexport function convertFromEC4CompatibleStyle(hostStyle, elType, isNormal) {\r\n  var srcStyle = hostStyle;\r\n  var textConfig;\r\n  var textContent;\r\n  var textContentStyle;\r\n\r\n  if (elType === 'text') {\r\n    textContentStyle = srcStyle;\r\n  } else {\r\n    textContentStyle = {};\r\n    hasOwn(srcStyle, 'text') && (textContentStyle.text = srcStyle.text);\r\n    hasOwn(srcStyle, 'rich') && (textContentStyle.rich = srcStyle.rich);\r\n    hasOwn(srcStyle, 'textFill') && (textContentStyle.fill = srcStyle.textFill);\r\n    hasOwn(srcStyle, 'textStroke') && (textContentStyle.stroke = srcStyle.textStroke);\r\n    hasOwn(srcStyle, 'fontFamily') && (textContentStyle.fontFamily = srcStyle.fontFamily);\r\n    hasOwn(srcStyle, 'fontSize') && (textContentStyle.fontSize = srcStyle.fontSize);\r\n    hasOwn(srcStyle, 'fontStyle') && (textContentStyle.fontStyle = srcStyle.fontStyle);\r\n    hasOwn(srcStyle, 'fontWeight') && (textContentStyle.fontWeight = srcStyle.fontWeight);\r\n    textContent = {\r\n      type: 'text',\r\n      style: textContentStyle,\r\n      // ec4 does not support rectText trigger.\r\n      // And when text position is different in normal and emphasis\r\n      // => hover text trigger emphasis;\r\n      // => text position changed, leave mouse pointer immediately;\r\n      // That might cause incorrect state.\r\n      silent: true\r\n    };\r\n    textConfig = {};\r\n    var hasOwnPos = hasOwn(srcStyle, 'textPosition');\r\n\r\n    if (isNormal) {\r\n      textConfig.position = hasOwnPos ? srcStyle.textPosition : 'inside';\r\n    } else {\r\n      hasOwnPos && (textConfig.position = srcStyle.textPosition);\r\n    }\r\n\r\n    hasOwn(srcStyle, 'textPosition') && (textConfig.position = srcStyle.textPosition);\r\n    hasOwn(srcStyle, 'textOffset') && (textConfig.offset = srcStyle.textOffset);\r\n    hasOwn(srcStyle, 'textRotation') && (textConfig.rotation = srcStyle.textRotation);\r\n    hasOwn(srcStyle, 'textDistance') && (textConfig.distance = srcStyle.textDistance);\r\n  }\r\n\r\n  convertEC4CompatibleRichItem(textContentStyle, hostStyle);\r\n  each(textContentStyle.rich, function (richItem) {\r\n    convertEC4CompatibleRichItem(richItem, richItem);\r\n  });\r\n  return {\r\n    textConfig: textConfig,\r\n    textContent: textContent\r\n  };\r\n}\r\n/**\r\n * The result will be set to `out`.\r\n */\r\n\r\nfunction convertEC4CompatibleRichItem(out, richItem) {\r\n  if (!richItem) {\r\n    return;\r\n  } // (1) For simplicity, make textXXX properties (deprecated since ec5) has\r\n  // higher priority. For example, consider in ec4 `borderColor: 5, textBorderColor: 10`\r\n  // on a rect means `borderColor: 4` on the rect and `borderColor: 10` on an attached\r\n  // richText in ec5.\r\n  // (2) `out === richItem` if and only if `out` is text el or rich item.\r\n  // So we can overwrite existing props in `out` since textXXX has higher priority.\r\n\r\n\r\n  richItem.font = richItem.textFont || richItem.font;\r\n  hasOwn(richItem, 'textStrokeWidth') && (out.lineWidth = richItem.textStrokeWidth);\r\n  hasOwn(richItem, 'textAlign') && (out.align = richItem.textAlign);\r\n  hasOwn(richItem, 'textVerticalAlign') && (out.verticalAlign = richItem.textVerticalAlign);\r\n  hasOwn(richItem, 'textLineHeight') && (out.lineHeight = richItem.textLineHeight);\r\n  hasOwn(richItem, 'textWidth') && (out.width = richItem.textWidth);\r\n  hasOwn(richItem, 'textHeight') && (out.height = richItem.textHeight);\r\n  hasOwn(richItem, 'textBackgroundColor') && (out.backgroundColor = richItem.textBackgroundColor);\r\n  hasOwn(richItem, 'textPadding') && (out.padding = richItem.textPadding);\r\n  hasOwn(richItem, 'textBorderColor') && (out.borderColor = richItem.textBorderColor);\r\n  hasOwn(richItem, 'textBorderWidth') && (out.borderWidth = richItem.textBorderWidth);\r\n  hasOwn(richItem, 'textBorderRadius') && (out.borderRadius = richItem.textBorderRadius);\r\n  hasOwn(richItem, 'textBoxShadowColor') && (out.shadowColor = richItem.textBoxShadowColor);\r\n  hasOwn(richItem, 'textBoxShadowBlur') && (out.shadowBlur = richItem.textBoxShadowBlur);\r\n  hasOwn(richItem, 'textBoxShadowOffsetX') && (out.shadowOffsetX = richItem.textBoxShadowOffsetX);\r\n  hasOwn(richItem, 'textBoxShadowOffsetY') && (out.shadowOffsetY = richItem.textBoxShadowOffsetY);\r\n}\r\n/**\r\n * Convert to pure echarts4 format style.\r\n * `itemStyle` will be modified, added with ec4 style properties from\r\n * `textStyle` and `textConfig`.\r\n *\r\n * [Caveat]: For simplicity, `insideRollback` in ec4 does not compat, where\r\n * `styleEmphasis: {textFill: 'red'}` will remove the normal auto added stroke.\r\n */\r\n\r\n\r\nexport function convertToEC4StyleForCustomSerise(itemStl, txStl, txCfg) {\r\n  var out = itemStl; // See `custom.ts`, a trick to set extra `textPosition` firstly.\r\n\r\n  out.textPosition = out.textPosition || txCfg.position || 'inside';\r\n  txCfg.offset != null && (out.textOffset = txCfg.offset);\r\n  txCfg.rotation != null && (out.textRotation = txCfg.rotation);\r\n  txCfg.distance != null && (out.textDistance = txCfg.distance);\r\n  var isInside = out.textPosition.indexOf('inside') >= 0;\r\n  var hostFill = itemStl.fill || '#000';\r\n  convertToEC4RichItem(out, txStl);\r\n  var textFillNotSet = out.textFill == null;\r\n\r\n  if (isInside) {\r\n    if (textFillNotSet) {\r\n      out.textFill = txCfg.insideFill || '#fff';\r\n      !out.textStroke && txCfg.insideStroke && (out.textStroke = txCfg.insideStroke);\r\n      !out.textStroke && (out.textStroke = hostFill);\r\n      out.textStrokeWidth == null && (out.textStrokeWidth = 2);\r\n    }\r\n  } else {\r\n    if (textFillNotSet) {\r\n      out.textFill = itemStl.fill || txCfg.outsideFill || '#000';\r\n    }\r\n\r\n    !out.textStroke && txCfg.outsideStroke && (out.textStroke = txCfg.outsideStroke);\r\n  }\r\n\r\n  out.text = txStl.text;\r\n  out.rich = txStl.rich;\r\n  each(txStl.rich, function (richItem) {\r\n    convertToEC4RichItem(richItem, richItem);\r\n  });\r\n  return out;\r\n}\r\n\r\nfunction convertToEC4RichItem(out, richItem) {\r\n  if (!richItem) {\r\n    return;\r\n  }\r\n\r\n  hasOwn(richItem, 'fill') && (out.textFill = richItem.fill);\r\n  hasOwn(richItem, 'stroke') && (out.textStroke = richItem.fill);\r\n  hasOwn(richItem, 'lineWidth') && (out.textStrokeWidth = richItem.lineWidth);\r\n  hasOwn(richItem, 'font') && (out.font = richItem.font);\r\n  hasOwn(richItem, 'fontStyle') && (out.fontStyle = richItem.fontStyle);\r\n  hasOwn(richItem, 'fontWeight') && (out.fontWeight = richItem.fontWeight);\r\n  hasOwn(richItem, 'fontSize') && (out.fontSize = richItem.fontSize);\r\n  hasOwn(richItem, 'fontFamily') && (out.fontFamily = richItem.fontFamily);\r\n  hasOwn(richItem, 'align') && (out.textAlign = richItem.align);\r\n  hasOwn(richItem, 'verticalAlign') && (out.textVerticalAlign = richItem.verticalAlign);\r\n  hasOwn(richItem, 'lineHeight') && (out.textLineHeight = richItem.lineHeight);\r\n  hasOwn(richItem, 'width') && (out.textWidth = richItem.width);\r\n  hasOwn(richItem, 'height') && (out.textHeight = richItem.height);\r\n  hasOwn(richItem, 'backgroundColor') && (out.textBackgroundColor = richItem.backgroundColor);\r\n  hasOwn(richItem, 'padding') && (out.textPadding = richItem.padding);\r\n  hasOwn(richItem, 'borderColor') && (out.textBorderColor = richItem.borderColor);\r\n  hasOwn(richItem, 'borderWidth') && (out.textBorderWidth = richItem.borderWidth);\r\n  hasOwn(richItem, 'borderRadius') && (out.textBorderRadius = richItem.borderRadius);\r\n  hasOwn(richItem, 'shadowColor') && (out.textBoxShadowColor = richItem.shadowColor);\r\n  hasOwn(richItem, 'shadowBlur') && (out.textBoxShadowBlur = richItem.shadowBlur);\r\n  hasOwn(richItem, 'shadowOffsetX') && (out.textBoxShadowOffsetX = richItem.shadowOffsetX);\r\n  hasOwn(richItem, 'shadowOffsetY') && (out.textBoxShadowOffsetY = richItem.shadowOffsetY);\r\n  hasOwn(richItem, 'textShadowColor') && (out.textShadowColor = richItem.textShadowColor);\r\n  hasOwn(richItem, 'textShadowBlur') && (out.textShadowBlur = richItem.textShadowBlur);\r\n  hasOwn(richItem, 'textShadowOffsetX') && (out.textShadowOffsetX = richItem.textShadowOffsetX);\r\n  hasOwn(richItem, 'textShadowOffsetY') && (out.textShadowOffsetY = richItem.textShadowOffsetY);\r\n}\r\n\r\nexport function warnDeprecated(deprecated, insteadApproach) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    var key = deprecated + '^_^' + insteadApproach;\r\n\r\n    if (!deprecatedLogs[key]) {\r\n      console.warn(\"[ECharts] DEPRECATED: \\\"\" + deprecated + \"\\\" has been deprecated. \" + insteadApproach);\r\n      deprecatedLogs[key] = true;\r\n    }\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { makeInner, normalizeToArray } from '../util/model.js';\r\nimport { assert, bind, each, eqNaN, extend, hasOwn, indexOf, isArrayLike, keys, reduce } from 'zrender/lib/core/util.js';\r\nimport { cloneValue } from 'zrender/lib/animation/Animator.js';\r\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\r\nimport { getAnimationConfig } from './basicTransition.js';\r\nimport { Path } from '../util/graphic.js';\r\nimport { warn } from '../util/log.js';\r\nimport { TRANSFORMABLE_PROPS } from 'zrender/lib/core/Transformable.js';\r\nvar LEGACY_TRANSFORM_PROPS_MAP = {\r\n  position: ['x', 'y'],\r\n  scale: ['scaleX', 'scaleY'],\r\n  origin: ['originX', 'originY']\r\n};\r\nvar LEGACY_TRANSFORM_PROPS = keys(LEGACY_TRANSFORM_PROPS_MAP);\r\nvar TRANSFORM_PROPS_MAP = reduce(TRANSFORMABLE_PROPS, function (obj, key) {\r\n  obj[key] = 1;\r\n  return obj;\r\n}, {});\r\nvar transformPropNamesStr = TRANSFORMABLE_PROPS.join(', '); // '' means root\r\n\r\nexport var ELEMENT_ANIMATABLE_PROPS = ['', 'style', 'shape', 'extra'];\r\n;\r\nvar transitionInnerStore = makeInner();\r\n;\r\n\r\nfunction getElementAnimationConfig(animationType, el, elOption, parentModel, dataIndex) {\r\n  var animationProp = animationType + \"Animation\";\r\n  var config = getAnimationConfig(animationType, parentModel, dataIndex) || {};\r\n  var userDuring = transitionInnerStore(el).userDuring; // Only set when duration is > 0 and it's need to be animated.\r\n\r\n  if (config.duration > 0) {\r\n    // For simplicity, if during not specified, the previous during will not work any more.\r\n    config.during = userDuring ? bind(duringCall, {\r\n      el: el,\r\n      userDuring: userDuring\r\n    }) : null;\r\n    config.setToFinal = true;\r\n    config.scope = animationType;\r\n  }\r\n\r\n  extend(config, elOption[animationProp]);\r\n  return config;\r\n}\r\n\r\nexport function applyUpdateTransition(el, elOption, animatableModel, opts) {\r\n  opts = opts || {};\r\n  var dataIndex = opts.dataIndex,\r\n      isInit = opts.isInit,\r\n      clearStyle = opts.clearStyle;\r\n  var hasAnimation = animatableModel.isAnimationEnabled(); // Save the meta info for further morphing. Like apply on the sub morphing elements.\r\n\r\n  var store = transitionInnerStore(el);\r\n  var styleOpt = elOption.style;\r\n  store.userDuring = elOption.during;\r\n  var transFromProps = {};\r\n  var propsToSet = {};\r\n  prepareTransformAllPropsFinal(el, elOption, propsToSet);\r\n  prepareShapeOrExtraAllPropsFinal('shape', elOption, propsToSet);\r\n  prepareShapeOrExtraAllPropsFinal('extra', elOption, propsToSet);\r\n\r\n  if (!isInit && hasAnimation) {\r\n    prepareTransformTransitionFrom(el, elOption, transFromProps);\r\n    prepareShapeOrExtraTransitionFrom('shape', el, elOption, transFromProps);\r\n    prepareShapeOrExtraTransitionFrom('extra', el, elOption, transFromProps);\r\n    prepareStyleTransitionFrom(el, elOption, styleOpt, transFromProps);\r\n  }\r\n\r\n  propsToSet.style = styleOpt;\r\n  applyPropsDirectly(el, propsToSet, clearStyle);\r\n  applyMiscProps(el, elOption);\r\n\r\n  if (hasAnimation) {\r\n    if (isInit) {\r\n      var enterFromProps_1 = {};\r\n      each(ELEMENT_ANIMATABLE_PROPS, function (propName) {\r\n        var prop = propName ? elOption[propName] : elOption;\r\n\r\n        if (prop && prop.enterFrom) {\r\n          if (propName) {\r\n            enterFromProps_1[propName] = enterFromProps_1[propName] || {};\r\n          }\r\n\r\n          extend(propName ? enterFromProps_1[propName] : enterFromProps_1, prop.enterFrom);\r\n        }\r\n      });\r\n      var config = getElementAnimationConfig('enter', el, elOption, animatableModel, dataIndex);\r\n\r\n      if (config.duration > 0) {\r\n        el.animateFrom(enterFromProps_1, config);\r\n      }\r\n    } else {\r\n      applyPropsTransition(el, elOption, dataIndex || 0, animatableModel, transFromProps);\r\n    }\r\n  } // Store leave to be used in leave transition.\r\n\r\n\r\n  updateLeaveTo(el, elOption);\r\n  styleOpt ? el.dirty() : el.markRedraw();\r\n}\r\nexport function updateLeaveTo(el, elOption) {\r\n  // Try merge to previous set leaveTo\r\n  var leaveToProps = transitionInnerStore(el).leaveToProps;\r\n\r\n  for (var i = 0; i < ELEMENT_ANIMATABLE_PROPS.length; i++) {\r\n    var propName = ELEMENT_ANIMATABLE_PROPS[i];\r\n    var prop = propName ? elOption[propName] : elOption;\r\n\r\n    if (prop && prop.leaveTo) {\r\n      if (!leaveToProps) {\r\n        leaveToProps = transitionInnerStore(el).leaveToProps = {};\r\n      }\r\n\r\n      if (propName) {\r\n        leaveToProps[propName] = leaveToProps[propName] || {};\r\n      }\r\n\r\n      extend(propName ? leaveToProps[propName] : leaveToProps, prop.leaveTo);\r\n    }\r\n  }\r\n}\r\nexport function applyLeaveTransition(el, elOption, animatableModel, onRemove) {\r\n  if (el) {\r\n    var parent_1 = el.parent;\r\n    var leaveToProps = transitionInnerStore(el).leaveToProps;\r\n\r\n    if (leaveToProps) {\r\n      // TODO TODO use leave after leaveAnimation in series is introduced\r\n      // TODO Data index?\r\n      var config = getElementAnimationConfig('update', el, elOption, animatableModel, 0);\r\n\r\n      config.done = function () {\r\n        parent_1.remove(el);\r\n        onRemove && onRemove();\r\n      };\r\n\r\n      el.animateTo(leaveToProps, config);\r\n    } else {\r\n      parent_1.remove(el);\r\n      onRemove && onRemove();\r\n    }\r\n  }\r\n}\r\nexport function isTransitionAll(transition) {\r\n  return transition === 'all';\r\n}\r\n\r\nfunction applyPropsDirectly(el, // Can be null/undefined\r\nallPropsFinal, clearStyle) {\r\n  var styleOpt = allPropsFinal.style;\r\n\r\n  if (!el.isGroup && styleOpt) {\r\n    if (clearStyle) {\r\n      el.useStyle({}); // When style object changed, how to trade the existing animation?\r\n      // It is probably complicated and not needed to cover all the cases.\r\n      // But still need consider the case:\r\n      // (1) When using init animation on `style.opacity`, and before the animation\r\n      //     ended users triggers an update by mousewhel. At that time the init\r\n      //     animation should better be continued rather than terminated.\r\n      //     So after `useStyle` called, we should change the animation target manually\r\n      //     to continue the effect of the init animation.\r\n      // (2) PENDING: If the previous animation targeted at a `val1`, and currently we need\r\n      //     to update the value to `val2` and no animation declared, should be terminate\r\n      //     the previous animation or just modify the target of the animation?\r\n      //     Therotically That will happen not only on `style` but also on `shape` and\r\n      //     `transfrom` props. But we haven't handle this case at present yet.\r\n      // (3) PENDING: Is it proper to visit `animators` and `targetName`?\r\n\r\n      var animators = el.animators;\r\n\r\n      for (var i = 0; i < animators.length; i++) {\r\n        var animator = animators[i]; // targetName is the \"topKey\".\r\n\r\n        if (animator.targetName === 'style') {\r\n          animator.changeTarget(el.style);\r\n        }\r\n      }\r\n    }\r\n\r\n    el.setStyle(styleOpt);\r\n  }\r\n\r\n  if (allPropsFinal) {\r\n    // Not set style here.\r\n    allPropsFinal.style = null; // Set el to the final state firstly.\r\n\r\n    allPropsFinal && el.attr(allPropsFinal);\r\n    allPropsFinal.style = styleOpt;\r\n  }\r\n}\r\n\r\nfunction applyPropsTransition(el, elOption, dataIndex, model, // Can be null/undefined\r\ntransFromProps) {\r\n  if (transFromProps) {\r\n    var config = getElementAnimationConfig('update', el, elOption, model, dataIndex);\r\n\r\n    if (config.duration > 0) {\r\n      el.animateFrom(transFromProps, config);\r\n    }\r\n  }\r\n}\r\n\r\nfunction applyMiscProps(el, elOption) {\r\n  // Merge by default.\r\n  hasOwn(elOption, 'silent') && (el.silent = elOption.silent);\r\n  hasOwn(elOption, 'ignore') && (el.ignore = elOption.ignore);\r\n\r\n  if (el instanceof Displayable) {\r\n    hasOwn(elOption, 'invisible') && (el.invisible = elOption.invisible);\r\n  }\r\n\r\n  if (el instanceof Path) {\r\n    hasOwn(elOption, 'autoBatch') && (el.autoBatch = elOption.autoBatch);\r\n  }\r\n} // Use it to avoid it be exposed to user.\r\n\r\n\r\nvar tmpDuringScope = {};\r\nvar transitionDuringAPI = {\r\n  // Usually other props do not need to be changed in animation during.\r\n  setTransform: function (key, val) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(hasOwn(TRANSFORM_PROPS_MAP, key), 'Only ' + transformPropNamesStr + ' available in `setTransform`.');\r\n    }\r\n\r\n    tmpDuringScope.el[key] = val;\r\n    return this;\r\n  },\r\n  getTransform: function (key) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(hasOwn(TRANSFORM_PROPS_MAP, key), 'Only ' + transformPropNamesStr + ' available in `getTransform`.');\r\n    }\r\n\r\n    return tmpDuringScope.el[key];\r\n  },\r\n  setShape: function (key, val) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assertNotReserved(key);\r\n    }\r\n\r\n    var el = tmpDuringScope.el;\r\n    var shape = el.shape || (el.shape = {});\r\n    shape[key] = val;\r\n    el.dirtyShape && el.dirtyShape();\r\n    return this;\r\n  },\r\n  getShape: function (key) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assertNotReserved(key);\r\n    }\r\n\r\n    var shape = tmpDuringScope.el.shape;\r\n\r\n    if (shape) {\r\n      return shape[key];\r\n    }\r\n  },\r\n  setStyle: function (key, val) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assertNotReserved(key);\r\n    }\r\n\r\n    var el = tmpDuringScope.el;\r\n    var style = el.style;\r\n\r\n    if (style) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (eqNaN(val)) {\r\n          warn('style.' + key + ' must not be assigned with NaN.');\r\n        }\r\n      }\r\n\r\n      style[key] = val;\r\n      el.dirtyStyle && el.dirtyStyle();\r\n    }\r\n\r\n    return this;\r\n  },\r\n  getStyle: function (key) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assertNotReserved(key);\r\n    }\r\n\r\n    var style = tmpDuringScope.el.style;\r\n\r\n    if (style) {\r\n      return style[key];\r\n    }\r\n  },\r\n  setExtra: function (key, val) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assertNotReserved(key);\r\n    }\r\n\r\n    var extra = tmpDuringScope.el.extra || (tmpDuringScope.el.extra = {});\r\n    extra[key] = val;\r\n    return this;\r\n  },\r\n  getExtra: function (key) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assertNotReserved(key);\r\n    }\r\n\r\n    var extra = tmpDuringScope.el.extra;\r\n\r\n    if (extra) {\r\n      return extra[key];\r\n    }\r\n  }\r\n};\r\n\r\nfunction assertNotReserved(key) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (key === 'transition' || key === 'enterFrom' || key === 'leaveTo') {\r\n      throw new Error('key must not be \"' + key + '\"');\r\n    }\r\n  }\r\n}\r\n\r\nfunction duringCall() {\r\n  // Do not provide \"percent\" until some requirements come.\r\n  // Because consider thies case:\r\n  // enterFrom: {x: 100, y: 30}, transition: 'x'.\r\n  // And enter duration is different from update duration.\r\n  // Thus it might be confused about the meaning of \"percent\" in during callback.\r\n  var scope = this;\r\n  var el = scope.el;\r\n\r\n  if (!el) {\r\n    return;\r\n  } // If el is remove from zr by reason like legend, during still need to called,\r\n  // because el will be added back to zr and the prop value should not be incorrect.\r\n\r\n\r\n  var latestUserDuring = transitionInnerStore(el).userDuring;\r\n  var scopeUserDuring = scope.userDuring; // Ensured a during is only called once in each animation frame.\r\n  // If a during is called multiple times in one frame, maybe some users' calculation logic\r\n  // might be wrong (not sure whether this usage exists).\r\n  // The case of a during might be called twice can be: by default there is a animator for\r\n  // 'x', 'y' when init. Before the init animation finished, call `setOption` to start\r\n  // another animators for 'style'/'shape'/'extra'.\r\n\r\n  if (latestUserDuring !== scopeUserDuring) {\r\n    // release\r\n    scope.el = scope.userDuring = null;\r\n    return;\r\n  }\r\n\r\n  tmpDuringScope.el = el; // Give no `this` to user in \"during\" calling.\r\n\r\n  scopeUserDuring(transitionDuringAPI); // FIXME: if in future meet the case that some prop will be both modified in `during` and `state`,\r\n  // consider the issue that the prop might be incorrect when return to \"normal\" state.\r\n}\r\n\r\nfunction prepareShapeOrExtraTransitionFrom(mainAttr, fromEl, elOption, transFromProps) {\r\n  var attrOpt = elOption[mainAttr];\r\n\r\n  if (!attrOpt) {\r\n    return;\r\n  }\r\n\r\n  var elPropsInAttr = fromEl[mainAttr];\r\n  var transFromPropsInAttr;\r\n\r\n  if (elPropsInAttr) {\r\n    var transition = elOption.transition;\r\n    var attrTransition = attrOpt.transition;\r\n\r\n    if (attrTransition) {\r\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\r\n\r\n      if (isTransitionAll(attrTransition)) {\r\n        extend(transFromPropsInAttr, elPropsInAttr);\r\n      } else {\r\n        var transitionKeys = normalizeToArray(attrTransition);\r\n\r\n        for (var i = 0; i < transitionKeys.length; i++) {\r\n          var key = transitionKeys[i];\r\n          var elVal = elPropsInAttr[key];\r\n          transFromPropsInAttr[key] = elVal;\r\n        }\r\n      }\r\n    } else if (isTransitionAll(transition) || indexOf(transition, mainAttr) >= 0) {\r\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\r\n      var elPropsInAttrKeys = keys(elPropsInAttr);\r\n\r\n      for (var i = 0; i < elPropsInAttrKeys.length; i++) {\r\n        var key = elPropsInAttrKeys[i];\r\n        var elVal = elPropsInAttr[key];\r\n\r\n        if (isNonStyleTransitionEnabled(attrOpt[key], elVal)) {\r\n          transFromPropsInAttr[key] = elVal;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction prepareShapeOrExtraAllPropsFinal(mainAttr, elOption, allProps) {\r\n  var attrOpt = elOption[mainAttr];\r\n\r\n  if (!attrOpt) {\r\n    return;\r\n  }\r\n\r\n  var allPropsInAttr = allProps[mainAttr] = {};\r\n  var keysInAttr = keys(attrOpt);\r\n\r\n  for (var i = 0; i < keysInAttr.length; i++) {\r\n    var key = keysInAttr[i]; // To avoid share one object with different element, and\r\n    // to avoid user modify the object inexpectedly, have to clone.\r\n\r\n    allPropsInAttr[key] = cloneValue(attrOpt[key]);\r\n  }\r\n}\r\n\r\nfunction prepareTransformTransitionFrom(el, elOption, transFromProps) {\r\n  var transition = elOption.transition;\r\n  var transitionKeys = isTransitionAll(transition) ? TRANSFORMABLE_PROPS : normalizeToArray(transition || []);\r\n\r\n  for (var i = 0; i < transitionKeys.length; i++) {\r\n    var key = transitionKeys[i];\r\n\r\n    if (key === 'style' || key === 'shape' || key === 'extra') {\r\n      continue;\r\n    }\r\n\r\n    var elVal = el[key];\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      checkTransformPropRefer(key, 'el.transition');\r\n    } // Do not clone, animator will perform that clone.\r\n\r\n\r\n    transFromProps[key] = elVal;\r\n  }\r\n}\r\n\r\nfunction prepareTransformAllPropsFinal(el, elOption, allProps) {\r\n  for (var i = 0; i < LEGACY_TRANSFORM_PROPS.length; i++) {\r\n    var legacyName = LEGACY_TRANSFORM_PROPS[i];\r\n    var xyName = LEGACY_TRANSFORM_PROPS_MAP[legacyName];\r\n    var legacyArr = elOption[legacyName];\r\n\r\n    if (legacyArr) {\r\n      allProps[xyName[0]] = legacyArr[0];\r\n      allProps[xyName[1]] = legacyArr[1];\r\n    }\r\n  }\r\n\r\n  for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {\r\n    var key = TRANSFORMABLE_PROPS[i];\r\n\r\n    if (elOption[key] != null) {\r\n      allProps[key] = elOption[key];\r\n    }\r\n  }\r\n}\r\n\r\nfunction prepareStyleTransitionFrom(fromEl, elOption, styleOpt, transFromProps) {\r\n  if (!styleOpt) {\r\n    return;\r\n  }\r\n\r\n  var fromElStyle = fromEl.style;\r\n  var transFromStyleProps;\r\n\r\n  if (fromElStyle) {\r\n    var styleTransition = styleOpt.transition;\r\n    var elTransition = elOption.transition;\r\n\r\n    if (styleTransition && !isTransitionAll(styleTransition)) {\r\n      var transitionKeys = normalizeToArray(styleTransition);\r\n      !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\r\n\r\n      for (var i = 0; i < transitionKeys.length; i++) {\r\n        var key = transitionKeys[i];\r\n        var elVal = fromElStyle[key]; // Do not clone, see `checkNonStyleTansitionRefer`.\r\n\r\n        transFromStyleProps[key] = elVal;\r\n      }\r\n    } else if (fromEl.getAnimationStyleProps && (isTransitionAll(elTransition) || isTransitionAll(styleTransition) || indexOf(elTransition, 'style') >= 0)) {\r\n      var animationProps = fromEl.getAnimationStyleProps();\r\n      var animationStyleProps = animationProps ? animationProps.style : null;\r\n\r\n      if (animationStyleProps) {\r\n        !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\r\n        var styleKeys = keys(styleOpt);\r\n\r\n        for (var i = 0; i < styleKeys.length; i++) {\r\n          var key = styleKeys[i];\r\n\r\n          if (animationStyleProps[key]) {\r\n            var elVal = fromElStyle[key];\r\n            transFromStyleProps[key] = elVal;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction isNonStyleTransitionEnabled(optVal, elVal) {\r\n  // The same as `checkNonStyleTansitionRefer`.\r\n  return !isArrayLike(optVal) ? optVal != null && isFinite(optVal) : optVal !== elVal;\r\n}\r\n\r\nvar checkTransformPropRefer;\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  checkTransformPropRefer = function (key, usedIn) {\r\n    if (!hasOwn(TRANSFORM_PROPS_MAP, key)) {\r\n      warn('Prop `' + key + '` is not a permitted in `' + usedIn + '`. ' + 'Only `' + keys(TRANSFORM_PROPS_MAP).join('`, `') + '` are permitted.');\r\n    }\r\n  };\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { keys, filter, each, isArray, indexOf } from 'zrender/lib/core/util.js';\r\nimport { ELEMENT_ANIMATABLE_PROPS } from './customGraphicTransition.js';\r\nimport { getAnimationConfig } from './basicTransition.js';\r\nimport { warn } from '../util/log.js';\r\nimport { makeInner } from '../util/model.js';\r\nvar getStateToRestore = makeInner();\r\nvar KEYFRAME_EXCLUDE_KEYS = ['percent', 'easing', 'shape', 'style', 'extra'];\r\n/**\r\n * Stop previous keyframe animation and restore the attributes.\r\n * Avoid new keyframe animation starts with wrong internal state when the percent: 0 is not set.\r\n */\r\n\r\nexport function stopPreviousKeyframeAnimationAndRestore(el) {\r\n  // Stop previous keyframe animation.\r\n  el.stopAnimation('keyframe'); // Restore\r\n\r\n  el.attr(getStateToRestore(el));\r\n}\r\nexport function applyKeyframeAnimation(el, animationOpts, animatableModel) {\r\n  if (!animatableModel.isAnimationEnabled() || !animationOpts) {\r\n    return;\r\n  }\r\n\r\n  if (isArray(animationOpts)) {\r\n    each(animationOpts, function (singleAnimationOpts) {\r\n      applyKeyframeAnimation(el, singleAnimationOpts, animatableModel);\r\n    });\r\n    return;\r\n  }\r\n\r\n  var keyframes = animationOpts.keyframes;\r\n  var duration = animationOpts.duration;\r\n\r\n  if (animatableModel && duration == null) {\r\n    // Default to use duration of config.\r\n    // NOTE: animation config from payload will be ignored because they are mainly for transitions.\r\n    var config = getAnimationConfig('enter', animatableModel, 0);\r\n    duration = config && config.duration;\r\n  }\r\n\r\n  if (!keyframes || !duration) {\r\n    return;\r\n  }\r\n\r\n  var stateToRestore = getStateToRestore(el);\r\n  each(ELEMENT_ANIMATABLE_PROPS, function (targetPropName) {\r\n    if (targetPropName && !el[targetPropName]) {\r\n      return;\r\n    }\r\n\r\n    var animator;\r\n    var endFrameIsSet = false; // Sort keyframes by percent.\r\n\r\n    keyframes.sort(function (a, b) {\r\n      return a.percent - b.percent;\r\n    });\r\n    each(keyframes, function (kf) {\r\n      // Stop current animation.\r\n      var animators = el.animators;\r\n      var kfValues = targetPropName ? kf[targetPropName] : kf;\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (kf.percent >= 1) {\r\n          endFrameIsSet = true;\r\n        }\r\n      }\r\n\r\n      if (!kfValues) {\r\n        return;\r\n      }\r\n\r\n      var propKeys = keys(kfValues);\r\n\r\n      if (!targetPropName) {\r\n        // PENDING performance?\r\n        propKeys = filter(propKeys, function (key) {\r\n          return indexOf(KEYFRAME_EXCLUDE_KEYS, key) < 0;\r\n        });\r\n      }\r\n\r\n      if (!propKeys.length) {\r\n        return;\r\n      }\r\n\r\n      if (!animator) {\r\n        animator = el.animate(targetPropName, animationOpts.loop, true);\r\n        animator.scope = 'keyframe';\r\n      }\r\n\r\n      for (var i = 0; i < animators.length; i++) {\r\n        // Stop all other animation that is not keyframe.\r\n        if (animators[i] !== animator && animators[i].targetName === animator.targetName) {\r\n          animators[i].stopTracks(propKeys);\r\n        }\r\n      }\r\n\r\n      targetPropName && (stateToRestore[targetPropName] = stateToRestore[targetPropName] || {});\r\n      var savedTarget = targetPropName ? stateToRestore[targetPropName] : stateToRestore;\r\n      each(propKeys, function (key) {\r\n        // Save original value.\r\n        savedTarget[key] = ((targetPropName ? el[targetPropName] : el) || {})[key];\r\n      });\r\n      animator.whenWithKeys(duration * kf.percent, kfValues, propKeys, kf.easing);\r\n    });\r\n\r\n    if (!animator) {\r\n      return;\r\n    }\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (!endFrameIsSet) {\r\n        warn('End frame with percent: 1 is missing in the keyframeAnimation.', true);\r\n      }\r\n    }\r\n\r\n    animator.delay(animationOpts.delay || 0).duration(duration).start(animationOpts.easing);\r\n  });\r\n}"],
  "mappings": "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",
  "names": ["GridModel", "CartesianAxisModel", "defaultOption", "AxisModel", "Cartesian", "scale", "Cartesian2D", "Axis2D", "scale", "asc", "layout", "scale", "min", "max", "Grid", "scale", "axis", "AxisBuilder", "scale", "AxisView", "Component_default", "CartesianAxisView", "layout", "CartesianXAxisView", "CartesianYAxisView", "GridView", "Component_default", "RadarModel", "scale", "axisBuilderAttrs", "RadarView", "colorIndex", "points", "splitAreas", "splitLines", "Component_default", "IndicatorAxis", "scale", "Radar", "install", "View", "copy", "SVGParser", "stop", "points", "type", "value", "scale", "GeoSVGResource", "points", "GeoJSONResource", "Geo", "map", "geoCoord", "getCoordSys", "getCoordSys", "geoCoord", "GeoCreator", "GeoModel", "RoamController", "scale", "MapDraw", "points", "GeoView", "Component_default", "install", "actionInfo", "ParallelView", "Component_default", "ParallelModel", "ParallelAxis", "scale", "extend", "each", "round", "PI", "Parallel", "layout", "restrict", "applyTransform", "ParallelAxisModel", "mathMin", "mathMax", "BrushController", "panelOpts", "trigger", "trigger", "mathMax", "min", "mathMin", "max", "getTransform", "map", "points", "ParallelAxisView", "Component_default", "install", "Symbol", "idx", "scale", "SymbolDraw", "el", "each", "isObject", "VisualMapping", "StraightLineShape", "CurveShape", "ECLinePath", "createSymbol", "points", "Line", "percent", "tangent", "Line_default", "LineDraw", "Line_default", "makeSeriesScope", "el"]
}
